<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Troubleshoot issues during initial setup | WIKA Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Troubleshoot issues during initial setup | WIKA Documentation ">
    <meta name="generator" content="docfx 2.56.6.0">
    
    <link rel="shortcut icon" href="../../../../../microsoft-dynamics-crm-365-icon.ico">
    <link rel="stylesheet" href="../../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../../styles/main.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 
    <meta property="docfx:navrel" content="../../../../../toc.html">
    <meta property="docfx:tocrel" content="../../toc.html">
    
    
    
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../../../index.html">
                <img id="logo" class="svg" src="../../../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="troubleshoot-issues-during-initial-setup">Troubleshoot issues during initial setup</h1>

[!include[rename-banner](~/includes/cc-data-platform-banner.md)]
<p>This topic provides troubleshooting information for dual-write integration between Finance and Operations apps and Dataverse. Specifically, it provides information that can help you fix issues that might occur during the initial setup of dual-write integration.</p>
<div class="IMPORTANT">
<h5>Important</h5>
<p>Some of the issues that this topic addresses might require either the system admin role or Microsoft Azure Active Directory (Azure AD) tenant admin credentials. The section for each issue explains whether a specific role or credentials are required.</p>
</div>
<h2 id="you-cant-link-a-finance-and-operations-app-to-dataverse">You can't link a Finance and Operations app to Dataverse</h2>
<p><strong>Required role to set up dual-write:</strong> System administrator in Finance and Operations apps and Dataverse.</p>
<p>Errors on the <strong>Setup link to Dataverse</strong> page are usually caused by incomplete setup or permissions issues. Make sure that the whole health check passes on the <strong>Setup link to Dataverse</strong> page, as shown in the following illustration. You can't link dual-write unless the whole health check passes.</p>
<p><img src="media/health_check.png" alt="Successful health check"></p>
<p>You must have Azure AD tenant admin credentials to link the Finance and Operations and Dataverse environments. After you link the environments, users can sign in by using their account credentials and update an existing table map.</p>
<h2 id="error-when-you-open-the-link-to-dataverse-page">Error when you open the Link to Dataverse page</h2>
<p><strong>Required credentials to fix the issue:</strong> Azure AD tenant admin</p>
<p>You might receive the following error message when you open the <strong>Link to Dataverse</strong> page in a Finance and Operations app:</p>
<p><em>Response status code does not indicate success: 404 (Not Found).</em></p>
<p>This error occurs when the consent step hasn't been completed. To validate whether the consent step has been completed, sign in to portal.Azure.com by using the Azure AD tenant admin account, and see whether the third-party app that has the ID <strong>33976c19-1db5-4c02-810e-c243db79efde</strong> appears in the Azure AD <strong>Enterprise applications</strong> list. If it doesn't, you must provide app consent.</p>
<p>To provide app consent, follow these steps.</p>
<ol>
<li><p>Open the following URL by using your admin credentials. You should be prompted for consent.</p>
<p><a href="https://login.microsoftonline.com/common/oauth2/authorize?client_id=33976c19-1db5-4c02-810e-c243db79efde&amp;response_type=code&amp;prompt=admin_consent">https://login.microsoftonline.com/common/oauth2/authorize?client_id=33976c19-1db5-4c02-810e-c243db79efde&amp;response_type=code&amp;prompt=admin_consent</a></p>
</li>
<li><p>Select <strong>Accept</strong> to indicate that you're giving your consent to install the app that has the ID <strong>33976c19-1db5-4c02-810e-c243db79efde</strong> in your tenant.</p>
<div class="TIP">
<h5>Tip</h5>
<p>This app is required to link Dataverse and Finance and Operations apps. If you have trouble with this step, open your browser in incognito mode (in Google Chrome) or InPrivate mode (in Microsoft Edge).</p>
</div>
</li>
</ol>
<h2 id="verify-that-company-data-and-dual-write-teams-are-set-up-correctly-during-linking">Verify that company data and dual-write teams are set up correctly during linking</h2>
<p>To ensure that dual-write works correctly, the companies that you select during configuration are created in the Dataverse environment. By default, these companies are read-only, and the <strong>IsDualWriteEnable</strong> property is set to <strong>True</strong>. In addition, the default owning business unit owner and team are created and include the company name. Before you enable the maps, verify that the default team owner is specified. To find the <strong>Companies (CDM_Company)</strong> table, follow these steps.</p>
<ol>
<li><p>In the model-driven app in Dynamics 365, select the filter in the upper-right corner.</p>
</li>
<li><p>In the drop-down list, select <strong>Company</strong>.</p>
</li>
<li><p>Select <strong>Run</strong> to see the results.</p>
</li>
<li><p>Select the company that was linked when you configured dual-write.</p>
</li>
<li><p>Verify that the <strong>Default owning team</strong> column has a value. In the following illustration, the <strong>Default owning team</strong> column is set to <strong>USMF Dual Write</strong>.</p>
<p><img src="media/default_owning_team.png" alt="Verifying the default owning team"></p>
</li>
</ol>
<h2 id="find-the-limit-on-the-number-of-legal-tables-or-companies-that-can-be-linked-for-dual-write">Find the limit on the number of legal tables or companies that can be linked for dual-write</h2>
<p>You might receive the following error message when you try to enable maps:</p>
<p><em>Dual write failure - Plugin registration failed: [(Unable to get partition map
for project
DWM-1ae35e60-4bc2-4905-88ea-69efd3b29260-7f12cb89-1550-42e2-858e-4761fc1443ea.
Error Exceeds the maximum partitions allowed for mapping
DWM-1ae35e60-4bc2-4905-88ea-69efd3b29260-7f12cb89-1550-42e2-858e-4761fc1443ea)],
One or more errors occurred.</em></p>
<p>The current limit when you link the environments is approximately 40 legal tables. This error occurs if you try to enable maps, and more than 40 legal tables are linked between the environments.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../../styles/main.js"></script>
  </body>
</html>
