<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Evaluate the initial customer payment prediction model (preview) | WIKA Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Evaluate the initial customer payment prediction model (preview) | WIKA Documentation ">
    <meta name="generator" content="docfx 2.56.6.0">
    
    <link rel="shortcut icon" href="../../../microsoft-dynamics-crm-365-icon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="../TOC.html">
    
    
    
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="evaluate-the-initial-customer-payment-prediction-model-preview" sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="32">Evaluate the initial customer payment prediction model (preview)</h1>

<div class="IMPORTANT" sourcefile="articles/finance/includes/preview-banner.md" sourcestartlinenumber="1">
<h5>Important</h5>
<p sourcefile="articles/finance/includes/preview-banner.md" sourcestartlinenumber="2">Some or all of the functionality noted in this topic is available as part of a preview release. The content and the functionality are subject to change. For more information about preview releases, see <a href="https://docs.microsoft.com/dynamics365/unified-operations/fin-and-ops/get-started/public-preview-releases" sourcefile="articles/finance/includes/preview-banner.md" sourcestartlinenumber="2">Service update availability</a>.</p>
</div>

<p sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="37">This topic explains how to evaluate a prediction model after you've turned on Finance Insights and then generated and trained your first model. This topic addresses models for predicting customer payments. It describes the steps that you can take to understand the customer payment prediction model and evaluate its effectiveness.</p>
<h2 id="getting-details-about-the-model" sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="39">Getting details about the model</h2>
<p sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="41">On the <strong sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="41">Finance Insights parameters</strong> page in Microsoft Dynamics 365 Finance, an <strong sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="41">Improve model accuracy</strong> link appears next to the accuracy score.</p>
<p sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="43"><a href="./media/prediction-model.png" sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="43"><img src="./media/prediction-model.png" sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="43" alt="Improve model accuracy link"></a></p>
<p sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="45">This link takes you to AI Builder, where you can learn more about the current model and also take steps to improve it. The following illustration shows the page that is opened.</p>
<p sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="47"><a href="./media/what-to-predict.png" sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="47"><img src="./media/what-to-predict.png" sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="47" alt="AI Builder"></a></p>
<p sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="49">The page that is opened shows the following information:</p>
<ul sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="51">
<li sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="51"><p sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="51">In the <strong sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="51">Performance</strong> section, the model performance grade provides perspective on the quality of the model. For more information about this grade, see <a href="https://docs.microsoft.com/ai-builder/prediction-performance" sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="51">Prediction model performance</a> in the AI Builder documentation.</p>
</li>
<li sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="52"><p sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="52">The <strong sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="52">Most influential data</strong> section shows how important different input types of data were for your model. You can evaluate this list and the corresponding percentages to determine whether the information is consistent with what you know about your business and market.</p>
<p sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="54"><a href="./media/models.png" sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="54"><img src="./media/models.png" sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="54" alt="Performance and Most influential data sections for the prediction model"></a></p>
</li>
<li sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="56"><p sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="56">In the <strong sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="56">Performance</strong> section, select <strong sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="56">See details</strong> to learn more about the grade and other considerations. In the following illustration, the details show that the model uses less information than is recommended. Therefore, the system has generated a warning message.</p>
<p sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="58"><a href="./media/details.png" sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="58"><img src="./media/details.png" sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="58" alt="Warnings about the model's performance"></a></p>
</li>
</ul>
<h2 id="digging-deeper" sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="60">Digging deeper</h2>
<p sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="62">Although accuracy is a good starting point for evaluating a model, and the performance grade provides perspective, AI Builder provides more detailed metrics that you can use for your evaluation. To download the details, in the <strong sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="62">Performance</strong> section, select the ellipsis button (<strong sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="62">...</strong>) next to the <strong sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="62">Use model</strong> button, and then select <strong sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="62">Download detailed metrics</strong>.</p>
<p sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="64"><a href="./media/performance.png" sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="64"><img src="./media/performance.png" sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="64" alt="Download detailed metrics command"></a></p>
<p sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="66">The following illustration shows the format that you can download the data in.</p>
<p sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="68"><a href="./media/data-format.png" sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="68"><img src="./media/data-format.png" sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="68" alt="Format of downloaded data"></a></p>
<p sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="70">For a deeper analysis of the results, a good starting point is to review the &quot;Confusion Matrix&quot; metric. For example, here is the data that is shown for this metric in the previous illustration.</p>
<p sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="72"><code sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="72">{&quot;name&quot;: &quot;Confusion Matrix&quot;, &quot;value&quot;: {&quot;schema_type&quot;: &quot;confusion_matrix&quot;, &quot;schema_version&quot;: &quot;1.0.0&quot;, &quot;data&quot;: {&quot;class_labels&quot;: [&quot;0&quot;, &quot;1&quot;, &quot;2&quot;], &quot;matrix&quot;: [[71, 9, 21], [5, 0, 27], [2, 0, 45]]}}, &quot;type&quot;: &quot;dictionaryNumericalList&quot;, &quot;isGlobalScore&quot;: false}</code></p>
<p sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="74">You can expand this data in the following way.</p>
<table sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="76">
<thead>
<tr sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="76">
<th sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="76"></th>
<th sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="76">Predicted On time</th>
<th sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="76">Predicted Late</th>
<th sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="76">Predicted Very late</th>
</tr>
</thead>
<tbody>
<tr sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="78">
<td sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="78">Actual on time payment</td>
<td sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="78"><strong sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="78">71</strong></td>
<td sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="78">0</td>
<td sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="78">21</td>
</tr>
<tr sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="79">
<td sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="79">Actual late payment</td>
<td sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="79">5</td>
<td sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="79"><strong sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="79">0</strong></td>
<td sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="79">27</td>
</tr>
<tr sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="80">
<td sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="80">Actual very late payment</td>
<td sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="80">2</td>
<td sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="80">0</td>
<td sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="80"><strong sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="80">45</strong></td>
</tr>
</tbody>
</table>
<p sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="82">The confusion matrix shows the results of a randomly selected test dataset from the training process. Because these closed invoices weren't used to train the model, they are good test cases for the model. Additionally, because the actual state of the invoice is known, the model's performance can also be seen.</p>
<p sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="84">The first thing to look for is the most common actual value. Although this value might not be perfectly aligned with the overall dataset, it's a reasonable approximation. In this case, <strong sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="84">Actual on time payment</strong> occurs for 92 of the 171 total invoices and is the most common actual value. Therefore, it's a good baseline for your model. If you just guessed that all invoices would be on time, you would be correct 92 out of 171 times (that is, 54 percent of the time).</p>
<p sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="86">It's important that you understand how balanced your dataset is. In this case, 92 out of 171 invoices were paid on time, 32 were paid late, and 47 were paid very late. These values indicate a reasonably balanced dataset, because there are non-trivial results in each classification. A situation where one of the states has very few results can be challenging for a machine learning model.</p>
<p sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="88">The accuracy of the model indicates the number of correct predictions for the test dataset. These correct predictions are the values that are shown in bold in the preceding example. In this case, the values produce a calculated accuracy of 67.8 percent (= [71 + 0 + 45] รท 171). This value represents an improvement of 14 percent over the baseline guess of 54 percent and is one indicator of the model's quality.</p>
<p sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="90">If you look more closely at the confusion matrix, you will notice that the model does a good job of predicting on-time and very late invoice payments. However, it's wrong about all 32 invoices that were actually paid late (but not very late). This result suggests that additional exploration and improvement of the model are required.</p>
<p sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="92">A number that represents the performance of the model better than accuracy is the F1 Macro score. This score considers the results of each classification state (on-time, late, and very late). For example, here is the data that is shown for the &quot;F1 Macro&quot; metric in the previous illustration.</p>
<p sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="94"><code sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="94">{&quot;name&quot;: &quot;F1 Macro&quot;, &quot;value&quot;: 0.4927170868347339, &quot;type&quot;: &quot;percentage&quot;, &quot;isGlobalScore&quot;: false}</code></p>
<p sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="96">In this case, the F1 Macro score of approximately 49.3 percent indicates that the model doesn't provide effective predictions across each state, despite an overall accuracy score that seems reasonably high.</p>
<h2 id="improving-the-model" sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="98">Improving the model</h2>
<p sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="100">After you understand the results of your first model better, you might want to improve the model by adding or removing feature columns, or by filtering any parts of the dataset that don't support accurate predictions. Close AI Builder, and then use the <strong sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="100">Improve model</strong> link in Dynamics 365 Finance to restart the AI Builder process. You can experiment with different characteristics without affecting the published model. The published model is affected only when you select <strong sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="100">Publish</strong>. Remember that a single model is used for your instance of Dynamics 365 Finance. Therefore, you should carefully review any new model before you publish it.</p>
<h2 id="for-more-information" sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="102">For more information</h2>
<p sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="104">For more information about how to evaluate prediction models, <a href="/confusion-matrix.md" sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="104">Results of machine learning models</a></p>
<h4 id="privacy-notice" sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="106">Privacy notice</h4>
<p sourcefile="articles/finance/finance-insights/evaluate-payment-prediction.md" sourcestartlinenumber="107">Previews (1) might use less privacy and fewer security measures than the Dynamics 365 Finance and Operations service, (2) aren't included in the service level agreement (SLA) for this service, (3) should not be used to process personal data or other data that is subject to legal or regulatory compliance requirements, and (4) have limited support.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
