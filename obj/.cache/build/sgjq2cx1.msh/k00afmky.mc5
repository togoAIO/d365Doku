<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>General troubleshooting | WIKA Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="General troubleshooting | WIKA Documentation ">
    <meta name="generator" content="docfx 2.56.6.0">
    
    <link rel="shortcut icon" href="../../../../../microsoft-dynamics-crm-365-icon.ico">
    <link rel="stylesheet" href="../../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../../styles/main.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 
    <meta property="docfx:navrel" content="../../../../../toc.html">
    <meta property="docfx:tocrel" content="../../toc.html">
    
    
    
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../../../index.html">
                <img id="logo" class="svg" src="../../../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="general-troubleshooting">General troubleshooting</h1>

[!include[rename-banner](~/includes/cc-data-platform-banner.md)]
<p>This topic provides general troubleshooting information for dual-write integration between Finance and Operations apps and Dataverse.</p>
<div class="IMPORTANT">
<h5>Important</h5>
<p>Some of the issues that this topic addresses might require either the system admin role or Microsoft Azure Active Directory (Azure AD) tenant admin credentials. The section for each issue explains whether a specific role or credentials are required.</p>
</div>
<h2 id="when-you-try-to-install-the-dual-write-package-by-using-the-package-deployer-tool-no-available-solutions-are-shown">When you try to install the dual-write package by using the package deployer tool, no available solutions are shown</h2>
<p>Some versions of the package deployer tool are incompatible with the dual-write solution package. To successfully install the package, be sure to use <a href="https://www.nuget.org/packages/Microsoft.CrmSdk.XrmTooling.PackageDeployment.Wpf/9.1.0.20">version 9.1.0.20</a> or later of the package deployer tool.</p>
<p>After you install the package deployer tool, install the solution package by following these steps.</p>
<ol>
<li><p>Download the latest solution package file from Yammer.com. After the package zip file is downloaded, right-click it, and select <strong>Properties</strong>. Select the <strong>Unblock</strong> check box, and then select <strong>Apply</strong>. If you don't see the <strong>Unblock</strong> check box, the zip file is already unblocked, and you can skip this step.</p>
<p><img src="media/unblock_option.png" alt="Properties dialog box"></p>
</li>
<li><p>Extract the package zip file, and copy all the files in the <strong>Dynamics365FinanceAndOperationsCommon.PackageDeployer.2.0.438</strong> folder.</p>
<p><img src="media/extract_package.png" alt="Contents of the Dynamics365FinanceAndOperationsCommon.PackageDeployer.2.0.438 folder"></p>
</li>
<li><p>Paste all the copied files into the <strong>Tools</strong> folder of the package deployer tool.</p>
</li>
<li><p>Run <strong>PackageDeployer.exe</strong> to select the Dataverse environment and install the solutions.</p>
<p><img src="media/paste_copied_files.png" alt="Content of the Tools folder"></p>
</li>
</ol>
<h2 id="enable-view-trace">Enable and view the plug-in trace log in Dataverse to view error details</h2>
<p><strong>Required role to turn on the trace log and view errors:</strong> System admin</p>
<p>To turn on the trace log, follow these steps.</p>
<ol>
<li>Sign in to the model-driven app in Dynamics 365, open the <strong>Settings</strong> page, and then, under <strong>System</strong>, select <strong>Administration</strong>.</li>
<li>On the <strong>Administration</strong> page, select <strong>System Settings</strong>.</li>
<li>On the <strong>Customization</strong> tab, in the <strong>Plug-in and custom workflow activity tracing</strong> column, select <strong>All</strong> to enable the plug-in trace log. If you want to log trace logs only when exceptions occur, you can select <strong>Exception</strong> instead.</li>
</ol>
<p>To view the trace log, follow these steps.</p>
<ol>
<li>Sign in to the model-driven app in Dynamics 365, open the <strong>Settings</strong> page, and then, under <strong>Customization</strong>, select <strong>Plug-in Trace Log</strong>.</li>
<li>Find the trace logs where the <strong>Type Name</strong> column is set to <strong>Microsoft.Dynamics.Integrator.DualWriteRuntime.Plugins.PreCommmitPlugin</strong>.</li>
<li>Double-click an item to view the full log, and then, on the <strong>Execution</strong> FastTab, review the <strong>Message Block</strong> text.</li>
</ol>
<h2 id="enable-debug-mode-to-troubleshoot-live-synchronization-issues-in-finance-and-operations-apps">Enable debug mode to troubleshoot live synchronization issues in Finance and Operations apps</h2>
<p><strong>Required role to view the errors:</strong> System admin
Dual-write errors that originate in Dataverse can appear in the Finance and Operations app. In some cases, the full text of the error message isn't available because the message is too long or contains personally identifying information (PII). You can turn on verbose logging for errors by following these steps.</p>
<ol>
<li><p>All project configurations in Finance and Operations apps have an <strong>IsDebugMode</strong> property in the <strong>DualWriteProjectConfiguration</strong> table. Open the <strong>DualWriteProjectConfiguration</strong> table by using the Excel add-in.</p>
<div class="TIP">
<h5>Tip</h5>
<p>An easy way to open the table is to turn on <strong>Design</strong> mode in the Excel add-in and then add <strong>DualWriteProjectConfigurationEntity</strong> to the worksheet. For more information, see <a href="../../office-integration/use-excel-add-in.html">Open table data in Excel and update it by using the Excel add-in</a>.</p>
</div>
</li>
<li><p>Set the <strong>IsDebugMode</strong> property to <strong>Yes</strong> for the project.</p>
</li>
<li><p>Run the scenario that is generating errors.</p>
</li>
<li><p>The verbose logs are available in the DualWriteErrorLog table. To look up data in the table browser, use the following URL (replace <strong>XXX</strong> as appropriate):</p>
<p><code>https://XXXaos.cloudax.dynamics.com/?mi=SysTableBrowser&amp;tableName=DualWriteErrorLog</code></p>
</li>
</ol>
<h2 id="check-synchronization-errors-on-the-virtual-machine-for-the-finance-and-operations-app">Check synchronization errors on the virtual machine for the Finance and Operations app</h2>
<p><strong>Required role to view the errors:</strong> System administrator</p>
<ol>
<li>Sign in to Microsoft Dynamics Lifecycle Services (LCS).</li>
<li>Open the LCS project that you chose to do the dual-write testing for.</li>
<li>Select the <strong>Cloud-hosted environments</strong> tile.</li>
<li>Use Remote Desktop to sign in to the virtual machine (VM) for the Finance and Operations app. Use the local account that is shown in LCS.</li>
<li>Open Event viewer.</li>
<li>Select <strong>Applications and Services Logs &gt; Microsoft &gt; Dynamics &gt; AX-DualWriteSync &gt; Operational</strong>.</li>
<li>Review the list of recent errors.</li>
</ol>
<h2 id="unlink-and-link-another-dataverse-environment-from-a-finance-and-operations-app">Unlink and link another Dataverse environment from a Finance and Operations app</h2>
<p><strong>Required role to unlink the environment:</strong> System administrator for either Finance and Operations app or Dataverse.</p>
<ol>
<li>Sign in to the Finance and Operations app.</li>
<li>Go to <strong>Workspaces &gt; Data management</strong>, and select the <strong>Dual Write</strong> tile.</li>
<li>Select all running mappings, and then select <strong>Stop</strong>.</li>
<li>Select <strong>Unlink environment</strong>.</li>
<li>Select <strong>Yes</strong> to confirm the operation.</li>
</ol>
<p>You can now link a new environment.</p>
<h2 id="unable-to-view-the-sales-order-line-information-form">Unable to view the sales order line Information form</h2>
<p>When you create a sales order in Dynamics 365 Sales, clicking on <strong>+ Add products</strong> might redirect you to the Dynamics 365 Project Operations order line form. There is no way from that form to view the sales order line <strong>Information</strong> form. The option for <strong>Information</strong> does not appear in the dropdown below <strong>New Order Line</strong>. This happens because Project Operations has been installed in your environment.</p>
<p>To re-enable the <strong>Information</strong> form option, follow these steps:</p>
<ol>
<li>Navigate to the <strong>Order Line</strong> table.</li>
<li>Find the <strong>Information</strong> form under the forms node.</li>
<li>Select the <strong>Information</strong> form and click <strong>Enable security roles</strong>.</li>
<li>Change the security setting to <strong>Display to everyone</strong>.</li>
</ol>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../../styles/main.js"></script>
  </body>
</html>
