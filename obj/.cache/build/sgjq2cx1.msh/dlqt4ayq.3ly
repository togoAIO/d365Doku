<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Get started with the Electronic invoicing add-on for Italy | WIKA Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Get started with the Electronic invoicing add-on for Italy | WIKA Documentation ">
    <meta name="generator" content="docfx 2.56.6.0">
    
    <link rel="shortcut icon" href="../../../microsoft-dynamics-crm-365-icon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="../TOC.html">
    
    
    
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="get-started-with-the-electronic-invoicing-add-on-for-italy">Get started with the Electronic invoicing add-on for Italy</h1>


<div class="IMPORTANT">
<h5>Important</h5>
<p>The Electronic invoicing add-on for Italy might not currently support all the functions that are available for electronic invoices in Microsoft Dynamics 365 Finance and Dynamics 365 Supply Chain Management.</p>
</div>
<p>This topic provides information that will help you get started with the Electronic invoicing add-on for Italy. It guides you through the configuration steps that are country-dependent in Regulatory Configuration Services (RCS) and Finance. It also guides you through the process for submitting electronic invoices that are generated in the Italy-specific <strong>FatturaPA</strong> format through the service, and it explains how to review the results of processing.</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>Before you complete the steps in this topic, you must complete the steps in <a href="e-invoicing-get-started.html">Get started with the Electronic invoicing add-on</a>.</p>
<h2 id="rcs-setup">RCS setup</h2>
<p>During the RCS setup, you will complete these tasks:</p>
<ol>
<li>Import the e-Invoicing feature for the export of customer electronic invoices in the <strong>FatturaPA</strong> format.</li>
<li>Review the format configurations that are required to generate, submit, and receive responses about electronic invoices.</li>
<li>Configure the events that support the electronic invoice submission scenarios.</li>
<li>Publish the e-Invoicing feature.</li>
</ol>
<div class="NOTE">
<h5>Note</h5>
<p>&quot;The e-Invoicing feature&quot; is the generic name for the resource that is configured and published to consume the Electronic invoicing add-on server. In this case, the export of customer electronic invoices is the e-Invoicing feature that you will set up.</p>
</div>
<h2 id="import-the-e-invoicing-feature">Import the e-Invoicing feature</h2>
<ol>
<li><p>Sign in to your RCS account.</p>
</li>
<li><p>In the <strong>Globalization features</strong> workspace, in the <strong>Features</strong> section, select the <strong>e-Invoicing</strong> tile.</p>
</li>
<li><p>On the <strong>e-Invoicing Features</strong> page, select <strong>Import</strong> to import the e-Invoicing feature from the Global repository.</p>
<div class="NOTE">
<h5>Note</h5>
<p>If you don't see the list of available features, select <strong>Synchronize</strong>.</p>
</div>
</li>
<li><p>Select the <strong>e-Invoices Export (IT)</strong> feature, and then select <strong>Import</strong>.</p>
</li>
</ol>
<p><img src="media/e-Invoicing-services-get-started-ITA-Select-Import-e-Invoicing-feature.png" alt="Importing the e-Invoices Export (IT) feature"></p>
<p>When you import the <strong>e-Invoices Export (IT)</strong> feature from the Global repository, all the settings that are described in the next sections are also imported.</p>
<h2 id="create-a-new-version-of-the-e-invoices-export-it-feature">Create a new version of the e-Invoices Export (IT) feature</h2>
<ol>
<li><p>On the <strong>e-Invoicing Features</strong> page, on the <strong>Versions</strong> tab, select <strong>New</strong>.</p>
<p><img src="media/e-Invoicing-services-get-started-ITA-Select-New-e-Invoicing-feature-version.png" alt="Adding a new e-Invoicing feature version"></p>
<p>Next, you will configure the Electronic reporting (ER) formats that are associated with the e-Invoicing feature.</p>
</li>
<li><p>On the <strong>Configurations</strong> tab, select <strong>Add</strong> to manage the configuration versions.</p>
<p><img src="media/e-Invoicing-services-get-started-ITA-Manage-e-Invoicing-feature-configurations.png" alt="Managing the e-Invoicing feature configuration versions"></p>
<p>In this step, you're adding and configuring the ER formats of different files that are used to export Italian e-invoices. For Italian FatturaPA e-invoices, use either the following standard configurations or the actual customized configurations that you use for e-invoicing:</p>
<ul>
<li>Sales invoice (IT)</li>
<li>Project invoice (IT)</li>
</ul>
<p>When you create an e-Invoicing feature that is derived from another e-Invoicing feature, all ER formats are inherited from the original feature.</p>
</li>
<li><p>Select a specific ER format file configuration.</p>
</li>
<li><p>Select <strong>Edit</strong> or <strong>View</strong> to open the <strong>Format designer</strong> page.</p>
<p><img src="media/e-Invoicing-services-get-started-ITA-Configuration-ER-format-designer.png" alt="Opening the Format designer page"></p>
</li>
<li><p>Use the <strong>Format designer</strong> page to edit and view the ER format file configurations.</p>
<p><img src="media/e-Invoicing-services-get-started-ITA-ER-format-designer.png" alt="Format designer page"></p>
</li>
</ol>
<h2 id="manage-the-e-invoicing-feature-setups">Manage the e-Invoicing feature setups</h2>
<ul>
<li>On the <strong>e-Invoicing Features</strong> page, on the <strong>Setups</strong> tab, select <strong>Add</strong>, <strong>Delete</strong>, or <strong>Edit</strong> to manage the e-Invoicing feature setups.</li>
</ul>
<p><img src="media/e-Invoicing-services-get-started-ITA-Manage-e-Invoicing-feature-setup.png" alt="Managing the e-Invoicing feature setups"></p>
<p>In this step, you configure the events that are applicable to electronic invoices, including generation of the XML output files in <strong>FatturaPA</strong> format and digital signing (if required).</p>
<h3 id="configure-the-sales-invoice-feature-setup">Configure the Sales invoice feature setup</h3>
<ol>
<li><p>On the <strong>e-Invoicing Features</strong> page, on the <strong>Setups</strong> tab, in the <strong>Feature setup</strong> column, select <strong>Sales invoice</strong>.</p>
</li>
<li><p>Select <strong>Edit</strong>.</p>
</li>
<li><p>On the <strong>Feature version setup</strong> page, select the <strong>Actions</strong> tab to manage the list of actions. Actions define a list of operations that must be run in sequential order to accomplish full execution of the event.</p>
<p><img src="media/e-Invoicing-services-get-started-ITA-Select-Actions.png" alt="Actions tab"></p>
<table>
<thead>
<tr>
<th>Action ID</th>
<th>Action name</th>
<th>Action description</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Transform document</td>
<td>Create the e-invoice XML file in <strong>FatturaPA</strong> format.</td>
</tr>
<tr>
<td>2</td>
<td>Sign document</td>
<td>Apply a digital signature to the XML file.</td>
</tr>
</tbody>
</table>
</li>
<li><p>Select the <strong>Applicability rules</strong> tab to view and maintain the applicability rules. Applicability rules define the context where the action will be run.</p>
<p><img src="media/e-Invoicing-services-get-started-ITA-Select-Applicability-rules.png" alt="Applicability rules tab"></p>
</li>
<li><p>Select the <strong>Variables</strong> tab to view and maintain the variables.</p>
<p><img src="media/e-Invoicing-services-get-started-ITA-Select-Variables.png" alt="Variables tab"></p>
</li>
<li><p>Define the public variables that are required to run the actions.</p>
</li>
</ol>
<h3 id="configure-the-project-invoice-feature-setup">Configure the Project invoice feature setup</h3>
<p>The steps and settings that are required to configure the <strong>Project invoice</strong> feature setup are very similar to the steps and settings for the <strong>Sales invoice</strong> feature setup. When you work with project invoices, see the procedures for sales invoices.</p>
<h2 id="assign-the-e-invoicing-feature-to-the-environment">Assign the e-Invoicing feature to the environment</h2>
<ol>
<li>On the <strong>e-Invoicing Features</strong> page, on the <strong>Environments</strong> tab, select <strong>Enable</strong>.</li>
<li>In the <strong>Environment</strong> field, select the environment.</li>
<li>In the <strong>Effective from</strong> field, select the date when the environment should become effective.</li>
<li>Select <strong>Enable</strong>.</li>
</ol>
<p><img src="media/e-Invoicing-services-get-started-ITA-Enable-e-Invoicing-environment.png" alt="Enabling the e-Invoicing environment"></p>
<h2 id="publish-the-e-invoicing-feature">Publish the e-invoicing feature</h2>
<p>You can publish the e-Invoicing feature by changing the version status to <strong>Completed</strong> or <strong>Published</strong>.</p>
<h3 id="change-the-version-status-to-completed">Change the version status to Completed</h3>
<ol>
<li>On the <strong>e-Invoicing Features</strong> page, on the <strong>Versions</strong> tab, select the version of the e-Invoicing feature that has a status of <strong>Draft</strong>.</li>
<li>Select <strong>Change status &gt; Complete</strong>.</li>
</ol>
<h3 id="change-the-version-status-to-published">Change the version status to Published</h3>
<ol>
<li>On the <strong>e-Invoicing Features</strong> page, on the <strong>Versions</strong> tab, select the version of the e-Invoicing feature that has a status of <strong>Completed</strong>.</li>
<li>Select <strong>Change status &gt; Publish</strong>.</li>
</ol>
<p><img src="media/e-Invoicing-services-get-started-ITA-Change-status-of-e-Invoicing-feature.png" alt="Changing the status of the e-Invoicing feature"></p>
<h2 id="set-up-the-electronic-invoicing-add-on-integration-in-finance">Set up the Electronic invoicing add-on integration in Finance</h2>
<p>During the setup of Finance, you will complete these tasks:</p>
<ol>
<li>Import the ER data model, the ER data model mapping, and the context configurations for FatturaPA e-invoices.</li>
<li>Configure the certificate that is required to digitally sign Italian e-invoices.</li>
</ol>
<h3 id="import-the-er-data-model-data-model-mapping-and-formats">Import the ER data model, data model mapping, and formats</h3>
<ol>
<li>In the <strong>Electronic reporting</strong> workspace, verify that the <strong>Business Document Service</strong> configuration provider is set to <strong>Active</strong>.</li>
<li>Select <strong>Repositories</strong>.</li>
<li>Select <strong>Global resource &gt; Open</strong>.</li>
<li>Import <strong>Invoice model</strong>, <strong>Invoice model mapping</strong>, and <strong>Customer invoice context model</strong>.</li>
</ol>
<h4 id="turn-on-the-feature-for-exporting-customer-electronic-invoices-for-italy">Turn on the feature for exporting customer electronic invoices for Italy</h4>
<ol>
<li>Go to <strong>Organization administration &gt; Setup &gt; Electronic document parameters</strong>.</li>
<li>On the <strong>Features</strong> tab, select the <strong>Enabled</strong> check box in the row for feature reference <strong>IT00036</strong>.</li>
</ol>
<p><img src="media/e-Invoicing-services-get-started-ITA-Enable-FatturaPA-feature.png" alt="Turning on the FatturaPA feature"></p>
<h4 id="configure-electronic-documents">Configure electronic documents</h4>
<ol>
<li><p>Go to <strong>Organization administration &gt; Setup &gt; Electronic document parameters</strong>.</p>
</li>
<li><p>On the <strong>Electronic document</strong> tab, select <strong>Add</strong>, and enter the tables that are required to generate Italian e-invoices:</p>
<ul>
<li><strong>Table name:</strong> Customer invoice journal</li>
<li><strong>Table name:</strong> Project invoice</li>
</ul>
</li>
<li><p>For each table, define a related document context:</p>
<ul>
<li>For <strong>Customer invoice journal</strong>, select <strong>Customer invoice context</strong>.</li>
<li>For <strong>Project invoice</strong>, select <strong>Project invoice context</strong>.</li>
</ul>
</li>
</ol>
<p><img src="media/e-Invoicing-services-get-started-ITA-Set-up-response-types.png" alt="Setting up response types"></p>
<h2 id="electronic-invoice-processing">Electronic invoice processing</h2>
<p>During processing in Finance, you will complete these tasks:</p>
<ol>
<li>Generate Italian e-invoices through the Electronic invoicing add-on</li>
<li>View the execution logs and review the results of processing</li>
</ol>
<h3 id="generate-electronic-invoices">Generate electronic invoices</h3>
<p>After you turn on the <strong>Configurable Electronic invoicing add-on integration</strong> feature and activate the <strong>IT00036</strong> feature, the old Finance process for generating Italian e-invoices can no longer be used. It's replaced by a new process that is named <strong>Submit electronic documents</strong>.</p>
<p>You can submit the documents manually, based on your demand for e-invoice documents.</p>
<div class="NOTE">
<h5>Note</h5>
<p>Before you continue, verify that the setup that is required for Italian e-invoices was completed. For more information, see <a href="https://docs.microsoft.com/dynamics365/finance/localizations/emea-ita-e-invoices">Customer electronic invoices</a>. Be aware that some of the setup steps that are described in that topic might be unavailable because of Electronic invoicing add-on activation.</p>
</div>
<ol>
<li>Go to <strong>Organization administration &gt; Periodic &gt; Electronic documents &gt; Submit electronic documents</strong>.</li>
<li>For the first submission of any document, set the <strong>Resubmit documents</strong> option to <strong>No</strong>. If you must resubmit a document through the service, set this option to <strong>Yes</strong>.</li>
<li>On the <strong>Records to include</strong> FastTab, select <strong>Filter</strong> to open the <strong>Inquiry</strong> dialog box, where you can build a query to select documents for submission.</li>
</ol>
<p><img src="media/e-Invoicing-services-get-started-ITA-Submission-form.png" alt="Submit electronic documents dialog box"></p>
<h4 id="filter-query">Filter query</h4>
<ol>
<li><p>In the <strong>Inquiry</strong> dialog box, configure the filtering conditions for both sales invoices and project invoices, or leave the conditions blank to include all unsubmitted invoices.</p>
<p><img src="media/e-Invoicing-services-get-started-ITA-Set-up-Submission-filter-criteria.png" alt="Setting up submission filter criteria"></p>
</li>
<li><p>Select <strong>OK</strong> to close the <strong>Inquiry</strong> dialog box.</p>
</li>
<li><p>Select <strong>OK</strong> submit the selected documents.</p>
</li>
</ol>
<blockquote>
<p>![NOTE]
During your first attempt to submit a document through the service, you will be prompted to confirm the connection with the Electronic invoicing add-on. Select <strong>Click here to connect to Electronic Document Submission Service</strong>.</p>
</blockquote>
<h4 id="view-submission-logs">View submission logs</h4>
<p>You can view the submission logs for all submitted documents.</p>
<ol>
<li><p>Go to <strong>Organization administration &gt; Periodic &gt; Electronic documents &gt; Electronic document submission log</strong>.</p>
</li>
<li><p>In the <strong>Document type</strong> field, select <strong>Customer invoice journal</strong> or <strong>Project invoice</strong> to filter for the required electronic documents.</p>
<p><img src="media/e-Invoicing-services-get-started-ITA-Select-Document-type-for-viewing-submission-log.png" alt="Selecting a document type to view the submission logs"></p>
<p>The value that is shown in the <strong>Submission status</strong> column represents the status of the submission process. It indicates whether the process ran as configured and whether additional action is required.</p>
</li>
<li><p>On the Action Pane, select <strong>Inquiries &gt; Submission details</strong> to view the details of the submission execution logs.</p>
<p><img src="media/e-Invoicing-services-get-started-ITA-View-Submission-log-details.png" alt="Viewing the submission log details"></p>
</li>
<li><p>On the <strong>Processing actions</strong> FastTab, you can view the execution log for the actions that are configured in the feature version that was set up in RCS. The <strong>Status</strong> column shows whether the action was successfully run.</p>
</li>
<li><p>On the <strong>Action files</strong> FastTab, you can view the intermediate files that were generated during execution of the actions. You can select <strong>View</strong> to download the output XML file in <strong>FatturaPA</strong> format and view its content.</p>
</li>
</ol>
<h2 id="related-topics">Related topics</h2>
<ul>
<li><a href="e-invoicing-service-overview.html">Electronic invoicing add-on overview</a></li>
<li><a href="e-invoicing-get-started.html">Get started with the Electronic invoicing add-on</a></li>
<li><a href="e-invoicing-setup.html">Set up the Electronic invoicing add-on</a></li>
</ul>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
