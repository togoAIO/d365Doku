<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Enable Azure Active Directory authentication for POS sign-in | WIKA Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Enable Azure Active Directory authentication for POS sign-in | WIKA Documentation ">
    <meta name="generator" content="docfx 2.56.6.0">
    
    <link rel="shortcut icon" href="../../microsoft-dynamics-crm-365-icon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="TOC.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="enable-azure-active-directory-authentication-for-pos-sign-in" sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="29">Enable Azure Active Directory authentication for POS sign-in</h1>


<p sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="33">Many customers who use Microsoft Dynamics 365 Commerce also use other Microsoft cloud services, and they might use Azure Active Directory (Azure AD) to manage user credentials for those services. In those cases, the customers might want to use the same Azure AD account across applications. This topic explains how to configure the Commerce point of sale (POS) sign-in experience to use Azure AD authentication.</p>
<h2 id="configure-azure-ad-authentication" sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="35">Configure Azure AD authentication</h2>
<p sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="37">To make Azure AD available as the authentication method for POS sign-in for a store, you must configure the settings of the store's functionality profile and then apply those setting to POS clients.</p>
<p sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="39">To configure a functionality profile, follow these steps.</p>
<ol sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="41">
<li sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="41">Go to <strong sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="41">Retail and Commerce</strong> &gt; <strong sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="41">Channel setup</strong> &gt; <strong sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="41">POS setup</strong> &gt; <strong sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="41">POS profiles</strong> &gt; <strong sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="41">Functionality profiles</strong>.</li>
<li sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="42">Select the functionality profile to change.</li>
<li sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="43">On the <strong sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="43">Functions</strong> FastTab, in the <strong sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="43">POS staff logon</strong> section, change the value of the <strong sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="43">Logon Authentication Method</strong> field from <strong sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="43">Personnel ID and Password</strong> to <strong sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="43">Azure Active Directory</strong>.</li>
</ol>
<p sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="45">By default, all functionality profiles use <strong sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="45">Personnel ID and Password</strong> as the POS authentication method. Therefore, you must change the value of the <strong sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="45">Logon Authentication Method</strong> field if you want to use Azure AD. Every retail store that is linked to the selected functionality profile will be affected by this change.</p>
<p sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="47">To apply the settings to POS clients, follow these steps.</p>
<ol sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="49">
<li sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="49">Go to <strong sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="49">Retail and Commerce</strong> &gt; <strong sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="49">Retail and Commerce IT</strong> &gt; <strong sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="49">Distribution schedule</strong>.</li>
<li sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="50">Run the <strong sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="50">1070</strong> (<strong sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="50">Channel configuration</strong>) distribution schedule.</li>
</ol>
<div class="NOTE" sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="52">
<h5>Note</h5>
<p sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="53">Azure AD authentication requires an internet connection. It won't work when POS is in offline mode.</p>
<p sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="55">Currently, the <strong sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="55">Manager override</strong> function doesn't support Azure AD as an authentication method. An operator ID and password are required even if Azure AD is configured as the authentication method for POS sign-in.</p>
</div>
<h2 id="associate-an-azure-ad-account-with-a-worker" sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="57">Associate an Azure AD account with a worker</h2>
<p sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="59">Before a store worker can use an Azure AD account to sign in to the POS application, the Azure AD account must be associated with that worker.</p>
<p sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="61">To associate an Azure AD account with a worker, follow these steps.</p>
<ol sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="63">
<li sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="63">Go to <strong sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="63">Retail and Commerce</strong> &gt; <strong sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="63">Employees</strong> &gt; <strong sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="63">Workers</strong>.</li>
<li sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="64">Open the details page for a worker.</li>
<li sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="65">On the Action Pane, on the <strong sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="65">Commerce</strong> tab, in the <strong sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="65">External identity</strong> group, select <strong sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="65">Associate existing identity</strong>.</li>
<li sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="66">In the <strong sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="66">Use existing external identity</strong> dialog box, select <strong sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="66">Search using email</strong>, enter an Azure AD email address, and then select <strong sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="66">Search</strong>.</li>
<li sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="67">Select the Azure AD account that is returned, and then select <strong sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="67">OK</strong>.</li>
</ol>
<p sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="69">The <strong sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="69">Alias</strong>, <strong sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="69">UPN</strong>, and <strong sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="69">External sub identifier</strong> fields on the <strong sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="69">Commerce</strong> tab of the worker's details page will be filled in.</p>
<div class="NOTE" sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="71">
<h5>Note</h5>
<p sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="72">After a worker record is updated, for example if a new Azure AD account is associated, a password is changed, or an employee address book is updated, it’s recommended that you run <strong sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="72">1060</strong> (<strong sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="72">Staff</strong>) distribution schedule to synchronize the latest staff information to the channel. That way, the POS application can fetch the correct data for user authentication and authorization check.</p>
</div>
<h2 id="additional-resources" sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="74">Additional resources</h2>
<p sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="76"><a href="extended-logon.html" sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="76">Set up extended logon functionality for MPOS and Cloud POS</a></p>
<p sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="78"><a href="retail-functionality-profile.html" sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="78">Create a retail functionality profile</a></p>
<p sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="80"><a href="https://docs.microsoft.com/dynamics365/commerce/tasks/worker" sourcefile="articles/commerce/aad-pos-logon.md" sourcestartlinenumber="80">Configure a worker</a></p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/togoAIO/d365Doku/blob/main/articles/commerce/aad-pos-logon.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
