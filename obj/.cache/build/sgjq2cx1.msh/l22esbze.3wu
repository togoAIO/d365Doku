<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Distributed order management (DOM) | WIKA Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Distributed order management (DOM) | WIKA Documentation ">
    <meta name="generator" content="docfx 2.56.6.0">
    
    <link rel="shortcut icon" href="../../microsoft-dynamics-crm-365-icon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="TOC.html">
    
    
    
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="distributed-order-management-dom" sourcefile="articles/commerce/dom.md" sourcestartlinenumber="31">Distributed order management (DOM)</h1>


<p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="35">In the new paradigm for commerce operations, retailers strive to provide personalized customer engagement, omni-channel experiences, and frictionless interactions. Because so many choices are available, consumers will shop wherever they can have the most favorable experience. In many cases, prices and products are no longer the top deciding factors for consumers.</p>
<p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="37">To help improve the customer experience, retailers must have visibility into their inventory in real time, across all their channels. A single, holistic view of all the inventory can help optimize order fulfillment, allocation, and distribution. Therefore, adoption and implementation of a distributed order management (DOM) system are becoming more imperative for retailers.</p>
<p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="39">DOM optimizes order fulfillment across a complex network of systems and processes. It relies on a single, global view of inventory across the whole organization to intelligently manage orders, so that they are fulfilled accurately and in a more cost-effective manner. By improving the efficiency of a retailer's supply chain, DOM helps the retailer better meet customer expectations.</p>
<p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="41">The following illustration shows the lifecycle of a sales order in a DOM system.</p>
<p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="43"><img src="./media/flow.png" sourcefile="articles/commerce/dom.md" sourcestartlinenumber="43" alt="Sales order lifecycle in the context of DOM" title="Sales order lifecycle in the context of DOM"></p>
<h2 id="set-up-dom" sourcefile="articles/commerce/dom.md" sourcestartlinenumber="45">Set up DOM</h2>
<ol sourcefile="articles/commerce/dom.md" sourcestartlinenumber="47">
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="47"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="47">Go to <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="47">System administration &gt; Setup &gt; License configuration</strong>.</p>
</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="48"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="48">On the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="48">Configuration keys</strong> tab, expand the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="48">Commerce</strong> node, and then select the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="48">Distributed Order Management</strong> check box.</p>
</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="49"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="49">Go to <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="49">Retail and Commerce &gt; Distributed order management &gt; Setup &gt; DOM parameters</strong>.</p>
</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="50"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="50">On the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="50">General</strong> tab, set the following values:</p>
<ul sourcefile="articles/commerce/dom.md" sourcestartlinenumber="52">
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="52"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="52"><strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="52">Enable distributed order management</strong> – Set this option to <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="52">Yes</strong>.</p>
</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="53"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="53"><strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="53">Confirm Bing Maps usage for DOM</strong> – Set this option to <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="53">Yes</strong>.</p>
<div class="NOTE" sourcefile="articles/commerce/dom.md" sourcestartlinenumber="56">
<h5>Note</h5>
<p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="57">You can set this option to <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="57">Yes</strong> only if the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="57">Enable Bing Maps</strong> option on the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="57">Bing Maps</strong> tab of the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="57">Commerce shared parameters</strong> page (<strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="57">Retail and Commerce &gt; Headquarters setup &gt; Parameters &gt; Commerce shared parameters</strong>) is also set to <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="57">Yes</strong>, and if a valid key is entered in the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="57">Bing Maps key</strong> field.</p>
<p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="59">The <a href="https://www.bingmapsportal.com/" sourcefile="articles/commerce/dom.md" sourcestartlinenumber="59">Bing Maps Dev Center</a> portal allows you to restrict access on your Bing Maps API keys to a set of domains that you specify. With this feature, customers can define a strict set of referrer values or IP address ranges that the key will be validated against. Requests originating from your allow list will process normally, while requests from outside of your list will return an access denied response. Adding domain security to your API key is optional and keys left as-is will continue to function. The allow list for a key is independent from all of your other keys, enabling you to have distinct rules for each of your keys. Distributed Order Management does not support the setting up of domain-referred properties.</p>
</div>
</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="62"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="62"><strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="62">Retention period in days</strong> – Specify how long the fulfillment plans that DOM runs generate are kept in the system. The <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="62">DOM fulfillment data deletion job setup</strong> batch job will delete any fulfillment plan that is older than the number of days that you specify here.</p>
</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="63"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="63"><strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="63">Rejection period (in days)</strong> – Specify how much time must pass before a rejected order line can be assigned to the same location.</p>
</li>
</ul>
</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="65"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="65">On the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="65">Solver</strong> tab, set the following values:</p>
<ul sourcefile="articles/commerce/dom.md" sourcestartlinenumber="67">
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="67"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="67"><strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="67">Max auto-fulfillment attempts</strong> – Specify how many times the DOM engine will try to broker an order line to a location. If the DOM engine can't broker an order line to a location in the specified number of attempts, it will flag the order line as an exception. It will then skip that line in future runs until the status is manually reset.</p>
</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="68"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="68"><strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="68">Local store region radius</strong> – Enter a value. This field helps determine how locations are grouped and considered equal in terms of distance. For example, if you enter <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="68">100</strong>, every store or distribution center within a 100-mile radius of the fulfillment address is considered equal in terms of distance.</p>
</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="69"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="69"><strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="69">Solver type</strong> – Select a value. Two solver types are released with Commerce: <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="69">Production Solver</strong> and <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="69">Simplified Solver</strong>. For all machines that will run DOM (that is, all servers that are part of the DOMBatch group), <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="69">Production Solver</strong> must be selected. The Production Solver requires the special license key that, by default, is licensed and deployed in production environments. For non-production environments, this license key must be manually deployed. To manually deploy the license key, follow these steps:</p>
<ol sourcefile="articles/commerce/dom.md" sourcestartlinenumber="71">
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="71">In Microsoft Dynamics Lifecycle Services, open the Shared asset library, select <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="71">Model</strong> as the asset type, and download the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="71">DOM license</strong> file.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="72">Start Microsoft Internet Information Services (IIS) Manager, right-click <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="72">AOSService website</strong>, and then select <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="72">Explore</strong>. A Windows Explorer window is opened at <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="72">&lt;AOS service root&gt;\webroot</strong>. Make a note of the &lt;AOS Service root&gt; path, because you will use it in the next step.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="73">Copy the configuration file in the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="73">&lt;AOS Service root&gt;\PackagesLocalDirectory\DOM\bin</strong> directory.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="74">Go to the Headquarters client, and open the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="74">DOM parameters</strong> page. On the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="74">Solver</strong> tab, in the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="74">Solver type</strong> field, select <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="74">Production solver</strong>, and confirm that no error messages appear.</li>
</ol>
<div class="NOTE" sourcefile="articles/commerce/dom.md" sourcestartlinenumber="77">
<h5>Note</h5>
<p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="78">The Simplified Solver is provided so that retailers can try out the DOM feature without having to deploy the special license. Organizations should not use the Simplified Solver in production environments.</p>
<p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="80">The Production Solver improves performance (such as the number of orders and order lines that can be handled in a run) and convergence of results (since a batch of orders might not yield the best result in some scenarios). Some rules like the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="80">Partial orders</strong> rule and the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="80">Maximum number of locations</strong> rule require Production Solver.</p>
</div>
</li>
</ul>
</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="82"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="82">Go back to <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="82">Retail and Commerce &gt; Distributed order management &gt; Setup &gt; DOM parameters</strong>.</p>
</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="83"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="83">On the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="83">Number sequences</strong> tab, assign the required number sequences to the various DOM entities.</p>
<div class="NOTE" sourcefile="articles/commerce/dom.md" sourcestartlinenumber="85">
<h5>Note</h5>
<p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="86">Before the number sequences can be assigned to the entities, they must be defined on the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="86">Number sequences</strong> page (<strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="86">Organization administration &gt; Number sequences &gt; Number sequences</strong>).</p>
</div>
</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="88"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="88">The DOM feature supports the definition of various types of DOM rules, and organizations can configure multiple rules, depending on their business needs. DOM rules can be defined for a group of locations or individual locations, and for a specific product category, product, or variant. To create the grouping of locations that must be used for the DOM rules, follow these steps:</p>
<ol sourcefile="articles/commerce/dom.md" sourcestartlinenumber="90">
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="90">Go to <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="90">Retail and Commerce &gt; Channel setup &gt; Fulfillment groups</strong>.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="91">Select <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="91">New</strong>, and enter a name and description for the new group.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="92">Select <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="92">Save</strong>.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="93">Select <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="93">Add line</strong> to add a single location to the group. Alternatively, select <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="93">Add lines</strong> to add multiple locations.</li>
</ol>
<div class="NOTE" sourcefile="articles/commerce/dom.md" sourcestartlinenumber="95">
<h5>Note</h5>
<p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="96">In Commerce version 10.0.12 and higher, <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="96">Ability to specify locations as 'Shipping' or 'Pickup' enabled within Fulfillment group</strong> must be enabled in the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="96">Feature Management</strong> workspace.</p>
<p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="98">This feature add new configurations on the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="98">Fulfillment group</strong> page so you can define if the warehouse can be used for shipping or if the warehouse/store combination can be used for shipping, pickup, or both.</p>
<p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="100">If you enable the feature, the options available for location selection when you create pickup or shipment orders in POS will be updated.</p>
<p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="102">Enabling the feature also results in updated pages in POS when the &quot;ship all&quot; or &quot;ship selected&quot; operations are selected.</p>
</div>
</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="104"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="104">To define rules, go to <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="104">Retail and Commerce &gt; Distributed order management &gt; Setup &gt; Manage rules</strong>. The following DOM rules are currently supported:</p>
<ul sourcefile="articles/commerce/dom.md" sourcestartlinenumber="106">
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="106"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="106"><strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="106">Minimum inventory rule</strong> – This rule type lets organizations &quot;ring fence&quot; a specific quantity of a product for purposes other than order fulfillment. For example, organizations might not want DOM to consider all the inventory that is available in a store for order fulfillment. Instead, they might want to reserve some inventory for walk-in customers. When this rule type is used, you can define the minimum inventory to keep for a category of products, an individual product, or a product variant per location or group of locations.</p>
</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="107"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="107"><strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="107">Fulfillment location priority rule</strong> – This rule type lets organizations define a hierarchy of locations to establish the priority that the DOM engine considers when it tries to identify fulfillment locations for specific products. The valid range of priorities is 1 through 10, where 1 is the highest priority and 10 is the lowest priority. Locations that have higher priority are considered before locations that have lower priority. If the rule is defined as a hard constraint rule, orders are brokered only to locations that priorities are defined for.</p>
</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="108"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="108"><strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="108">Partial orders rule</strong> – This rule lets organizations define whether an order or order lines can be partially fulfilled. The following parameters are available:</p>
<ul sourcefile="articles/commerce/dom.md" sourcestartlinenumber="110">
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="110"><strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="110">Fulfill partial orders?</strong> – If this option is set to <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="110">Yes</strong>, DOM can fulfill only part of the quantity on an order line. This partial fulfillment is achieved by splitting the order line.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="111"><strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="111">Fulfill partial lines?</strong> – If this option is set to <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="111">Yes</strong>, DOM can fulfill a partial quantity of order lines. This partial fulfillment is achieved by splitting the order line.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="112"><strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="112">Fulfill order from one location only</strong> – If this option is set to <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="112">Yes</strong>, DOM makes sure that all lines on an order are fulfilled from a single location.</li>
</ul>
<p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="115">The following table explains the behavior when a combination of these parameters is defined.</p>
<table sourcefile="articles/commerce/dom.md" sourcestartlinenumber="117">
<thead>
<tr sourcefile="articles/commerce/dom.md" sourcestartlinenumber="117">
<th sourcefile="articles/commerce/dom.md" sourcestartlinenumber="117">Combination number</th>
<th sourcefile="articles/commerce/dom.md" sourcestartlinenumber="117">Fulfill partial orders</th>
<th sourcefile="articles/commerce/dom.md" sourcestartlinenumber="117">Fulfill partial lines</th>
<th sourcefile="articles/commerce/dom.md" sourcestartlinenumber="117">Fulfill order from one location only</th>
<th sourcefile="articles/commerce/dom.md" sourcestartlinenumber="117">Description</th>
</tr>
</thead>
<tbody>
<tr sourcefile="articles/commerce/dom.md" sourcestartlinenumber="119">
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="119">1</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="119">Yes</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="119">Yes</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="119">Yes</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="119">A few lines of the order can be fulfilled, and individual lines can be partially fulfilled, but all the lines must be from the same location in an instance of the DOM run. (This combination isn't currently supported.)</td>
</tr>
<tr sourcefile="articles/commerce/dom.md" sourcestartlinenumber="120">
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="120">2</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="120">Yes</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="120">No</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="120">Yes</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="120">A few lines of the order can be fulfilled, but individual lines can't be partially fulfilled, and all the fulfilled lines must be from the same location in an instance of the DOM run. (This combination isn't currently supported.)</td>
</tr>
<tr sourcefile="articles/commerce/dom.md" sourcestartlinenumber="121">
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="121">3</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="121">Yes</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="121">Yes</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="121">No</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="121">A few lines of the order can be fulfilled, individual lines can be partially fulfilled, and each line can be fulfilled from more than one location in an instance of the DOM run.</td>
</tr>
<tr sourcefile="articles/commerce/dom.md" sourcestartlinenumber="122">
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="122">4*</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="122">No</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="122">Not applicable</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="122">No</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="122">All order lines must be fulfilled, individual lines can't be partially fulfilled, and each order line can be fulfilled from a different location.</td>
</tr>
<tr sourcefile="articles/commerce/dom.md" sourcestartlinenumber="123">
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="123">5*</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="123">No</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="123">Not applicable</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="123">Yes</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="123">All order lines must be fulfilled, individual lines can't be partially fulfilled, and all the order lines can be delivered from one location only.</td>
</tr>
<tr sourcefile="articles/commerce/dom.md" sourcestartlinenumber="124">
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="124">6*</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="124">No</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="124">Not applicable</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="124">No</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="124">This combination works like combination 4, because <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="124">Fulfill partial lines</strong> can't be set to <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="124">Yes</strong> when <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="124">Fulfill partial orders</strong> is set to <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="124">No</strong>.</td>
</tr>
<tr sourcefile="articles/commerce/dom.md" sourcestartlinenumber="125">
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="125">7*</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="125">No</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="125">Not applicable</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="125">Yes</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="125">This combination works like combination 5, because <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="125">Fulfill partial lines</strong> can't be <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="125">Yes</strong> when <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="125">Fulfill partial orders</strong> is <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="125">No</strong>.</td>
</tr>
<tr sourcefile="articles/commerce/dom.md" sourcestartlinenumber="126">
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="126">8</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="126">Yes</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="126">No</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="126">No</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="126">A few lines of the order can be fulfilled, but individual lines can't be partially fulfilled, and the various order lines can be fulfilled from more than one location in an instance of the DOM run.</td>
</tr>
<tr sourcefile="articles/commerce/dom.md" sourcestartlinenumber="127">
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="127">9*</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="127">No</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="127">Not applicable</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="127">Yes</td>
<td sourcefile="articles/commerce/dom.md" sourcestartlinenumber="127">All order lines must be fulfilled, and all the order lines must be fulfilled from one location only.</td>
</tr>
</tbody>
</table>
<p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="129">* If <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="129">Fulfill partial orders</strong> is set to <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="129">No</strong>, <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="129">Fulfill partial lines</strong> is always considered to be set to <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="129">No</strong>, regardless of how it's actually set.</p>
<div class="NOTE" sourcefile="articles/commerce/dom.md" sourcestartlinenumber="131">
<h5>Note</h5>
<p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="132">In Retail version 10.0.5, the parameter <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="132">Fulfill order from one location only</strong> was changed to <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="132">Maximum fulfilling locations</strong>. Instead of allowing a user to configure whether orders can be fulfilled from one location only or fulfilled from as many locations as it can be, users can now specify whether the fulfillment can be from a definite set of locations (up to 5) or from as many locations as it can be. This provides more flexibility in terms of how many locations the order can be fulfilled from. This rule only works with Production Solver.</p>
</div>
</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="134"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="134"><strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="134">Offline fulfillment location rule</strong> – This rule lets organizations specify a location or group of locations as offline or unavailable to DOM, so that orders can't be assigned to those locations for fulfillment.</p>
</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="135"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="135"><strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="135">Maximum rejects rule</strong> – This rule lets organizations define a threshold for rejections. When the threshold is reached, the DOM processor will mark an order or order line as an exception, and exclude it from further processing.</p>
<p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="137">After order lines are assigned to a location, the location can reject an assigned order line, because it might not be able to fulfill that line for some reasons. Rejected lines are marked as an exception and put back into the pool for processing in the next run. During the next run, DOM will try to assign the rejected line to a different location. The new location can also reject the assigned order line. This cycle of assignment and rejection can occur multiple times. When the rejection count hits the threshold that is defined, DOM will mark the order line as a permanent exception and won't pick the line for assignment again. DOM will consider the order line again for reassignment only if a user manually resets the status of the order line.</p>
</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="139"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="139"><strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="139">Maximum distance rule</strong> – This rule lets organizations define the maximum distance that a location or group of locations can be to fulfill the order. If overlapping maximum distance rules are defined for a location, DOM will apply the lowest maximum distance that is defined for that location.</p>
</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="140"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="140"><strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="140">Maximum orders rule</strong> – This rule lets organizations define the maximum number of orders that a location or group of locations can process during a calendar day. If the maximum number of orders is assigned to a location in a single day, DOM won't assign any more orders to that location for the rest of that calendar day.</p>
</li>
</ul>
<p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="142">Here are some of the common attributes that can be defined for all the preceding rule types:</p>
<ul sourcefile="articles/commerce/dom.md" sourcestartlinenumber="144">
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="144"><strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="144">Start date</strong> and <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="144">End date</strong> – Every rule can be made date-effective by using the these fields.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="145"><strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="145">Disabled</strong> – Only rules that have a value of <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="145">No</strong> for this field are considered in a DOM run.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="146"><strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="146">Hard constraint</strong> – A rule can be defined as either a hard constraint or not a hard constraint. Every DOM run goes through two iterations. In the first iteration, every rule is treated as a hard constraint rule, regardless of the setting of this field. In other words, every rule is applied. The only exception is the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="146">Location priority</strong> rule. In the second iteration, the rules that weren't defined as hard constraint rules are removed, and the order or order lines that weren't assigned to locations when all the rules were applied are assigned to locations.</li>
</ul>
</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="148"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="148">Fulfillment profiles are used to group a collection of rules, legal entities, sales order origins, and modes of delivery. Every DOM run is for a specific fulfillment profile. In this way, organizations can define and run a set of rules for a set of legal entities, on orders that have specific sales order origins and modes of delivery. Therefore, if different set of rules must be run for different sets of sales order origins or modes of delivery, the fulfillment profiles can be defined accordingly. To set up fulfillment profiles, follow these steps:</p>
<ol sourcefile="articles/commerce/dom.md" sourcestartlinenumber="150">
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="150">Go to <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="150">Retail and Commerce &gt; Distributed order management &gt; Setup &gt; Fulfillment profiles</strong>.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="151">Select <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="151">New</strong>.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="152">Enter values in the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="152">Profile</strong> and <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="152">Description</strong> fields.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="153">Set the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="153">Auto apply result</strong> option. If you set this option to <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="153">Yes</strong>, the results of the DOM run for the profile will be automatically applied to the sales order lines. If you set it to <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="153">No</strong>, the results can only be viewed in the fulfillment plan. They won't be applied to the sales order lines.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="154">If you want the DOM profile to be run for orders that have every sales order origin, including orders where the sales order origin is undefined, set the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="154">Process orders with empty sales origin</strong> option to <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="154">Yes</strong>. To run the profile for only a few sales order origins, you can define them on the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="154">Sales origins</strong> page, as explained later.</li>
</ol>
<div class="NOTE" sourcefile="articles/commerce/dom.md" sourcestartlinenumber="156">
<h5>Note</h5>
<p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="157">In Commerce version 10.0.12 and higher, <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="157">Ability to assign Fulfillment group to a Fulfillment Profile</strong> must be enabled in the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="157">Feature Management</strong> workspace.</p>
<p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="159">This feature adds a new configuration on the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="159">Fulfillment profile</strong> page that can be associated to a single fulfilment group.</p>
<p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="161">If you select the fulfilment group, the DOM rules for that fulfilment profile will efficiently run against the &quot;shipping&quot; warehouses included in the fulfilment group.</p>
<p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="163">To effectively use this feature, ensure that there is one fulfillment group that contains all the shipping warehouses, and then associate that fulfillment group to the fulfillment profile.</p>
</div>
<ol start="6" sourcefile="articles/commerce/dom.md" sourcestartlinenumber="165">
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="165">On the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="165">Legal entities</strong> FastTab, select <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="165">Add</strong>, and then select a legal entity.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="166">On the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="166">Rules</strong> FastTab, select <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="166">Add</strong>, and then select the rule to link to the profile.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="167">Repeat the previous two steps until all the required rules are associated with the profile.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="168">Select <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="168">Save</strong>.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="169">On the Action Pane, on the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="169">Setup</strong> tab, select <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="169">Modes of delivery</strong>.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="170">On the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="170">Modes of delivery</strong> page, select <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="170">New</strong>.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="171">In the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="171">Company</strong> field, select the legal entity. The list of companies is limited to the legal entities that you added earlier.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="172">In the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="172">Mode of delivery</strong> field, select the mode of delivery to associate with this profile. A mode of delivery can't be associated with multiple active profiles.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="173">Repeat the previous two steps until all the required modes of delivery are associated with the profile.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="174">Close the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="174">Modes of delivery</strong> page.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="175">On the Action Pane, on the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="175">Setup</strong> tab, select <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="175">Sales order origins</strong>.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="176">On the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="176">Sales origins</strong> page, select <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="176">New</strong>.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="177">In the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="177">Company</strong> field, select the legal entity. The list of companies is limited to the legal entities that you added earlier.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="178">In the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="178">Sales origin</strong> field, select the sales origin to associate with this profile. A sales origin can't be associated with multiple active profiles.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="179">Repeat the previous two steps until all the required sales origins are associated with the profile.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="180">Close the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="180">Sales origins</strong> page.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="181">Set the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="181">Enable profile</strong> option to <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="181">Yes</strong>. If there are any errors in the setup, you receive a warning message.</li>
</ol>
</li>
</ol>
<h2 id="dom-processing" sourcefile="articles/commerce/dom.md" sourcestartlinenumber="183">DOM processing</h2>
<p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="185">DOM will run only in a batch job. To configure the batch job for DOM runs, follow these steps.</p>
<ol sourcefile="articles/commerce/dom.md" sourcestartlinenumber="187">
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="187">Go to <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="187">Retail and Commerce &gt; Distributed order management &gt; Batch processing &gt; DOM processor job setup</strong>.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="188">On the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="188">Parameters</strong> FastTab, in the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="188">Fulfillment profile</strong> field, select a profile that DOM must be run for.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="189">On the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="189">Run in the background</strong> FastTab, in the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="189">Batch group</strong> field, select a configured batch group.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="190">In the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="190">Task description</strong> field, enter a name for the batch job.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="191">Select <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="191">Recurrence</strong>, and define the recurrence of the batch job.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="192">Select <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="192">OK</strong>.</li>
</ol>
<p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="194">At the time of processing, DOM will consider the order and order lines as described here:</p>
<ul sourcefile="articles/commerce/dom.md" sourcestartlinenumber="196">
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="196"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="196">Order lines that meet the criteria for sales order origins, modes of delivery, and legal entity as defined in the DOM profile, and that also meet any of these criteria:</p>
<ul sourcefile="articles/commerce/dom.md" sourcestartlinenumber="198">
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="198">They are created from commerce channels.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="199">They have never been brokered by DOM.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="200">They have been brokered by DOM before, but they are marked as exceptions and are below the maximum threshold for attempts.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="201">The mode of delivery isn't pick-up or electronic delivery.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="202">They aren't marked for delivery.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="203">They aren't manually excluded.</li>
</ul>
</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="205"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="205">Orders that aren't on hold</p>
</li>
</ul>
<p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="207">After it applies the rules, inventory constraints, and optimization, DOM picks the location that is closest to the customer's delivery address.</p>
<p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="209"><img src="./media/ordercriteria.png" sourcefile="articles/commerce/dom.md" sourcestartlinenumber="209" alt="Sales order criteria" title="Sales order criteria"></p>
<h2 id="results-of-dom-runs" sourcefile="articles/commerce/dom.md" sourcestartlinenumber="211">Results of DOM runs</h2>
<p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="213">If the fulfillment profile is set to <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="213">Auto apply</strong>, the results of the run will be automatically applied to the sales order lines, and the fulfillment plan can be viewed separately. However, if the fulfillment profile isn't set to <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="213">Auto apply</strong>, the results of the run can be seen only from the fulfillment plan view.</p>
<p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="215">To view all the fulfillment plans that are generated, follow these steps.</p>
<ol sourcefile="articles/commerce/dom.md" sourcestartlinenumber="217">
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="217"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="217">Go to <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="217">Retail and Commerce &gt; Distributed order management &gt; Distributed order management</strong>.</p>
</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="218"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="218">In the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="218">Distributed order management</strong> workspace, select the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="218">Fulfillment Plans</strong> tile.</p>
</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="219"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="219">Select the ID of the relevant order fulfillment plan to view the fulfillment plan.</p>
<p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="221">The order details section of the fulfillment plan shows the original sales order lines that were part of the run. Besides the standard sales order line fields, the order details section also includes the following three DOM-related fields:</p>
<ul sourcefile="articles/commerce/dom.md" sourcestartlinenumber="223">
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="223"><strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="223">Fulfillment type</strong> – This field indicates whether the sales order line is fully brokered, partially brokered, or not brokered at all to a location.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="224"><strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="224">Split</strong> – This field indicates whether one sales order line has been split and brokered to different locations.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="225"><strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="225">Number of fulfillment locations</strong> – This field indicates how many fulfillment lines were created for one sales order line (based on the number of locations that the original sales order line was brokered to).</li>
</ul>
<p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="227">The order fulfillment details section shows the assignment of the original sales order lines to different locations, together with their quantities.</p>
</li>
</ol>
<h2 id="order-line-actions-and-statuses" sourcefile="articles/commerce/dom.md" sourcestartlinenumber="229">Order line actions and statuses</h2>
<p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="231">The following describes settings on the order line. To open the order line, go to <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="231">Retail and Commerce &gt; Customers &gt; All sales orders</strong>.</p>
<ul sourcefile="articles/commerce/dom.md" sourcestartlinenumber="232">
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="232"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="232">If you set the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="232">Exclude from DOM processing</strong> option on the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="232">General</strong> tab of the sales order line to <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="232">Yes</strong>, the order or order line will be excluded from DOM processing.</p>
</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="233"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="233">The <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="233">DOM status</strong> field on the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="233">General</strong> tab of the sales order line can be set to one of the following values:</p>
<ul sourcefile="articles/commerce/dom.md" sourcestartlinenumber="235">
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="235"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="235"><strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="235">None</strong> – The order line has never been brokered.</p>
</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="236"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="236"><strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="236">Complete</strong> – The order line has been successfully brokered and assigned to a location.</p>
</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="237"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="237"><strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="237">Exception</strong> – The order line has been brokered but can't be assigned to a location. Exceptions have multiple subtypes that can be viewed from the DOM workspace:</p>
<ul sourcefile="articles/commerce/dom.md" sourcestartlinenumber="239">
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="239"><strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="239">No quantity available</strong> – There is no available inventory to assign the order to in the locations.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="240"><strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="240">Maximum rejections</strong> – The order line has reached the maximum threshold for rejections.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="241"><strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="241">Data modification conflict</strong> – The sales order line has been changed since the order was brokered. Therefore, the fulfillment plan can't be applied to the order.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="242"><strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="242">Order line specific exception</strong> – There are multiple exceptions on the order line.</li>
</ul>
</li>
</ul>
</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="244"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="244">During the sales order entry, DOM can be run in an interactive mode. While you're entering an order line, after you specify the product and quantity, you can select <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="244">Update line</strong> and then, under <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="244">DOM</strong>, select <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="244">Suggest fulfillment location</strong>. You then see a list of locations that is based on DOM rules that can fulfill the quantity on the order line. This list is sorted by distance. Select a location to set the relevant site and warehouse on the sales order line. For this functionality to work, there must be an existing, active fulfillment profile that matches the sales origin and delivery mode on the sales line.</p>
</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="245"><p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="245">To view the DOM run logs for a sales order line, select <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="245">Sales order line</strong>, and then, under <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="245">DOM</strong>, select <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="245">View DOM Logs</strong>. The DOM logs show all the events and logs that were generated by the DOM run. The logs can help you understand why a specific location was assigned to the order line, and what rules and constraints were considered as a part of the assignment. On the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="245">Manage</strong> tab, the DOM logs are also available at the level of the sales order header.</p>
</li>
</ul>
<h2 id="run-a-clean-up-job-for-dom-fulfillment-plans" sourcefile="articles/commerce/dom.md" sourcestartlinenumber="247">Run a clean-up job for DOM fulfillment plans</h2>
<p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="249">As DOM processing is run, fulfillment plans are created. Over time, the system will keep numerous fulfillment plans. To manage the number of fulfillment plans that the system keeps, you can configure a batch job that deletes older fulfillment plans, based on the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="249">Retention period in days</strong> value.</p>
<ol sourcefile="articles/commerce/dom.md" sourcestartlinenumber="251">
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="251">Go to <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="251">Retail and Commerce &gt; Distributed order management &gt; Batch processing &gt; DOM fulfillment data deletion job setup</strong>.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="252">In the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="252">Batch group</strong> field, select a configured batch group.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="253">Select <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="253">Recurrence</strong>, and define the recurrence of the batch job.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="254">Select <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="254">OK</strong>.</li>
</ol>
<h2 id="more-information" sourcefile="articles/commerce/dom.md" sourcestartlinenumber="256">More information</h2>
<p sourcefile="articles/commerce/dom.md" sourcestartlinenumber="258">Here are some things to consider when you use the DOM feature:</p>
<ul sourcefile="articles/commerce/dom.md" sourcestartlinenumber="260">
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="260">Currently, DOM looks only at orders that are created from commerce channels. Sales orders are identified as sales orders when the <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="260">Commerce sale</strong> option is set to <strong sourcefile="articles/commerce/dom.md" sourcestartlinenumber="260">Yes</strong>.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="261">Microsoft hasn't tested DOM with advanced warehouse management features. Customers and partners must be careful to determine whether DOM is compatible with the advanced warehouse management capabilities and processes that are relevant to them.</li>
<li sourcefile="articles/commerce/dom.md" sourcestartlinenumber="262">DOM is available only on the cloud version of Commerce. It isn't supported in on-premises deployments.</li>
</ul>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
