<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Improve master planning performance | WIKA Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Improve master planning performance | WIKA Documentation ">
    <meta name="generator" content="docfx 2.56.6.0">
    
    <link rel="shortcut icon" href="../../../microsoft-dynamics-crm-365-icon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    
    
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="improve-master-planning-performance" sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="30">Improve master planning performance</h1>


<p sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="34">This topic explains the various options that can help you improve the performance of master planning or troubleshoot issues. It includes information about parameters and settings, as well as recommended configurations and actions. Also included is a summary of all the important parameters that you should consider when you have long-running master planning jobs.</p>
<p sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="36">This topic is intended for system admins or IT users who have the capability to troubleshoot. It's also intended for production or supply planners because it includes information about parameters that are related to business planning requirements.</p>
<h2 id="parameters-related-to-master-planning-performance" sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="38">Parameters related to master planning performance</h2>
<p sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="40">Various parameters influence the running time of master planning and should be considered.</p>
<h3 id="number-of-threads" sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="42">Number of threads</h3>
<p sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="44">The <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="44">Number of threads</strong> parameter lets you adjust the master scheduling process to help improve performance on the specific data set. This parameter specifies the total number of threads that will be used to run master planning. It causes parallelization of the master planning run, which helps decrease the running time.</p>
<p sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="46">You can set the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="46">Number of threads</strong> parameter in the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="46">Master planning run</strong> dialog box. To open this dialog box, go to <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="46">Master planning &gt; Master planning &gt; Run &gt; Master planning</strong>, or select <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="46">Run</strong> in the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="46">Master planning</strong> workspace. To determine the best value for this parameter, you will have to rely on a trial-and-error process. However, you can use the following formulas to calculate an initial value:</p>
<ul sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="48">
<li sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="48"><strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="48">If your industry is manufacturing:</strong> (Number of threads) = (Number of planned orders ÷ 1,000)</li>
<li sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="49"><strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="49">Otherwise:</strong> (Number of threads) = (Number of items ÷ 1,000)</li>
</ul>
<p sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="51">The number of helpers used during master planning must be less than or equal to the maximum number of threads that are allowed on the batch server. If the number of helpers exceeds the number of threads on the batch server, the extra threads won't do any work.</p>
<div class="NOTE" sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="53">
<h5>Note</h5>
<p sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="54">Setting the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="54">Number of threads</strong> parameter to <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="54">0</strong> (zero) increases the master planning running time. Therefore, we recommend that you always set a value that is more than 0.</p>
</div>
<h3 id="number-of-tasks-in-helper-task-bundle" sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="56">Number of tasks in helper task bundle</h3>
<p sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="58">By changing the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="58">Number of tasks in task bundle</strong> setting (that is, the bundle size), you might be able to decrease the running time. This setting controls the number of items that are planned together by a single helper.</p>
<p sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="60">You can set the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="60">Number of tasks in task bundle</strong> parameter in the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="60">Performance</strong> section on the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="60">General</strong> tab of the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="60">Master planning parameters</strong> page (<strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="60">Master planning &gt; Setup &gt; Master planning parameters</strong>). The best value for this parameter depends on your data. Therefore, we recommend that you start with a value of <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="60">1</strong>, and then use a trial-and-error process to determine the best value for your setup.</p>
<p sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="62">In general, we recommend that you increase the number of tasks when the number of items is very large (in the hundreds of thousands). Otherwise, you should decrease the number of tasks. For the following specific industries, consider these recommendations:</p>
<ul sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="64">
<li sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="64">In the retail and distribution industries where there are many independent items, use many helpers because there is no dependency between items.</li>
<li sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="65">In the manufacturing industry where there are many bills of materials (BOMs) and shared subcomponents, use fewer helpers because dependencies between items might cause waiting times.</li>
</ul>
<div class="TIP" sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="67">
<h5>Tip</h5>
<p sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="68">If you have performance issues, we recommend that you reduce the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="68">Number of helpers in task bundle</strong> setting to <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="68">1</strong>. You can then start the trial-and-error process to find the best value for your setup. In general, performance issues occur when one item takes longer to process than the remaining items. In this case, you will see that two subsequent tasks that have a status of <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="68">Coverage</strong> in the master planning run take significantly different amounts of time to run. In extreme cases, this difference might be as much as 30 minutes. You can infer the amount of time that tasks take to run by looking at the duration of each task.</p>
</div>
<h3 id="use-of-cache" sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="70">Use of cache</h3>
<p sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="72">The <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="72">Use of cache</strong> parameter lets you adjust the master scheduling process to help it perform better on the specific data set. For example, you can adjust it to achieve the following results:</p>
<ul sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="74">
<li sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="74">If more caching is done, more data is collected in data memory. The expectation is that the data will be used again later. If the data is in memory, you might save some database requests. However, if more caching is done, memory requirements increase.</li>
<li sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="75">If less caching is done, the same data might have to be fetched from the database more often. Additionally, Application Object Server (AOS) stores little data in memory throughout the process.</li>
</ul>
<p sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="77">It's difficult to predict which option will be better because each case depends not only on the data but also on the hardware. For example, because less caching causes additional load on the database server, it probably isn't a good idea to use that option if your database server is already overloaded.</p>
<p sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="79">You can set the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="79">Use of cache</strong> parameter in the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="79">Performance</strong> section on the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="79">General</strong> tab of the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="79">Master planning parameters</strong> page (<strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="79">Master planning &gt; Setup &gt; Master planning parameters</strong>). The effectiveness of caching depends heavily on the customer data. For example, if cached data is never needed, you just waste memory if you store data until the end of the scheduling process. In this case, if you configure less caching, performance might increase because AOS requires less memory and server resources are freed up for other tasks.</p>
<div class="TIP" sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="81">
<h5>Tip</h5>
<p sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="82">In general, we recommend that you set the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="82">Use of cache</strong> parameter to <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="82">Maximum</strong>, because the parameter is intended as a performance enhancing feature. We recommend that you set the parameter to <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="82">Minimum</strong> if you run on premises and have limited memory (approximately 2 gigabytes [GB]).</p>
</div>
<h3 id="number-of-orders-in-firming-bundle" sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="84">Number of orders in firming bundle</h3>
<p sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="86">The <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="86">Number or orders in firming bundle</strong> parameter specifies the total number of orders that will be processed at a time by each thread/batch. It causes parallelization of the autofirming process.</p>
<p sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="88">You can set the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="88">Number or orders in firming bundle</strong> parameter in the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="88">Performance</strong> section on the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="88">General</strong> tab of the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="88">Master planning parameters</strong> page (<strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="88">Master planning &gt; Setup &gt; Master planning parameters</strong>). Parallelization of the autofirming process is based on the orders that must be processed together. For example, if this parameter is set to <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="88">50</strong>, each thread or batch task will pick up 50 orders at a time and process them together. We recommend that you use a trial-and-error process to find the best value. However, you can use the following formula to calculate an initial value:</p>
<p sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="90">(Number of orders per bundle) = (Number of demand items ÷ Number of threads)</p>
<div class="NOTE" sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="92">
<h5>Note</h5>
<p sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="93">If you set the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="93">Number of orders in firming bundle</strong> parameter to <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="93">0</strong> (zero), no parallelization of the autofirming process will occur. The whole process will run on a single batch task and have a cumulative running time. Therefore, the running time of your master planning will increase. For this reason, we recommend that you set this parameter to a value that is more than <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="93">0</strong> (zero).</p>
</div>
<h3 id="time-fences" sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="95">Time fences</h3>
<p sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="97">Time fences specify how far in the future the calculations and other requirements must be calculated by master planning. The larger the time fence is, the longer it will take master planning to run. Therefore, set the time fences according to your business requirements. For more information about time fences, see <a href="master-planning-setup.html" sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="97">Set up master planning</a>.</p>
<h3 id="actions" sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="99">Actions</h3>
<p sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="101">Among the time fences, you can also find the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="101">Action message</strong> parameter. The calculation of action messages causes a longer running time for master planning. If action messages aren't regularly analyzed and applied (daily, weekly, and so on), consider turning off the calculation during the master planning run. To turn off the calculation, on the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="101">Master plans</strong> page (<strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="101">Master planning &gt; Setup &gt; Plans &gt; Master plans</strong>), set the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="101">Action message</strong> time fence to <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="101">0</strong> (zero). Also make sure that the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="101">Action message</strong> setting is turned off for all the coverage groups.</p>
<h3 id="futures" sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="103">Futures</h3>
<p sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="105">The calculation of futures causes a longer running time for master planning. If you aren't planning BOMs, or if delays don't have to be propagated from supply to demand during planning, consider turning off futures calculations during master planning. To turn off the calculations, set the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="105">Futures</strong> time fence to <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="105">0</strong> (zero) for the master plan that you're running. Also make sure that the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="105">Futures</strong> setting is turned off for all the coverage groups.</p>
<h2 id="one-heavy-routine-at-a-time" sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="107">One heavy routine at a time</h2>
<p sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="109">When you schedule master planning, don't schedule any other batch job at the same time. Be especially careful that you don't schedule any other heavy routines, such as inventory close, at the same time.</p>
<h2 id="review-the-session-log" sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="111">Review the session log</h2>
<p sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="113">The system can collect additional information about the tasks that run during master planning. To have the system collect this information, turn on the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="113">Track processing time</strong> setting in the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="113">Master planning run</strong> dialog box. The information that is collected can help you find bottlenecks in the run. For example, when the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="113">Number of tasks in helper task bundle</strong> parameter is set to <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="113">1</strong>, you can identify the item that has the longest running time. You can also compare the running times for the various threads that have a status of <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="113">Coverage</strong> and compare the duration for each task.</p>
<p sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="115">To review the master planning runs of your system, follow one of these steps.</p>
<ul sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="117">
<li sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="117">In the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="117">Master planning</strong> workspace, select a master plan in the drop-down field, and then on the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="117">Master planning</strong> tile, select <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="117">History</strong>. Select a job, select <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="117">Inquiries</strong> on the FastTab, and then select <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="117">Process task duration</strong>.</li>
<li sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="118">On the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="118">Master plans</strong> page, select a plan in the left pane, and then select <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="118">History</strong> on the FastTab. Select a job, select <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="118">Inquiries</strong> on the FastTab, and then select <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="118">Process task duration</strong>.</li>
</ul>
<p sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="120">When you review the session log, consider the following:</p>
<ul sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="122">
<li sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="122"><strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="122">Update</strong> should not take a long time (in general, it should take up to 30 minutes), however, it's single-threaded.</li>
<li sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="123"><strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="123">Copy plan</strong> should not take a long time (it should take about one minute).</li>
<li sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="124"><strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="124">Auto firming</strong> usually takes about 30 minutes. However, it can take up to multiple hours, depending on the number of orders and the complexity of the items.</li>
<li sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="125"><strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="125">Auto firming</strong> should take less time than <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="125">Coverage</strong>.</li>
<li sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="126"><strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="126">Coverage</strong> should take the longest time relative to the rest.</li>
<li sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="127"><strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="127">Action</strong> and <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="127">Future message</strong> can take a long time, depending on the data and the number of BOMs.</li>
</ul>
<h2 id="filtering-of-items" sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="129">Filtering of items</h2>
<p sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="131">Filters that are applied in the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="131">Master planning run</strong> dialog box affect the duration of the master planning run. Go to <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="131">Master planning &gt; Master planning &gt; Run &gt; Master planning</strong>, or select <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="131">Run</strong> in the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="131">Master planning</strong> workspace. To exclude items from the run, we recommend that you filter by the lifecycle state of the item (not by item numbers). When you filter by lifecycle state, the update process will take less time than when you filter by item numbers.</p>
<h2 id="automatically-filter-by-items-with-direct-demand" sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="133">Automatically filter by items with direct demand</h2>
<p sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="135">To improve the master planning run time, you can choose to only include items with direct demand. This filter can only be used for a complete master planning run with no other filters applied in the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="135">Records to include</strong> field. A master planning run with filters will ignore the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="135">Automatically filter by items with direct demand</strong> setting.</p>
<p sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="137">The <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="137">Automatically filter by items with direct demand</strong> field is found on the <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="137">Master planning parameters</strong> page and can be used with both pre-processing and post-processing settings.</p>
<h3 id="pre-processing" sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="139">Pre-processing</h3>
<p sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="140">The <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="140">Pre-processing: Automatically filter by items with direct demand</strong> parameter ensures that the pre-processing phase of master planning only includes items that fulfill at least one of the following conditions:</p>
<ul sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="141">
<li sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="141">The item has an expected receipt or issue, such as a purchase order, sales order, quote, transfer order, or production order.</li>
<li sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="142">The item has item coverage with safety stock (minimum on-hand inventory).</li>
<li sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="143">Forecast demand after today exists for the item.</li>
<li sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="144">Forecast supply after today exists for the item.</li>
<li sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="145">The item includes any continuity lines from the call center module yet to be created.</li>
</ul>
<div class="NOTE" sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="147">
<h5>Note</h5>
<p sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="148">An item that has physically available on-hand inventory will not show a requirement transaction because there is no demand for the item.</p>
</div>
<h3 id="post-processing" sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="150">Post-processing</h3>
<p sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="151">The <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="151">Post-processing: Automatically filter by items with direct demand</strong> option is only relevant if you set <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="151">BOM version requirement</strong> in your coverage groups. Otherwise, you do not need to enable the parameter.</p>
<p sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="153">Before the coverage step starts, there is a pre-coverage step during which items with the coverage setting <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="153">BOM version requirement</strong> enabled will be reprocessed. This is done to ensure that items from the required BOM version are planned. Items that are considered to have demand during pre-processing no longer have any demand and therefore should be excluded from the planning run.</p>
<h2 id="performance-checklist-summary" sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="155">Performance checklist summary</h2>
<ul sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="157">
<li sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="157"><strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="157">Number of threads</strong> – Set to a value that is more than <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="157">0</strong> (zero).</li>
<li sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="158"><strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="158">Number of tasks in helper task bundle</strong> – Set to a value that is more than <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="158">0</strong> (zero). (Use the formulas that are given earlier in this topic.)</li>
<li sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="159"><strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="159">Use of cache</strong> – Set to <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="159">Maximum</strong> unless your system is low on memory.</li>
<li sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="160"><strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="160">Number of orders in firming bundle</strong> – Set to a value that is more than <strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="160">0</strong> (zero). (Use the formula that is given earlier in this topic.)</li>
<li sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="161"><strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="161">Time fences</strong> – Adjust to your business needs.</li>
<li sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="162"><strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="162">Actions and futures</strong> – Disable actions and future if you don't use them.</li>
<li sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="163"><strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="163">One heavy routine at a time</strong> – Don't run master planning together with any other heavy routine.</li>
<li sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="164"><strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="164">Review the session log.</strong></li>
<li sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="165"><strong sourcefile="articles/supply-chain/master-planning/master-planning-performance.md" sourcestartlinenumber="165">Filtering of items</strong> – Use the lifecycle state to exclude items from the master planning run. (Don't use the item numbers.)</li>
</ul>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
