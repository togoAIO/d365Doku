<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Erstellen von Regeln f&#252;r Optimierungsratgeber | WIKA Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Erstellen von Regeln f&#252;r Optimierungsratgeber | WIKA Documentation ">
    <meta name="generator" content="docfx 2.56.6.0">
    
    <link rel="shortcut icon" href="../../../../microsoft-dynamics-crm-365-icon.ico">
    <link rel="stylesheet" href="../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../styles/main.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 
    <meta property="docfx:navrel" content="../../../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    
    
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../../index.html">
                <img id="logo" class="svg" src="../../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="create-rules-for-optimization-advisor" sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="28">Erstellen von Regeln für Optimierungsratgeber</h1>

[!include[banner](../includes/banner.md)]
<p sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="32">In diesem Thema wird erklärt, wie neue Regeln für den <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="32">Optimierungsratgeber</strong> erstellt werden. Sie können beispielsweise eine neue Regel erstellen, die angibt, welche Angebotsanforderungsanfragen einen leeren Titel haben. Durch das Verwenden von Titeln bei Anfragen können sie leicht identifiziert und gesucht werden. Während es ziemlich einfach ist, zeigt dieses Beispiel, was mit Optimierungsregeln erreicht werden kann.</p>
<p sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="34">Eine <em sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="34">Regel</em> ist eine Prüfung von Anwendungsdaten. Wenn die Bedingung, nach der die Regel bewertet, erfüllt ist, werden Verkaufschancen zum Optimieren von Prozessen oder zum Verbessern von Daten erstellt. Auf die Verkaufschancen hin kann gehandelt werden oder optional kann die Auswirkung der Aktivitäten auch gemessen werden.</p>
<p sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="36">Um eine neue Regel für den <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="36">Optimierungsratgeber</strong> zu erstellen, eine neue Klasse hinzuzufügen die die abstrakte Klasse <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="36">SelfHealingRule</strong> erweitert, die Schnittstelle <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="36">IDiagnosticsRule</strong> implementiert und durch das <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="36">DiagnosticRule</strong> ausgestattet wird. Bei der Klasse muss auch eine Methode mit dem Attribut <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="36">DiagnosticsRuleSubscription</strong> ausgestattet werden. Gewöhnlich erfolgt dies bei der Methode <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="36">opportunityTitle</strong>, die später behandelt wird. Diese neue Klasse kann einem benutzerdefinierten Modell mit einer Abhängigkeit vom Modell <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="36">SelfHealingRules</strong> hinzugefügt werden. Im folgenden Beispiel wird die Regel, die implementiert wird, <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="36">RFQTitleSelfHealingRule</strong> genannt.</p>
<pre><code class="lang-xpp" sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="38">[DiagnosticsRule] 
public final class RFQTitleSelfHealingRule extends SelfHealingRule implements IDiagnosticsRule 
{ 
… 
} 
</code></pre>
<p sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="46">Die abstrakte Klasse <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="46">SelfHealingRule</strong> hat abstrakte Methoden, die in erbenden Klassen implementiert werden müssen. Der Kern ist die Methode <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="46">evaluate</strong>, die eine Liste von Verkaufschancen zurückgibt, die von der Regel identifiziert werden. Verkaufschancen können pro juristische Person sein oder das gesamte System betreffen.</p>
<pre><code class="lang-xpp" sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="48">protected List evaluate() 
{ 
    List results = new List(Types::Record); 
    
    DataArea dataArea; 

    while select id from dataArea 
        where !dataArea.isVirtual 
    { 
        changecompany(dataArea.id) 
        { 
            container result = this.findRFQCasesWithEmptyTitle(); 

            if (conLen(result) &gt; 0) 
            { 
                SelfHealingOpportunity opportunity = this.getOpportunityForCompany(dataArea.Id); 
                opportunity.EvaluationState = SelfHealingEvaluationState::Evaluated; 
                opportunity.Data = result; 
                opportunity.OpportunityDate = DateTimeUtil::utcNow(); 
                
                results.addEnd(opportunity); 
            } 
        } 
    } 
    
    return results; 
} 
</code></pre>
<p sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="78">Die oben gezeigt Methode umfasst Unternehmen und wählt Angebotsanforderungsanfragen mit leeren Titeln in der Methode <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="78">findRFQCasesWithEmptyTitle</strong> aus. Wenn mindestens eine solche Anfrage gefunden wird, wird eine unternehmensspezifische Verkaufschance mit der Methode <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="78">getOpportunityForCompany</strong> erstellt. Beachten Sie, dass das Feld <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="78">Daten</strong> in der Tabelle <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="78">SelfHealingOpportunity</strong> vom Typ <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="78">Container</strong> ist, und es kann daher jegliche Daten enthalten, die relevant für die Logik sind, die für diese Regel spezifisch ist. Durch Festlegen von <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="78">OpportunityDate</strong> mit dem aktuellen Zeitstempel wird die Uhrzeit der letzten Bewertung der Verkaufschance registriert.</p>
<p sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="80">Verkaufschancen können auch unternehmensübergreifend sein. In diesem Fall ist die Schleife um Unternehmen nicht notwendig und die Verkaufschance muss mit der Methode <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="80">getOpportunityAcrossCompanies</strong> erstellt werden.</p>
<p sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="82">Der folgende Code zeigt die Methode <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="82">findRFQCasesWithEmptyTitle</strong>, die die Kennungen der Angebotsanforderungsanfragen zurückgibt, die leere Titel haben.</p>
<pre><code class="lang-xpp" sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="84">private container findRFQCasesWithEmptyTitle() 
{ 
    container result; 

    PurchRFQCaseTable rfqCase; 
    while select RFQCaseId from rfqCase 
        where rfqCase.Name == '' 
    { 
        result += rfqCase.RFQCaseId; 
    } 
    
    return result; 
} 
</code></pre>
<p sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="100">Zwei Methoden, die implementiert werden müssen, sind <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="100">opportunityTitle</strong> und <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="100">opportunityDetails</strong>. Erstere gibt einen kurzen Titel für die Verkaufschance zurück, letztere gibt eine detaillierte Beschreibung der Verkaufschance zurück, die auch Daten umfassen kann.</p>
<p sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="102">Der Titel, der durch <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="102">opportunityTitle</strong> zurückgegeben wird, wird unter der Spalte <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="102">Optimierungsverkaufschance</strong> im Arbeitsbereich <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="102">Optimierungsratgeber</strong> angezeigt. Er wird zudem als der Kopf des Seitenbereichs angezeigt, der mehr Informationen zu der Verkaufschance anzeigt. Ordnungsgemäß ist diese Methode mit dem Attribut <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="102">DiagnosticRuleSubscription</strong> ausgestattet, das die folgenden Argumente bezieht:</p>
<ul sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="104">
<li sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="104"><p sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="104"><strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="104">Diagnosebereich</strong> – Eine Aufzählung des Typs <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="104">DiagnosticArea</strong>, die beschreibt, zu welchem Bereich der Anwendung die Regel gehört, wie beispielsweise <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="104">DiagnosticArea::SCM</strong>.</p>
</li>
<li sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="106"><p sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="106"><strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="106">Regelname</strong> – Eine Zeichenfolge mit dem Regelname. Diese wird unter der Spalte <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="106">Regelname</strong> im Formular <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="106">Diagnoseüberprüfungsregel</strong> (<strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="106">DiagnosticsValidationRuleMaintain</strong>) angezeigt.</p>
</li>
<li sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="108"><p sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="108"><strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="108">Ausführungshäufigkeit</strong> – Eine Aufzählung des Typs <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="108">DiagnosticRunFrequency</strong>, die beschreibt, wie oft die Regel ausgeführt werden soll, wie beispielsweise <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="108">DiagnosticRunFrequency::Daily</strong>.</p>
</li>
<li sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="110"><p sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="110"><strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="110">Regelbeschreibung</strong> – Eine Zeichenfolge mit einer ausführlicheren Beschreibung der Regel. Diese wird unter der Spalte <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="110">Regelbeschreibung</strong> im Formular <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="110">Diagnoseüberprüfungsregel</strong> (<strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="110">DiagnosticsValidationRuleMaintain</strong>) angezeigt.</p>
</li>
</ul>
<div class="NOTE" sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="112">
<h5>Note</h5>
<p sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="113">Das Attribut <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="113">DiagnosticRuleSubscription</strong> ist erforderlich, damit die Regel funktioniert. Normalerweise wird es bei <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="113">opportunityTitle</strong> verwendet, mit ihm kann jedoch jede Methode oder Klasse ausgestattet werden.</p>
</div>
<p sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="115">Hier folgt ein Beispiel einer Implementierung. Rohzeichenolgen werden der Einfachheit halber verwendet, aber eine korrekte Implementierung erfordert Beschriftungen.</p>
<pre><code class="lang-xpp" sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="117">[DiagnosticsRuleSubscription(DiagnosticsArea::SCM, 
                             'Assign titles to Request for Quotation cases', 
                             DiagnosticsRunFrequency::Daily,  
                             'This rule detects Requests for Quotation with empty titles.')] 
public str opportunityTitle() 
{ 
    return 'Assign titles to Request for Quotation cases'; 
} 
</code></pre>
<p sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="128">Die Beschreibung, die von <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="128">opportunityDetails</strong> zurückgegeben wird, wird im Seitenbereich angezeigt, dabei zeigt sie weitere Informationen zur Verkaufschance an. Sie nimmt das Argument <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="128">SelfHealingOpportunity</strong>, das das Feld <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="128">Daten</strong> ist, das verwendet werden kann, um weitere Informationen zur Verkaufschance bereitzustellen. Im Beispiel gibt die Methode die Kennungen der Angebotsanforderungsanfragen mit einem leeren Titel zurück.</p>
<pre><code class="lang-xpp" sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="130">public str opportunityDetails(SelfHealingOpportunity _opportunity) 
{ 
    str details = ''; 
    container opportunityData = _opportunity.Data; 
    int affectedRFQCasesCount = conLen(opportunityData); 

    if (affectedRFQCasesCount != 0) 
    { 
        details = 'The following Request for Quotation cases have an empty title:\n'; 
        for (int i = 1; i &lt;= affectedRFQCasesCount ; i++) 
        { 
            PurchRFQCaseId rfqCaseId = conPeek(opportunityData, i); 
            details += rfqCaseId + '\n'; 
        } 
    } 

    return details; 
}
</code></pre>
<p sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="151">Die beiden verbleibenden zu implementierenden abstrakten Methoden sind <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="151">provideHealingAction</strong> und <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="151">securityMenuItem</strong>.</p>
<p sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="153"><strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="153">provideHealingAction</strong> gibt „true” zurück, wenn eine Reparaturaktivität bereitgestellt wird, ansonsten gibt sie „false” zurück. Wenn „true” zurückgegeben wird, muss die Methode <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="153">performAction</strong> implementierte werden, oder ein Fehler wird ausgelöst. Die Methode <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="153">performAction</strong> nimmt ein <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="153">SelfHealingOpportunity</strong>-Argument, in dem die Daten für die Aktivität verwendet werden können. Im Beispiel öffnet die Aktivität die <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="153">PurchRFQCaseTableListPage</strong>, für die manuelle Korrektur.</p>
<pre><code class="lang-xpp" sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="155">public boolean providesHealingAction() 
{ 
    return true; 
} 

protected void performAction(SelfHealingOpportunity _opportunity) 
{ 
    new MenuFunction(menuItemDisplayStr(PurchRFQCaseTableListPage), MenuItemType::Display).run(); 
} 
</code></pre>
<p sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="167">Abhängig von den Angaben der Regel kann es nicht möglich, von einer automatischen Aktivität mithilfe der Verkaufschancendaten Gebrauch zu machen. In diesem Beispiel könnte das System Titel für Angebotsanforderungsanfragen automatisch generieren.</p>
<p sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="169"><strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="169">securityMenuItem</strong> gibt den Namen einer Aktivitätsmenüoption zurück, sodass die Regel nur für Benutzer sichtbar ist, die auf die Aktivitätsmenüoption zugreifen können. Die Sicherheit kann es unter Umständen erfordern, dass auf bestimmte Regeln und Verkaufschancen nur durch autorisierte Benutzer zugegriffen werden kann. Im Beispiel können nur Benutzer mit Zugriff auf <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="169">PurchRFQCaseTitleAction</strong> die Verkaufschance anzeigen. Beachten Sie, dass diese Aktivitätsmenüoption für dieses Beispiel erstellt wurde und als Einstiegspunkt für das Sicherheitsrecht <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="169">PurchRFQCaseTableMaintain</strong> hinzugefügt wurde.</p>
<div class="NOTE" sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="171">
<h5>Note</h5>
<p sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="172">Die Menüoption muss eine Aktivitätsmenüoption sein, damit die Sicherheit ordnungsgemäß funktioniert. Andere Menüoptionstypen, wie <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="172">Anzeigemenüartikel</strong> funktionieren nicht korrekt.</p>
</div>
<pre><code class="lang-xpp" sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="174">public MenuName securityMenuItem() 
{ 
    return menuItemActionStr(PurchRFQCaseTitleAction); 
}
</code></pre>
<p sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="181">Nachdem die Regel kompiliert wurde, führen Sie den folgenden Einzelvorgang aus, damit die Anzeige in der Benutzeroberfläche (UI) erfolgt.</p>
<pre><code class="lang-xpp" sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="183">class ScanNewRulesJob 
{         
    public static void main(Args _args) 
    {         
        SysExtensionCache::clearAllScopes(); 
        var controller = new DiagnosticsRuleController(); 
        controller.runOperation(); 
    } 
} 
</code></pre>
<p sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="195">Die Regel wird im Formular <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="195">Diagnoseüberprüfungsregel</strong> angezeigt, das von <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="195">Systemverwaltung</strong> &gt; <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="195">Periodische Aufgaben</strong> &gt; <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="195">Diagnoseüberprüfungsregel verwalten</strong> verfügbar ist. Damit sie bewertet wird, wechseln Sie zu <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="195">Systemverwaltung</strong> &gt; <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="195">Periodische Aufgaben</strong> &gt; <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="195">Diagnoseüberprüfungsregel planen</strong>, wählen Sie die Häufigkeit der Regel aus, wie beispielsweise <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="195">Täglich</strong>. Klicken Sie auf <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="195">OK</strong>. Wechseln Sie zu <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="195">Systemverwaltung</strong> &gt; <strong sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="195">Optimierungsratgeber</strong>, um die neue Verkaufschance anzuzeigen.</p>
<p sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="197">Das folgende Beispiel ist ein Codeausschnitt mit dem Skelett einer Regel einschließlich aller erforderlichen Attribute und Methoden. Es ermöglicht, mit dem schreiben neuer Regeln zu beginnen. Die Beschriftungen und Aktivitätsmenüoptionen, die im Beispiel verwendet werden, dienen nur zu Demonstrationszwecken.</p>
<pre><code class="lang-xpp" sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="199">[DiagnosticsRuleAttribute]
public final class SkeletonSelfHealingRule extends SelfHealingRule implements IDiagnosticsRule
{
    [DiagnosticsRuleSubscription(DiagnosticsArea::SCM,
                                 &quot;@SkeletonRuleLabels:SkeletonRuleTitle&quot;, // Label with the title of the rule
                                 DiagnosticsRunFrequency::Monthly,
                                 &quot;@SkeletonRuleLabels:SkeletonRuleDescription&quot;)] // Label with a description of the rule
    public str opportunityTitle()
    {
        // Return a label with the title of the opportunity
        return &quot;@SkeletonRuleLabels:SkeletonOpportunityTitle&quot;;
    }

    public str opportunityDetails(SelfHealingOpportunity _opportunity)
    {
        str details = &quot;&quot;;

        // Use _opportunity.data to provide details on the opportunity

        return details;
    }

    protected List evaluate()
    {
        List results = new List(Types::Record);

        // Write here the core logic of the rule

        // When creating an opportunity, use:
        //     * this.getOpportunityForCompany() for company specific opportunities
        //     * this.getOpportunityAcrossCompanies() for cross-company opportunities

        return results;
    }

    public boolean providesHealingAction()
    {
        return true;
    }

    protected void performAction(SelfHealingOpportunity _opportunity)
    {
        // Place here the code that performs the healing action

        // To open a form, use the following:
        // new MenuFunction(menuItemDisplayStr(SkeletonRuleDisplayMenuItem), MenuItemType::Display).run();
    }

    public MenuName securityMenuItem()
    {
        return menuItemActionStr(SkeletonRuleActionMenuItem);
    }

}
</code></pre>
<p sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="256">Weitere Informationen erhalten Sie in einem kurzen YouTube-Video: <a href="https://www.youtube.com/watch?v=MRsAzgFCUSQ" sourcefile="articles_de/fin-ops-core/dev-itpro/sysadmin/create-rules-optimization-advisor.md" sourcestartlinenumber="256">Optimierungsratgeber in Dynamics 365 for Finance and Operations</a></p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
  </body>
</html>
