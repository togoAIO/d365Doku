<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Electronic reporting (ER) destinations | WIKA Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Electronic reporting (ER) destinations | WIKA Documentation ">
    <meta name="generator" content="docfx 2.56.6.0">
    
    <link rel="shortcut icon" href="../../../../microsoft-dynamics-crm-365-icon.ico">
    <link rel="stylesheet" href="../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../styles/main.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 
    <meta property="docfx:navrel" content="../../../../toc.html">
    <meta property="docfx:tocrel" content="../../../commerce/TOC.html">
    
    
    
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../../index.html">
                <img id="logo" class="svg" src="../../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="electronic-reporting-er-destinations">Electronic reporting (ER) destinations</h1>


<p>You can configure a destination for each Electronic reporting (ER) format configuration and its output component (a folder or a file). Users who have appropriate access rights can also modify destination settings at runtime. This topic explains ER destination management, the types of destinations that are supported, and security considerations.</p>
<p>ER format configurations usually contain at least one output component: a file. Typically, configurations contain multiple file output components of different types (for example, XML, TXT, XLSX, DOCX, or PDF) that are grouped into either a single folder or multiple folders. ER destination management lets you preconfigure what occurs when each component is run. By default, when a configuration is run, a dialog box appears that lets you save or open the file. The same behavior also occurs when you import an ER configuration and don't configure any specific destinations for it. After a destination is created for a main output component, that destination overrides the default behavior, and the folder or file is sent according to the destination's settings.</p>
<h2 id="availability-and-general-prerequisites">Availability and general prerequisites</h2>
<p>The functionality for ER destinations isn't available in Microsoft Dynamics AX 7.0 (February 2016). Therefore, you must install Microsoft Dynamics 365 for Operations version 1611 (November 2016) or later to use the following destination types:</p>
<ul>
<li><a href="er-destination-type-email.html">Email</a></li>
<li><a href="er-destination-type-archive.html">Archive</a></li>
<li><a href="er-destination-type-file.html">File</a></li>
<li><a href="er-destination-type-screen.html">Screen</a></li>
<li><a href="er-destination-type-powerbi.html">Power BI</a></li>
</ul>
<p>Alternatively, you can install one of the following prerequisites. However, be aware that these alternatives provide a more limited ER destination experience.</p>
<ul>
<li>Microsoft Dynamics AX application version 7.0.1 (May 2016)</li>
<li><a href="https://fix.lcs.dynamics.com/issue/results/?q=3160213">Electronic reporting destination management application hotfix</a></li>
</ul>
<p>There is also a <a href="er-destination-type-print.html">Print</a> destination type. To use it, you must install Microsoft Dynamics 365 Finance version 10.0.9 (April 2020).</p>
<h2 id="overview">Overview</h2>
<p>You can set up destinations only for ER configurations that have been <a href="general-electronic-reporting.html#importing-an-er-component-from-lcs-to-use-it-internally">imported</a> into the current Finance instance, and for the formats that are available on the <strong>Electronic reporting configurations</strong> page. The functionality for ER destination management is available at <strong>Organization administration</strong> &gt; <strong>Electronic reporting</strong> &gt; <strong>Electronic reporting destination</strong>.</p>
<h3 id="default-behavior">Default behavior</h3>
<p>The default behavior for an ER format configuration depends on the execution type that you specify when an ER format starts.</p>
<p>In the <strong>Intrastat Report</strong> dialog box, on the <strong>Run in the background</strong> FastTab, if you set the <strong>Batch processing</strong> option to <strong>No</strong>, an ER format is run immediately in interactive mode. When this execution is successfully completed, a generated outbound document is made available for download.</p>
<p>If you set the <strong>Batch processing</strong> option to <strong>Yes</strong>, an ER format is run in <a href="https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/sysadmin/batch-processing-overview">batch</a> mode. The appropriate batch job is created, based on the parameters that you specify on the <strong>Run in the background</strong> tab of the <strong>ER parameters</strong> dialog box.</p>
<div class="NOTE">
<h5>Note</h5>
<p>The job description is initiated to inform you about the run of an ER format mapping. It also contains the name of the executed ER component.</p>
</div>
<p><a href="./media/ER_Destinations-RunInBatchMode.png"><img src="./media/ER_Destinations-RunInBatchMode.png" alt="Running an ER format"></a></p>
<p>You can find information about this job in several places:</p>
<ul>
<li><p>Go to <strong>Common</strong> &gt; <strong>Inquiries</strong> &gt; <strong>Batch jobs</strong> &gt; <strong>My batch jobs</strong> to check the status of the scheduled job.</p>
</li>
<li><p>Go to <strong>Organization administration</strong> &gt; <strong>Electronic reporting</strong> &gt; <strong>Electronic reporting jobs</strong> to check the status of the scheduled job and the execution results of the completed job. When job execution is successfully completed, select <strong>Show files</strong> on the <strong>Electronic reporting jobs</strong> page to get a generated outbound document.</p>
<div class="NOTE">
<h5>Note</h5>
<p>This document is stored as an attachment of the current job record and is controlled by the <a href="https://docs.microsoft.com/dynamics365/fin-ops-core/fin-ops/organization-administration/configure-document-management">Document management</a> framework. The <a href="https://docs.microsoft.com/dynamics365/fin-ops-core/fin-ops/organization-administration/configure-document-management#configure-document-types">document type</a> that is used to store ER artifacts of this type is configured in the <a href="https://docs.wika.com/en-us/dynamics365/supply-chain/fin-ops-core/dev-itpro/analytics/electronic-reporting-er-configure-parameters">ER parameters (This is an external linThis link was changed due to HTMLfromRepoGenerator)</a>.</p>
</div>
</li>
<li><p>On the <strong>Electronic reporting jobs</strong> page, select <strong>Show files</strong> to view the list of any errors and warnings that were generated during job execution.</p>
<p><a href="./media/ER_Destinations-ReviewERJobs.png"><img src="./media/ER_Destinations-ReviewERJobs.png" alt="Reviewing the ER jobs list"></a></p>
</li>
</ul>
<h3 id="user-configured-behavior">User-configured behavior</h3>
<p>On the <strong>Electronic reporting destination</strong> page, you can override the default behavior for a configuration. Imported configurations aren't shown on this page until you select <strong>New</strong> and then, in the <strong>Reference</strong> field, select a configuration to create destination settings for.</p>
<p><a href="./media/ER_Destinations-SelectFormat.png"><img src="./media/ER_Destinations-SelectFormat.png" alt="Selecting a configuration in the Reference field"></a></p>
<p>After you create a reference, you can create a file destination for each <strong>Folder</strong> or <strong>File</strong> output component of the referenced ER format.</p>
<p><a href="./media/ER_Destinations-ConfigureElementDestination.png"><img src="./media/ER_Destinations-ConfigureElementDestination.png" alt="Creating a file destination"></a></p>
<p>Next, in the <strong>Destination settings</strong> dialog box, you can enable and disable individual destinations for the file destination. The <strong>Settings</strong> button is used to control all the destinations for a selected file destination. In the <strong>Destination settings</strong> dialog box, you can control each destination separately by setting the <strong>Enabled</strong> option for it.</p>
<p>In versions of Finance <strong>before version 10.0.9</strong>, you can create <strong>one file destination</strong> for each output component of the same format, such as a folder or a file that is selected in the <strong>File Name</strong> field. However, in <strong>version 10.0.9 and later</strong>, you can create <strong>multiple file destinations</strong> for each output component of the same format.</p>
<p>For example, you can use this capability to configure file destinations for a file component that is used to generate an outbound document in Excel format. One destination (<a href="er-destination-type-archive.html">Archive</a>) can be configured to store the original Excel file in the ER jobs archive, and another destination (<a href="er-destination-type-email.html">Email</a>) can be configured to simultaneously <a href="#OutputConversionToPDF">convert</a> the Excel file to PDF format and send the PDF file by email.</p>
<p><a href="./media/ER_Destinations-SampleDestinations.png"><img src="./media/ER_Destinations-SampleDestinations.png" alt="Configuring multiple destinations for a single format element"></a></p>
<h2 id="destination-types">Destination types</h2>
<p>The following destinations are currently supported for ER formats. You can disable or enable all types at the same time. In this way, you can either do nothing or send the component to all configured destinations.</p>
<ul>
<li><a href="er-destination-type-email.html">Email</a></li>
<li><a href="er-destination-type-archive.html">Archive</a></li>
<li><a href="er-destination-type-file.html">File</a></li>
<li><a href="er-destination-type-screen.html">Screen</a></li>
<li><a href="er-destination-type-powerbi.html">Power BI</a></li>
<li><a href="er-destination-type-print.html">Print</a></li>
</ul>
<h2 id="applicability">Applicability</h2>
<p>You can set up destinations only for ER configurations that have been imported, and for the formats that are available on the <strong>Electronic reporting configurations</strong> page.</p>
<div class="NOTE">
<h5>Note</h5>
<p>Configured destinations are company-specific. If you plan to use an ER format in different companies of the current Finance instance, you must configure destinations for that ER format for each of those companies.</p>
</div>
<p>When you configure file destinations for a selected format, you configure them for the whole format.</p>
<p><a href="./media/ER_Destinations-ConfigurationLink.png"><img src="./media/ER_Destinations-ConfigurationLink.png" alt="Configuration link"></a></p>
<p>At the same time, you might have multiple <a href="general-electronic-reporting.html#component-versioning">versions</a> of the format that have been imported into the current Finance instance. You can view them if you select the <strong>Configuration</strong> link that is offered when you select the <strong>Reference</strong> field.</p>
<p><a href="./media/ER_Destinations-ConfigurationVersions.png"><img src="./media/ER_Destinations-ConfigurationVersions.png" alt="Configuration versions"></a></p>
<p>By default, configured destinations are applied only when you run an ER format version that has a status of either <strong>Completed</strong> or <strong>Shared</strong>. However, you must sometimes use configured destinations when the draft version of an ER format is run. For example, you modify a draft version of your format, and you want to use configured destinations to test how generated output will be delivered. Follow these steps to apply destinations for an ER format when the draft version is run.</p>
<ol>
<li>Go to <strong>Organization administration</strong> &gt; <strong>Electronic reporting</strong> &gt; <strong>Configurations</strong>.</li>
<li>On the <strong>Configurations</strong> page, on the Action Pane, on the <strong>Configurations</strong> tab, in the <strong>Advanced settings</strong> group, select <strong>User parameters</strong>.</li>
<li>Set the <strong>Use destinations for draft status</strong> option to <strong>Yes</strong>.</li>
</ol>
<p><a href="./media/ER_Destinations-UserSetting1.png"><img src="./media/ER_Destinations-UserSetting1.png" alt="Use destinations for draft status option"></a></p>
<p>To use the draft version of an ER format, you must mark the ER format accordingly.</p>
<ol>
<li>Go to <strong>Organization administration</strong> &gt; <strong>Electronic reporting</strong> &gt; <strong>Configurations</strong>.</li>
<li>On the <strong>Configurations</strong> page, on the Action Pane, on the <strong>Configurations</strong> tab, in the <strong>Advanced settings</strong> group, select <strong>User parameters</strong>.</li>
<li>Set the <strong>Run setting</strong> option to <strong>Yes</strong>.</li>
</ol>
<p><a href="./media/ER_Destinations-UserSetting2.png"><img src="./media/ER_Destinations-UserSetting2.png" alt="Run setting option"></a></p>
<p>After you complete this setup, the <strong>Run draft</strong> option becomes available for ER formats that you modify. Set this option to <strong>Yes</strong> to start to use the draft version of the format when the format is run.</p>
<p><a href="./media/ER_Destinations-FormatSetting.png"><img src="./media/ER_Destinations-FormatSetting.png" alt="Run draft option"></a></p>
<h2 id="DestinationFailure">Destination failure handling</h2>
<p>Usually, an ER format is run within the scope of a specific business process. However, the delivery of an outbound document that is generated during execution of an ER format must sometimes be considered part of that business process. In this case, if delivery of a generated outbound document to a configured destination is unsuccessful, execution of the business process must be canceled. To configure the appropriate ER destination, select the <strong>Stop processing on failure</strong> option.</p>
<p>For example, you configure vendor payment processing so that the <strong>ISO20022 Credit Transfer</strong> ER format is run to generate the payment file and supplementary documents (for example, the covering letter and control report). If a payment should be considered successfully processed only if the covering letter is successfully delivered by email, you must select the <strong>Stop processing on failure</strong> check box for the <strong>CoveringLetter</strong> component in the appropriate file destination, as shown in the following illustration. In this case, the status of the payment that is selected for processing will be changed from <strong>None</strong> to <strong>Sent</strong> only when the covering letter that is generated is successfully accepted for delivery by an email provider that is configured in the Finance instance.</p>
<p><a href="./media/ER_Destinations-StopProcessingAtDestinationFailure.png"><img src="./media/ER_Destinations-StopProcessingAtDestinationFailure.png" alt="Configuring process handling for file destination failure"></a></p>
<p>If you clear the <strong>Stop processing on failure</strong> check box for the <strong>CoveringLetter</strong> component in the destination, a payment will be considered successfully processed even if the covering letter isn't successfully delivered by email. The status of the payment will be changed from <strong>None</strong> to <strong>Sent</strong> even if the covering letter can't be sent because, for example, the email address of the recipient or sender is missing or incorrect.</p>
<h2 id="OutputConversionToPDF">Output conversion to PDF</h2>
<p>You can use the PDF conversion option to convert output in Microsoft Office format (Excel/Word) to PDF format.</p>
<h3 id="make-pdf-conversion-available">Make PDF conversion available</h3>
<p>To make the PDF conversion option available in the current Finance instance, open the <strong>Feature management</strong> workspace, and turn on the <strong>Convert Electronic Reporting outbound documents from Microsoft Office formats to PDF</strong> feature.</p>
<p><a href="./media/ER_Destinations-EnablePdfConversionFeature.png"><img src="./media/ER_Destinations-EnablePdfConversionFeature.png" alt="Turning on the PDF conversion of outbound documents feature in Feature management"></a></p>
<h3 id="applicability-1">Applicability</h3>
<p>The PDF conversion option can be turned on only for file components that are used to generate output in Microsoft Office Excel or Word format (<strong>Excel file</strong>). When this option is turned on, output that is generated in Office format is automatically converted to PDF format.</p>
<h3 id="limitations">Limitations</h3>
<div class="NOTE">
<h5>Note</h5>
<p>This feature is a preview feature and is subject to the terms of use that are described in <a href="https://go.microsoft.com/fwlink/?linkid=2105274">Supplemental Terms of Use for Microsoft Dynamics 365 Previews</a>.</p>
</div>
<div class="NOTE">
<h5>Note</h5>
<p>The PDF conversion option is only available for cloud deployments.</p>
<p>The produced PDF is limited to a maximum number of 300 pages.</p>
<p>In Microsoft Dynamics 365 Finance version 10.0.9 (April 2020) only landscape page orientation is supported in the PDF document that is produced from an Excel output. With the release of Dynamics 365 Finance version 10.0.10 (May 2020), you can <a href="#SelectPdfPageOrientation">specify page orientation</a> in the PDF document that is produced from an Excel output while you configure an ER destination.</p>
<p>Only the common system fonts of the Window operating system are used for the conversion of an output that contains no embedded fonts.</p>
</div>
<h3 id="use-the-pdf-conversion-option">Use the PDF conversion option</h3>
<p>To turn on PDF conversion for a file destination, select the <strong>Convert to PDF</strong> check box.</p>
<p><a href="./media/ER_Destinations-TurnOnPDFConversion.png"><img src="./media/ER_Destinations-TurnOnPDFConversion.png" alt="Turning on PDF conversion for a file destination"></a></p>
<h3 id="select-a-page-orientation-for-pdf-conversion"><a name="SelectPdfPageOrientation">Select a page orientation for PDF conversion</a></h3>
<p>If you generate an ER configuration in Excel format and want to convert it to PDF format, you can specify the page orientation of the PDF. When you select the <strong>Convert to PDF</strong> check box to turn on PDF conversion for a file destination that produces an output file in Excel format, the <strong>Page orientation</strong> field becomes available on the <strong>PDF conversion settings</strong> FastTab. In the <strong>Page orientation</strong> field, select the preferred orientation.</p>
<p><a href="./media/ER_Destinations-SelectPDFConversionPageOrientation.png"><img src="./media/ER_Destinations-SelectPDFConversionPageOrientation.png" alt="Selecting a page orientation for PDF conversion"></a></p>
<div class="NOTE">
<h5>Note</h5>
<p>To have the option to select the PDF page orientation, you must install Microsoft Dynamics 365 Finance version 10.0.10 (May 2020) or later.</p>
<p>The selected page orientation is applied to all ER configurations that are generated in Excel format and then converted to PDF format.</p>
<p>If a converted PDF is created from an ER configuration in Word format, the page orientation of the PDF is taken from the Word document.</p>
</div>
<h2 id="security-considerations">Security considerations</h2>
<p>Two types of privileges and duties are used for ER destinations. One type controls a user's overall ability to maintain the destinations that are configured for a legal entity (that is, it controls access to the <strong>Electronic reporting destinations</strong> page). The other type controls an application user's ability to override, at runtime, the destination settings that an ER developer or ER functional consultant has configured.</p>
<table>
<thead>
<tr>
<th>Role (AOT name)</th>
<th>Role name</th>
<th>Duty (AOT name)</th>
<th>Duty name</th>
</tr>
</thead>
<tbody>
<tr>
<td>ERDeveloper</td>
<td>Electronic reporting developer</td>
<td>ERFormatDestinationConfigure</td>
<td>Configure electronic reporting format destination</td>
</tr>
<tr>
<td>ERFunctionalConsultant</td>
<td>Electronic reporting functional consultant</td>
<td>ERFormatDestinationConfigure</td>
<td>Configure electronic reporting format destination</td>
</tr>
<tr>
<td>PaymAccountsPayablePaymentsClerk</td>
<td>Accounts payable payments clerk</td>
<td>ERFormatDestinationRuntimeConfigure</td>
<td>Configure electronic reporting format destination during runtime</td>
</tr>
<tr>
<td>PaymAccountsReceivablePaymentsClerk</td>
<td>Accounts receivable payments clerk</td>
<td>ERFormatDestinationRuntimeConfigure</td>
<td>Configure electronic reporting format destination during runtime</td>
</tr>
</tbody>
</table>
<div class="NOTE">
<h5>Note</h5>
<p>Two privileges are used in the preceding duties. These privileges have the same names as the corresponding duties: <strong>ERFormatDestinationConfigure</strong> and <strong>ERFormatDestinationRuntimeConfigure</strong>.</p>
</div>
<h2 id="frequently-asked-questions">Frequently asked questions</h2>
<h3 id="i-have-imported-electronic-configurations-and-i-see-them-on-the-electronic-reporting-configurations-page-but-why-dont-i-see-them-on-the-electronic-reporting-destinations-page">I have imported electronic configurations, and I see them on the Electronic reporting configurations page. But why don't I see them on the Electronic reporting destinations page?</h3>
<p>Make sure that you select <strong>New</strong> and then select a configuration in the <strong>Reference</strong> field. The <strong>Electronic reporting destinations</strong> page shows only configurations that destinations have been configured for.</p>
<h3 id="is-there-any-way-to-define-which-microsoft-azure-storage-account-and-azure-blob-storage-are-used">Is there any way to define which Microsoft Azure Storage account and Azure Blob storage are used?</h3>
<p>No. The default Microsoft Azure Blob storage that is defined and used for the document management system is used.</p>
<h3 id="what-is-the-purpose-of-the-file-destination-in-the-destination-settings-what-does-that-setting-do">What is the purpose of the File destination in the destination settings? What does that setting do?</h3>
<p>The <strong>File</strong> destination is used to control a dialog box. If you enable this destination, or if no destination is defined for a configuration, an open or save dialog box appears after an output file is created.</p>
<h3 id="can-you-give-an-example-of-the-formula-that-refers-to-a-vendor-account-that-i-can-send-email-to">Can you give an example of the formula that refers to a vendor account that I can send email to?</h3>
<p>The formula is specific to the ER configuration. For example, if you use the ISO 20022 Credit Transfer configuration, you can use <strong>'$PaymentsForCoveringLetter'.Creditor.Identification.SourceID</strong> or <strong>model.Payments.Creditor.Identification.SourceID</strong> to get an associated vendor account.</p>
<h3 id="one-of-my-format-configurations-contains-multiple-files-that-are-grouped-into-one-folder-for-example-folder1-contains-file1-file2-and-file3-how-do-i-set-up-destinations-so-that-folder1zip-isnt-created-at-all-file1-is-sent-by-email-file2-is-sent-to-sharepoint-and-i-can-open-file3-immediately-after-the-configuration-is-run">One of my format configurations contains multiple files that are grouped into one folder (for example, Folder1 contains File1, File2, and File3). How do I set up destinations so that Folder1.zip isn't created at all, File1 is sent by email, File2 is sent to SharePoint, and I can open File3 immediately after the configuration is run?</h3>
<p>Your format must first be available in the ER configurations. If this prerequisite is met, open the <strong>Electronic reporting destination</strong> page, and create a new reference to the configuration. You must then have four file destinations, one for each output component. Create the first file destination, give it a name such as <strong>Folder</strong>, and select a file name that represents a folder in your configuration. Then select <strong>Settings</strong>, and make sure that all the destinations are disabled. For this file destination, the folder won't be created. By default, because of hierarchical dependencies between files and parent folders, the files will behave in the same way. In other words, they won't be sent anywhere. To override that default behavior, you must create three more file destinations, one for each file. In the destination settings for each, you must enable the destination that the file should be sent to.</p>
<h2 id="additional-resources">Additional resources</h2>
<p><a href="general-electronic-reporting.html">Electronic reporting (ER) overview</a></p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
  </body>
</html>
