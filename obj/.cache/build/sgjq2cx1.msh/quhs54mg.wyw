<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Customer information management for Italy | WIKA Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Customer information management for Italy | WIKA Documentation ">
    <meta name="generator" content="docfx 2.56.6.0">
    
    <link rel="shortcut icon" href="../../../microsoft-dynamics-crm-365-icon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="../TOC.html">
    
    <meta property="docfx:rel" content="../../../">
    
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="customer-information-management-for-italy" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="29">Customer information management for Italy</h1>

<h2 id="introduction" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="34">Introduction</h2>
<p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="36">This topic describes how you can handle customer information, such as the customer's lottery code, in the Commerce point of sale (POS) for Italy.</p>
<p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="38">You can specify the customer information, such as the fiscal code or lottery code, when you create or edit a customer master record in POS. You can also specify the lottery code for a sales transaction by copying it from the transaction customer or entering it manually. The lottery code can then be printed on both regular and fiscal receipts, and it can be used for the national lottery. Personal fiscal codes can also be used to search for a customer in POS.</p>
<div class="NOTE" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="40">
<h5>Note</h5>
<p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="41">This functionality is available in version 10.0.7 and later.</p>
</div>
<h2 id="setup" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="43">Setup</h2>
<p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="45">You must complete the following configuration to use this functionality:</p>
<ul sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="47">
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="47">Set up a registration type for the lottery code.</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="48">Add the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="48">Add customer information</strong> operation to screen layouts.</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="49">Activate the inquiry for customer information.</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="50">Set up receipt formats.</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="51">Add a customer search criterion.</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="52">Configure channel components.</li>
</ul>
<h3 id="set-up-a-registration-type-for-the-lottery-code" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="54">Set up a registration type for the lottery code</h3>
<p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="56">Before lottery codes can be specified in POS, you must create an appropriate registration type for the lottery code and link it to the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="56">Lottery code</strong> registration category. For more information about how to work with registration types and registration IDs, see <a href="../../finance/localizations/emea-registration-ids.html" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="56">Registration IDs</a>.</p>
<div class="WARNING" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="58">
<h5>Warning</h5>
<p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="59">If a registration type isn't created or isn't linked to the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="59">Lottery code</strong> registration category, an error will be generated in POS when the lottery code is filled in for a customer address.</p>
</div>
<h3 id="add-the-add-customer-information-operation-to-screen-layouts" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="61">Add the Add customer information operation to screen layouts</h3>
<p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="63">The <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="63">Add customer information</strong> operation can be used to add customer information, such as the lottery code, to a sales transaction. This information can be copied from the customer that is specified for the transaction, or it can be manually entered.</p>
<p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="65">On the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="65">Button grids</strong> page, select the button grid where the operation should appear, and open the Button grid designer. Add a new button, and then, in the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="65">Action</strong> field, select <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="65">Add customer information</strong>. For more information about how to work with screen layouts and button grids, see <a href="../pos-screen-layouts.html" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="65">Screen layouts for the point of sale (POS)</a>.</p>
<h3 id="activate-the-inquiry-for-customer-information" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="67">Activate the inquiry for customer information</h3>
<p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="69">If the customer information isn't specified for a sales transaction, an inquiry for that information can be triggered automatically after the transaction is finalized. This approach is an alternative to the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="69">Add customer information</strong> operation.</p>
<p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="71">To activate the inquiry for customer information, set the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="71">Enable inquiry of customer information in sales transactions</strong> option to <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="71">Yes</strong> in the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="71">Tax parameters</strong> section on the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="71">Functions</strong> FastTab of the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="71">POS functionality profiles</strong> page.</p>
<h3 id="set-up-receipt-formats" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="73">Set up receipt formats</h3>
<p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="75">You can configure receipt formats so that the customer's fiscal code and lottery code are printed on receipts.</p>
<div class="NOTE" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="77">
<h5>Note</h5>
<p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="78">The default company of the user who creates the receipt setup should be the same legal entity where the language text setup is created. Alternatively, the same language texts should be created in both the user's default company and the legal entity of the store that the setup is created for.</p>
</div>
<p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="80">On the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="80">Language text</strong> page, on the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="80">POS</strong> tab, add the following records for the labels of the custom fields for receipt formats. Note that the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="80">Language ID</strong>, <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="80">Text ID</strong>, and <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="80">Text</strong> values that are shown in the following table are just examples. You can change them to meet your requirements. However, the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="80">Text ID</strong> values that you use must be unique, and they must be equal to or more than 900001.</p>
<table sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="82">
<thead>
<tr sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="82">
<th sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="82">Language ID</th>
<th sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="82">Text ID</th>
<th sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="82">Text</th>
</tr>
</thead>
<tbody>
<tr sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="84">
<td sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="84">en-US</td>
<td sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="84">900001</td>
<td sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="84">Lottery code</td>
</tr>
<tr sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="85">
<td sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="85">en-US</td>
<td sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="85">900002</td>
<td sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="85">Fiscal code</td>
</tr>
</tbody>
</table>
<p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="87">On the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="87">Custom fields</strong> page, add the following records for the custom fields for receipt formats. Note that the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="87">Caption text ID</strong> values must correspond to the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="87">Text ID</strong> values that you specified on the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="87">Language text</strong> page.</p>
<table sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="89">
<thead>
<tr sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="89">
<th sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="89">Name</th>
<th sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="89">Type</th>
<th sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="89">Caption text ID</th>
</tr>
</thead>
<tbody>
<tr sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="91">
<td sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="91">FISCALCUSTOMER_LOTTERYCODE_IT</td>
<td sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="91">Receipt</td>
<td sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="91">900001</td>
</tr>
<tr sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="92">
<td sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="92">CUSTOMER_FISCALCODE_IT</td>
<td sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="92">Receipt</td>
<td sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="92">900002</td>
</tr>
</tbody>
</table>
<p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="94">In the Receipt format designer, add the custom fields to the appropriate receipt section for every receipt format that is required. For more information about how to work with receipt formats, see <a href="../receipt-templates-printing.html" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="94">Receipt templates and printing</a>.</p>
<h3 id="add-a-customer-search-criterion" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="96">Add a customer search criterion</h3>
<p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="98">You can add a customer search criterion so that customers can be searched for in POS by their fiscal codes.</p>
<p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="100">On the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="100">Commerce parameters</strong> page, on the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="100">POS search criteria</strong> tab, add a new customer search criterion. In the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="100">Customer search criteria</strong> field, select <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="100">Tax registration number</strong>. Select the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="100">Display as shortcut</strong> check box, but leave the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="100">Can be refined</strong> check box cleared. Then, on the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="100">Distribution schedules</strong> page, run the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="100">1110</strong> job.</p>
<h3 id="configure-channel-components" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="102">Configure channel components</h3>
<p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="104">To make the functionality that is specific to Italy available, you must configure extensions for commerce channel components. For more information, see the <a href="#deployment-guidelines" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="104">Deployment guidelines</a> section later in this topic.</p>
<h2 id="example-scenarios" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="106">Example scenarios</h2>
<p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="108">The following example scenarios show how to work with customer information in POS for Italy.</p>
<h3 id="scenario-1-make-a-sale-to-an-anonymous-customer" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="110">Scenario 1: Make a sale to an anonymous customer</h3>
<ol sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="112">
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="112">Sign in to POS.</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="113">Add items to the cart.</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="114">Select <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="114">Add customer information</strong>, and then select <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="114">Enter manually</strong>.</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="115">Enter the customer's lottery code, and then select <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="115">OK</strong>.</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="116">Register payments for the transaction, and then finalize the transaction.</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="117">Verify that the printed receipt contains the customer's lottery code.</li>
</ol>
<h3 id="scenario-2-make-a-sale-to-a-new-named-customer" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="119">Scenario 2: Make a sale to a new named customer</h3>
<ol sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="121">
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="121">Sign in to POS.</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="122">Add items to the cart.</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="123">Select <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="123">Add customer</strong>, and then select <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="123">New</strong>.</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="124">Specify the new customer's attributes. In the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="124">Fiscal code</strong> field, enter the customer's fiscal code.</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="125">Select <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="125">Create a new address</strong>. Then specify the new customer's contact information and an address.</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="126">In the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="126">Lottery code</strong> field, enter the customer's lottery code.</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="127">Save the customer record and the customer address record, and add the customer to the transaction.</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="128">Register payments for the transaction, and then finalize the transaction.</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="129">Because the inquiry for customer information has been activated, but customer information hasn't been added to the transaction, the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="129">Enter customer information</strong> dialog box is opened. Select <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="129">Yes</strong>, and then select <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="129">Copy from transaction customer</strong>.</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="130">Verify the customer's lottery code, and then select <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="130">OK</strong>.</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="131">Verify that the printed receipt contains the customer's lottery code.</li>
</ol>
<div class="NOTE" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="133">
<h5>Note</h5>
<p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="134">If you must specify a different customer for the transaction, you must clear the customer information and then copy it again after the new customer is added.</p>
</div>
<h3 id="scenario-3-change-the-customer-information-for-a-sale-to-a-named-customer" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="136">Scenario 3: Change the customer information for a sale to a named customer</h3>
<ol sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="138">
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="138">Sign in to POS.</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="139">Add items to the cart.</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="140">Select <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="140">Add customer</strong>, and then select a customer account to add it to the transaction.</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="141">Select <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="141">Add customer information</strong>, and then select <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="141">Copy from transaction customer</strong>.</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="142">Verify the customer's lottery code, and then select <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="142">OK</strong>.</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="143">Select <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="143">Add customer information</strong>, and then select <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="143">Clear</strong> to clear the customer information from the transaction.</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="144">Select <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="144">Add customer information</strong>, and then select <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="144">Enter manually</strong>.</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="145">Specify the customer's lottery code, and then select <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="145">OK</strong>.</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="146">Register payments for the transaction, and then finalize the transaction.</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="147">Verify that the printed receipt contains the customer's lottery code.</li>
</ol>
<h2 id="deployment-guidelines" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="149">Deployment guidelines</h2>
<p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="151">This section provides deployment guidance for enabling customer information management in the localization of Commerce for Italy.</p>
<div class="NOTE" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="153">
<h5>Note</h5>
<p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="154">Some steps in these procedures vary, depending on the version of Commerce that you're using. For more information, see <a href="../get-started/whats-new.html" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="154">What's new or changed in Dynamics 365 for Retail</a>.</p>
<p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="156">If you want to enable the integration of POS with fiscal printers for Italy, and specifically if you want to print customer lottery codes on fiscal receipts, you must deploy the <a href="emea-ita-fpi-sample.html" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="156">fiscal printer integration sample for Italy</a>.</p>
</div>
<h3 id="update-customizations" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="158">Update customizations</h3>
<p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="160">Follow these steps to update customizations.</p>
<div class="tabGroup" id="tabgroup_CeZOj-G++Q" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="162">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_CeZOj-G++Q_retail-10-0-7" role="tab" aria-controls="tabpanel_CeZOj-G++Q_retail-10-0-7" data-tab="retail-10-0-7" tabindex="0" aria-selected="true" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="162">Retail 10.0.7 and later</a>
</li>
<li role="presentation">
<a href="#tabpanel_CeZOj-G++Q_retail-10-0-12" role="tab" aria-controls="tabpanel_CeZOj-G++Q_retail-10-0-12" data-tab="retail-10-0-12" tabindex="-1" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="190">Retail 10.0.12 and later</a>
</li>
</ul>
<section id="tabpanel_CeZOj-G++Q_retail-10-0-7" role="tabpanel" data-tab="retail-10-0-7">

<p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="164">If any of your customizations include request handlers for the <code sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="164">SaveCartRequest</code> or <code sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="164">CreateSalesOrderServiceRequest</code> requests:</p>
<ol sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="166">
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="166"><p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="166">Find the request handler for <code sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="166">SaveCartRequest</code>.</p>
</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="167"><p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="167">Find the line of code that runs the original request handler.</p>
</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="168"><p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="168">Add the following lines before calling the original request handler:</p>
<pre><code class="lang-cs" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="170">using Microsoft.Dynamics.Commerce.Runtime.TaxRegistrationIdItaly.Services;

...

new TaxRegistrationIdFiscalCustomerService().Execute(request);
</code></pre>
</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="178"><p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="178">Find the request handler for <code sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="178">CreateSalesOrderServiceRequest</code>.</p>
</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="179"><p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="179">Find the line of code that runs the original request handler.</p>
</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="180"><p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="180">Replace it with the following code:</p>
<pre><code class="lang-cs" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="182">using Microsoft.Dynamics.Commerce.Runtime.TaxRegistrationIdItaly.Services;

...

return new TaxRegistrationIdFiscalCustomerService().Execute(request);
</code></pre>
</li>
</ol>
</section>
<section id="tabpanel_CeZOj-G++Q_retail-10-0-12" role="tabpanel" data-tab="retail-10-0-12" aria-hidden="true" hidden="hidden">

<p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="192">If customizations have references to the <code sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="192">TaxRegistrationIdFiscalCustomerService</code> service, they must be removed.</p>
</section>
</div>
<h3 id="update-a-development-environment" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="196">Update a development environment</h3>
<p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="198">Follow these steps to update a development environment.</p>
<h4 id="crt-extension-components" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="200">CRT extension components</h4>
<ol sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="202">
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="202"><p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="202">Find the extension configuration file for the Commerce runtime (CRT):</p>
<ul sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="204">
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="204"><strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="204">Commerce Scale Unit:</strong> Find the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="204">CommerceRuntime.Ext.config</strong> file in the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="204">bin\ext</strong> folder under the Microsoft Internet Information Services (IIS) Commerce Scale Unit site location.</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="205"><strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="205">Local CRT on Modern POS:</strong> Find the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="205">CommerceRuntime.MPOSOffline.Ext.config</strong> file under the local CRT client broker location.</li>
</ul>
</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="207"><p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="207">Register the CRT extension in the extension configuration file.</p>
<pre><code class="lang-xml" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="209">&lt;add source=&quot;assembly&quot; value=&quot;Microsoft.Dynamics.Commerce.Runtime.TaxRegistrationIdItaly&quot; /&gt;
</code></pre>
<div class="WARNING" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="213">
<h5>Warning</h5>
<p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="214">Do <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="214">not</strong> edit the CommerceRuntime.config and CommerceRuntime.MPOSOffline.config files. These files aren't intended for any customizations.</p>
</div>
</li>
</ol>
<h4 id="modern-pos-extension-components" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="216">Modern POS extension components</h4>
<p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="218">Follow these steps to make the TaxRegistrationId.IT extension available.</p>
<ol sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="220">
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="220"><p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="220">Open the solution at <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="220">RetailSdk\POS\ModernPOS.sln</strong>.</p>
</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="221"><p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="221">In <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="221">POS.Extensions\extensions.json</strong>, turn on the extension.</p>
<pre><code class="lang-json" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="223">{
    &quot;extensionPackages&quot;: [
        {
            &quot;baseUrl&quot;: &quot;Microsoft/TaxRegistrationId.IT&quot;
        }
    ]
}
</code></pre>
</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="233"><p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="233">Build the solution.</p>
</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="234"><p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="234">Open Modern POS, and test the functionality.</p>
</li>
</ol>
<h4 id="cloud-pos-extension-components" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="236">Cloud POS extension components</h4>
<p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="238">Follow these steps to make the TaxRegistrationId.IT extension available.</p>
<ol sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="240">
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="240"><p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="240">Open the solution at <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="240">RetailSdk\POS\CloudPOS.sln</strong>.</p>
</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="241"><p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="241">In <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="241">POS.Extensions\extensions.json</strong>, turn on the extension.</p>
<pre><code class="lang-json" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="243">{
    &quot;extensionPackages&quot;: [
        {
            &quot;baseUrl&quot;: &quot;Microsoft/TaxRegistrationId.IT&quot;
        }
    ]
}
</code></pre>
</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="253"><p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="253">Build the solution.</p>
</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="254"><p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="254">Open Cloud POS, and test the functionality.</p>
</li>
</ol>
<h3 id="update-a-production-environment" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="256">Update a production environment</h3>
<p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="258">Follow these steps to create deployable packages that contain Commerce components, and to apply the packages in a production environment.</p>
<ol sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="260">
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="260"><p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="260">In the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="260">CommerceRuntime.Ext.config</strong> and <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="260">CommerceRuntime.MPOSOffline.Ext.config</strong> configuration files under the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="260">RetailSdk\Assets</strong> folder, add the following lines to the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="260">composition</strong> section.</p>
<pre><code class="lang-xml" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="262">&lt;add source=&quot;assembly&quot; value=&quot;Microsoft.Dynamics.Commerce.Runtime.TaxRegistrationIdItaly&quot; /&gt;
</code></pre>
</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="266"><p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="266">Turn on the <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="266">TaxRegistrationId.IT</strong> POS extension.</p>
<pre><code class="lang-json" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="268">{
    &quot;extensionPackages&quot;: [
        {
            &quot;baseUrl&quot;: &quot;Microsoft/TaxRegistrationId.IT&quot;
        }
    ]
}
</code></pre>
</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="278"><p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="278">Run <strong sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="278">msbuild</strong> for the whole Retail software development kit (SDK) to create deployable packages.</p>
</li>
<li sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="279"><p sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="279">Apply the packages via Microsoft Dynamics Lifecycle Services (LCS) or manually. For more information, see <a href="https://docs.wika.com/en-us/dynamics365/supply-chain/commerce/dev-itpro/retail-sdk/retail-sdk-packaging" sourcefile="articles/commerce/localizations/emea-ita-customer-information.md" sourcestartlinenumber="279">Retail SDK packaging (This is an external linThis link was changed due to HTMLfromRepoGenerator)</a>.</p>
</li>
</ol>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/togoAIO/d365Doku/blob/main/articles/commerce/localizations/emea-ita-customer-information.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
