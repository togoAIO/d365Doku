<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Konfigurieren von EB-Formaten zur Verwendung von Parametern, die pro juristischer Person angegeben werden | WIKA Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Konfigurieren von EB-Formaten zur Verwendung von Parametern, die pro juristischer Person angegeben werden | WIKA Documentation ">
    <meta name="generator" content="docfx 2.56.6.0">
    
    <link rel="shortcut icon" href="../../../../microsoft-dynamics-crm-365-icon.ico">
    <link rel="stylesheet" href="../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../styles/main.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 
    <meta property="docfx:navrel" content="../../../../toc.html">
    <meta property="docfx:tocrel" content="../../../commerce/TOC.html">
    
    <meta property="docfx:rel" content="../../../../">
    
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../../index.html">
                <img id="logo" class="svg" src="../../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="configure-er-formats-to-use-parameters-that-are-specified-per-legal-entity">Konfigurieren von EB-Formaten zur Verwendung von Parametern, die pro juristischer Person angegeben werden</h1>

[!include[banner](../includes/banner.md)]<h2 id="overview">Übersicht</h2>
<p>In vielen der Elektronischen Berichterstellungs(EB)-Formate, die Sie gestalten, müssen Sie Daten mithilfe einer Gruppe von Werten filtern, die für jede juristische Person Ihrer Instanz (zum Beispiel, eine Gruppe von Steuercodes, um Steuertransaktionen zu filtern) spezifisch sind. Wenn dieser Typ momentan in einem EB-Format gefiltert wird, werden Werte, die von der juristischen Person abhängig sind (zum Beispiel Steuercodes) in Ausdrücken des EB-Formats verwendet, um Datenfilterungsregeln anzugeben. Daher wird das EB-Format an die juristischen Person angepasst. Um die erforderlichen Berichte zu erzeugen, müssen Sie abgeleitete Kopien des ursprünglichen EB-Formats für jede juristische Person erstellen, für die Sie das EB-Format ausgeführt haben. Jedes abgeleitete EB-Format muss bearbeitet werden, um Werte speziell für die juristische Person dort hinzuzufügen. Es muss umbasiert werden, sobald die ursprüngliche (Basis-)Version aktualisiert, sie aus einer Testumgebung exportiert und in eine Produktionsumgebung importiert wurde, wenn sie für die Verwendung in der Produktion bereitgestellt werden muss usw. Daher ist die Wartung dieses Typs der konfigurierten EB-Lösung aus verschiedenen Gründen ziemlich komplex und zeitaufwändig:</p>
<ul>
<li>Je mehr juristische Personen vorhanden sind, desto mehr EB-Formatkonfigurationen müssen verwaltet werden.</li>
<li>Die Verwaltung von EB-Konfigurationen setzt voraus, dass geschäftliche Benutzer EB-Wissen haben.</li>
</ul>
<p>Mit der anwendungsspezifischen EB-Parameterfunktion können Poweruser die Datenenfilterung in einem EB-Format konfigurieren, damit sie auf einer Gruppe von abstrakten Regeln basiert. Diese Gruppe von Regeln kann so konfiguriert werden, dass sie die Datenquellen nutzt, die in einem EB-Format verfügbar sind. Geschäftliche Benutzer können echte Regeln über das EB-Rahmenwerk hinaus angeben, indem sie die Benutzeroberfläche, die automatisch anhand der Einstellungen des entsprechenden EB-Formats erzeugt wird, und die aktuellen Daten der juristischen Person verwenden, auf die über die Datenquellen des EB-Formats zugegriffen werden kann. Die Gruppe von Regeln, die für ein EB-Format angegeben ist, kann aus der aktuellen juristischen Person der Dynamics 365 Finance (Finance)-Instanz exportiert werden. Sie können dann in eine andere juristische Entität entweder derselben Finance-Instanz oder eine andere Instanz als Gruppe von Regeln für dasselbe EB-Format importiert werden.</p>
<h2 id="prerequisites">Voraussetzungen</h2>
<p>Um die Beispiele in diesem Thema abzuschließen, müssen Sie für eine der folgenden Rollen Zugriff auf die Instanz des Regulatory Configuration Service (RCS) haben, der für denselben Mandanten wie Finance bereitgestellt wurde:</p>
<ul>
<li>Entwickler für elektronische Berichterstellung</li>
<li>Funktionaler Berater für elektronische Berichterstellung</li>
<li>Systemadministrator</li>
</ul>
<p>Es wird empfohlen, dass Sie die Schritte im Thema <a href="er-calculated-field-type.html">Unterstützen parametrisierter Aufrufe von EB-Datenquellen des Typs BERECHNETES FELD</a> ausführen. Wenn Sie diese Schritte bereits abgeschlossen haben, können Sie die Schritte im Abschnitt <strong>Importieren von EB-Konfigurationen in RCS</strong> überspringen, der darauf folgt.</p>
<h2 id="import-er-configurations-into-rcs">Importieren von EB-Konfigurationen in RCS</h2>
<p>Laden Sie die Zip-Datei <strong>Unterstützen parametrisierter Aufrufe von EB-Datenquellen des Typs BERECHNETES FELD</strong> im <a href="https://go.microsoft.com/fwlink/?linkid=851448">Microsoft Download Center</a> herunter. Diese Zip-Datei enthält die folgenden EB-Konfigurationen, die lokal extrahiert und gespeichert werden müssen.</p>
<table>
<thead>
<tr>
<th><strong>Inhaltsbeschreibung</strong></th>
<th><strong>Dateiname</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Beispiel-<strong>EB-Datenmodell</strong>-Konfigurationsdatei</td>
<td>Model to learn parameterized calls.version.1.xml</td>
</tr>
<tr>
<td>Beispiel-<strong>EB-Metadaten</strong>-Konfigurationsdatei</td>
<td>Metadata to learn parameterized calls.version.1.xml</td>
</tr>
<tr>
<td>Beispiel-<strong>EB-Modellzuordnungs</strong>-Konfigurationsdatei</td>
<td>Mapping to learn parameterized calls.version.1.1.xml</td>
</tr>
<tr>
<td>Beispiel-<strong>EB-Formatkonfiguration</strong></td>
<td>Format to learn parameterized calls.version.1.1.xml</td>
</tr>
</tbody>
</table>
<p>Melden Sie sich als Nächstes bei Ihrer RCS-Instanz an.</p>
<p>In diesem Beispiel erstellen Sie eine Konfiguration für das Beispielunternehmen Litware, Inc. Bevor Sie diese Prozedur abschließen können, müssen Sie zunächst die Schritte im RCS-Thema <a href="tasks/er-configuration-provider-mark-it-active-2016-11.html">Konfigurationsanbieter erstellen und als aktiv markieren</a> abschließen.</p>
<ol>
<li><p>Wählen Sie im Standard-Dashboard <strong>Elektronische Berichterstellung</strong> aus.</p>
</li>
<li><p>Wählen Sie <strong>Berichterstellungskonfigurationen</strong> aus.</p>
</li>
<li><p>Importieren Sie die EB-Konfigurationen, die Sie zuvor in RCS heruntergeladen haben, in der folgenden Reihenfolge: Datenmodell, Metadaten, Modellzuordnung und Format. Führen Sie für jede EB-Konfiguration die folgenden Schritte aus:</p>
<ol>
<li>Wählen Sie <strong>Wechselkurs</strong> aus.</li>
<li>Wählen Sie <strong>Aus XML-Datei laden</strong> aus.</li>
<li>Wählen Sie <strong>Durchsuchen</strong> aus, um die Datei für die erforderliche EB-Konfiguration im XML-Format auszuwählen.</li>
<li>Wählen Sie <strong>OK</strong>.</li>
</ol>
</li>
</ol>
<h2 id="review-the-er-solution-that-is-provided">Überprüfen der bereitgestellten EB-Lösung</h2>
<ol>
<li><p>Erweitern Sie in der Konfigurationsstruktur die Inhalte des Elements <strong>Modell zum Ermitteln parametrisierter Aufrufe</strong>.</p>
</li>
<li><p>Wählen Sie das Element <strong>Format zum Ermitteln parametrisierter Aufrufe</strong> aus.</p>
</li>
<li><p>Wählen Sie <strong>Designer</strong> aus.</p>
</li>
<li><p>Wählen Sie <strong>Erweitern/Reduzieren</strong> aus.</p>
<p>Das EB-Format <strong>Format zum Ermitteln parametrisierter Anrufe</strong> ist so gestaltet, dass ein Steuerauszug im XML-Format erzeugt wird, der verschiedene Besteuerungsstufen (regulär, reduziert und keine) enthält. Jede Stufe hat eine andere Anzahl von Details.</p>
<p><img src="media/RCS-AppSpecParms-ReviewFormat.PNG" alt="Seite für EB-Arbeitsgangdesigner"></p>
</li>
<li><p>Erweitern Sie auf der Registerkarte <strong>Zuordnung</strong> die Elemente <strong>Modell</strong>, <strong>Daten</strong> und <strong>Zusammenfassung</strong>.</p>
<p>Die Datenquelle <strong>Model.Data.Summary</strong> gibt die Liste der Steuertransaktionen zurück. Diese Transaktionen werden anhand des Steuercodes zusammengefasst. Für diese Datenquelle wurde das berechnete Feld <strong>Model.Data.Summary.Level</strong> so konfiguriert, dass es den Code für die Besteuerungsstufe jedes zusammengefassten Datensatzes zurückgibt. Für jeden Steuercode, der zur Laufzeit aus der Datenquelle <strong>Model.Data.Summary</strong> abgerufen werden kann, gibt das berechnete Feld den Besteuerungsstufencode (<strong>Regulär</strong>, <strong>Reduziert</strong>, <strong>Keine</strong> oder <strong>Sonstige</strong>) als Textwert zurück. Das berechnete Feld <strong>Model.Data.Summary.Level</strong> wird verwendet, um Datensätze der Datenquelle <strong>Model.Data.Summary</strong> zu filtern, und geben Sie die gefilterten Daten in jedes XML-Element ein, das eine Besteuerungsstufe darstellt, indem Sie die Felder <strong>Model.Data2.Level1</strong>, <strong>Model.Data2.Level2</strong> und <strong>Model.Data2.Level3</strong> verwenden.</p>
<p><img src="media/RCS-AppSpecParms-ReviewFormat-Data2Fld.PNG" alt="Seite für EB-Arbeitsgangdesigner"></p>
<p>Das berechnete Feld <strong>Model.Data.Summary.Level</strong> wurde so konfiguriert, dass es einen EB-Ausdruck enthält. Beachten Sie, dass Steuercodes (<strong>VAT19</strong>, <strong>InVAT19</strong>, <strong>VAT7</strong>, <strong>InVAT7</strong>, <strong>THIRD</strong> und <strong>InVAT0</strong>) in dieser Konfiguration hartcodiert sind. Daher hängt dieses EB-Format von der juristischen Person ab, in der diese Steuercodes konfiguriert wurden.</p>
<p><img src="media/RCS-AppSpecParms-ReviewFormat-LevelFld.PNG" alt="Seite für EB-Arbeitsgangdesigner"></p>
<p>Um einen andere Gruppe von Steuercodes für die einzelnen juristischen Person zu unterstützen, müssen die folgenden Schritte ausgeführt werden:</p>
<ul>
<li>Erstellen Sie eine abgeleitete Version des EB-Formats für jede juristische Person.</li>
<li>Aktualisieren Sie die Steuercodes im berechneten Feld <strong>Model.Data.Summary.Level</strong> basierend auf den Einstellungen für die juristische Person.</li>
</ul>
</li>
<li><p>Seite <strong>Format-Designer</strong> schließen.</p>
</li>
</ol>
<h2 id="create-a-derived-format">Erstellen eines abgeleiteten Formats</h2>
<p>Verwenden Sie als Nächstes die anwendungsspezifische EB-Parameterfunktion, um eine andere Gruppe von Steuercodes für jede juristische Person in einem einzelnen EB-Format zu unterstützen.</p>
<ol>
<li>Erweitern Sie in der Konfigurationsstruktur die Inhalte des Elements <strong>Modell zum Ermitteln parametrisierter Aufrufe</strong>.</li>
<li>Wählen Sie das Element <strong>Format zum Ermitteln parametrisierter Aufrufe</strong> aus.</li>
<li>Wählen Sie <strong>Konfiguration erstellen</strong>.</li>
<li>Wählen Sie die Option <strong>Von Name ableiten: Formatieren zum Ermitteln parametrisierter Aufrufe, Microsoft</strong> aus.</li>
<li>Geben Sie im Feld <strong>Name</strong> <strong>Format zum Ermitteln der Vorgehensweise bei der Suche von Daten zu juristischen Personen</strong> ein.</li>
<li>Wählen Sie <strong>Konfiguration erstellen</strong>.</li>
</ol>
<h2 id="configure-a-derived-format">Konfigurieren eines abgeleiteten Formats</h2>
<h3 id="add-a-format-enumeration">Hinzufügen einer Formatenumeration</h3>
<p>Danach fügen Sie eine neue EB-Formatenumeration hinzu. Die Werte dieser Formatenumeration werden geschäftlichen Benutzern dargestellt, die für die verschiedenen Besteuerungsstufen, die im EB-Format verwendet werden, Gruppen von Steuercodes angeben, die von der juristischen Person abhängig sind.</p>
<ol>
<li><p>Wählen Sie <strong>Designer</strong> aus.</p>
</li>
<li><p>Wählen Sie <strong>Formatenumerationen</strong> aus.</p>
</li>
<li><p>Wählen Sie <strong>Hinzufügen</strong> aus.</p>
</li>
<li><p>Geben Sie im Feld <strong>Name</strong> <strong>Liste der Besteuerungsstufen</strong> ein.</p>
</li>
<li><p>Wählen Sie <strong>Speichern</strong>.</p>
</li>
<li><p>Wählen Sie auf der Registerkarte <strong>Formatenumerationswerte</strong> die Option <strong>Hinzufügen</strong> aus.</p>
</li>
<li><p>Geben Sie im Feld <strong>Name</strong> <strong>Reguläre Besteuerung</strong> ein.</p>
</li>
<li><p>Wählen Sie erneut <strong>Hinzufügen</strong> aus.</p>
</li>
<li><p>Geben Sie im Feld <strong>Name</strong> <strong>Reduzierte Besteuerung</strong> ein.</p>
</li>
<li><p>Wählen Sie erneut <strong>Hinzufügen</strong> aus.</p>
</li>
<li><p>Geben Sie im Feld <strong>Name</strong> <strong>Keine Besteuerung</strong> ein.</p>
</li>
<li><p>Wählen Sie erneut <strong>Hinzufügen</strong> aus.</p>
</li>
<li><p>Geben Sie im Feld <strong>Name</strong> <strong>Sonstige</strong> ein.</p>
<p><img src="media/RCS-AppSpecParms-ConfigureFormat-Enum.PNG" alt="Seite für EB-Arbeitsgangdesigner"></p>
<p>Da die geschäftlichen Benutzer möglicherweise unterschiedliche Sprachen verwenden, um Gruppen von Steuercodes anzugeben, die von der juristischen Person abhängig sind, empfiehlt es sich, die Werte dieser Enumeration in die Sprachen zu übersetzen, die als bevorzugte Sprachen für diese Benutzer in Finance konfiguriert werden.</p>
</li>
<li><p>Wählen Sie den Datensatz <strong>Keine Besteuerung</strong> aus.</p>
</li>
<li><p>Klicken Sie in das Feld <strong>Label</strong>.</p>
</li>
<li><p>Wählen Sie <strong>Übersetzen</strong> aus.</p>
</li>
<li><p>Geben Sie im Bereich <strong>Textübersetzung</strong> im Feld <strong>Beschriftungskennung</strong> <strong>LBL_LEVELENUM_NO</strong> ein.</p>
</li>
<li><p>Geben Sie im Feld <strong>Text in Standardsprache</strong> <strong>Keine Besteuerung</strong> ein.</p>
</li>
<li><p>Wählen Sie im Feld <strong>Sprache</strong> <strong>DE</strong> aus.</p>
</li>
<li><p>Geben Sie im Feld <strong>Übersetzter Text</strong> <strong>Keine Besteuerung</strong> ein.</p>
</li>
<li><p>Wählen Sie <strong>Übersetzen</strong> aus.</p>
<p><img src="media/RCS-AppSpecParms-ConfigureFormat-EnumTranslate.PNG" alt="Seite für EB-Arbeitsgangdesigner"></p>
</li>
<li><p>Wählen Sie <strong>Speichern</strong>.</p>
</li>
<li><p>Schließen Sie die Seite <strong>Formatenumerationen</strong>.</p>
</li>
</ol>
<h3 id="add-a-new-lookup-data-source">Hinzufügen einer neuen Datenquelle für die Suche</h3>
<p>Danach fügen Sie eine neue Datenquelle hinzu, um anzugeben, wie geschäftliche Benutzer Regeln angeben, die von der juristischen Person abhängig sind, um die korrekte Besteuerungsstufe für jeden zusammengefassten Transaktionsdatensatz zu erkennen.</p>
<ol>
<li><p>Wählen Sie auf der Registerkarte <strong>Zuordnung</strong> die Option <strong>Hinzufügen</strong> aus.</p>
</li>
<li><p>Wählen Sie <strong>Formatenumeration\Suche</strong> aus.</p>
<p>Sie haben gerade ermittelt, dass jede Regel, die geschäftliche Benutzer für die Erkennung der Besteuerungsstufe angeben, einen Wert einer EB-Formatenumeration zurückgibt. Beachten Sie, dass der Datenquellentyp <strong>Suche</strong> über <strong>Datenmodell</strong> und <strong>Dynamics 365 for Operations</strong>-Blöcke sowie den Block <strong>Formatenumeration</strong> aufgerufen werden kann. Daher können EB-Datenmodellenumerationen und Anwendungsenumerationen verwendet werden, um den Typ der Werte anzugeben, der für Datenquellen dieses Typs zurückgegeben wird.</p>
</li>
<li><p>Geben Sie im Feld <strong>Name</strong> <strong>Auswahl</strong> ein.</p>
</li>
<li><p>Wählen Sie im Feld <strong>Formatenumeration</strong> die Option <strong>Liste der Besteuerungsstufen</strong> ein.</p>
<p>Sie haben gerade angegeben, dass geschäftliche Benutzer für jede in dieser Datenquelle angegebene Regel einen der Werte der Formatenumeration <strong>Liste der Besteuerungsstufen</strong> als zurückgegebenen Wert auswählen müssen.</p>
</li>
<li><p>Wählen Sie <strong>Suche bearbeiten</strong> aus.</p>
</li>
<li><p>Wählen Sie <strong>Spalten</strong> aus.</p>
</li>
<li><p>Erweitern Sie das Element <strong>Model</strong>.</p>
</li>
<li><p>Erweitern Sie das Element <strong>Daten</strong>.</p>
</li>
<li><p>Erweitern Sie das Element <strong>Steuer</strong>.</p>
</li>
<li><p>Wählen Sie das Element <strong>Model.Data.Tax.Code</strong> aus.</p>
</li>
<li><p>Wählen Sie die Schaltfläche <strong>Hinzufügen</strong> (rechter Pfeil) aus.</p>
<p><img src="media/RCS-AppSpecParms-ConfigureFormat-Lookup1.PNG" alt="Seite für EB-Arbeitsgangdesigner"></p>
<p>Sie haben gerade angegeben, dass geschäftliche Benutzer für jede in dieser Datenquelle für die Erkennung der Besteuerungsstufe angegebene Regel einen der Steuercodes als Bedingung auswählen müssen. Die Liste der Steuercodes, die geschäftliche Benutzer auswählen können, wird von der Datenquelle <strong>Model.Data.Tax</strong> zurückgegeben. Da diese Datenquelle das Feld <strong>Name</strong> enthält, wird der Name des Steuercodes für jeden Steuercodewert in der Suche angezeigt, der dem geschäftlichen Benutzer angezeigt wird.</p>
</li>
<li><p>Wählen Sie <strong>OK</strong>.</p>
<p><img src="media/RCS-AppSpecParms-ConfigureFormat-Lookup2.PNG" alt="Seite für EB-Arbeitsgangdesigner"></p>
<p>Geschäftliche Benutzer können mehrere Regeln als Datensätze dieser Datenquelle hinzufügen. Jeder Datensatz wird mithilfe eines Positionscodes nummeriert. Regeln werden mit zunehmender Positionsnummer ausgewertet.</p>
<p>Da Sie das Feld <strong>Steuercode</strong> als Bedingung für Regeln in dieser Suchdatenquelle ausgewählt haben und <strong>Steuercode</strong> als Feld des Datentyps <strong>Zeichenfolge</strong> eingerichtet ist, wird jede Regel während der Laufzeit ausgewertet, indem der Steuercode, der an die Datenquelle übergeben wird, mit dem Steuercode verglichen wird, der in diesem Datensatz der Datenquelle definiert wird.</p>
<p>Wenn eine Regel, die die konfigurierte Bedingung erfüllt, gefunden wird, gibt diese Datenquelle den Suchwert der Regel zurück, die im Feld <strong>Suchenergebnis</strong> definiert ist. Wenn keine Regel gefunden wird, wird eine Ausnahme ausgelöst, um den Benutzer zu informieren, dass die aktuelle Datenquelle keinen korrekten Wert zurückgegeben kann.</p>
</li>
<li><p>Wählen Sie <strong>Speichern</strong>.</p>
</li>
<li><p>Schließen Sie die Seite <strong>Such-Designer</strong>.</p>
</li>
<li><p>Wählen Sie <strong>OK</strong>.</p>
<p>Beachten Sie, dass Sie eine neue Datenquelle hinzugefügt haben, die die Besteuerungsstufe als Wert der Formatenumeration <strong>Liste der Besteuerungsstufen</strong> für jeden Steuercode zurückgibt, der an die Datenquelle als Argument des Parameters <strong>Code</strong> des Datentyps <strong>Zeichenfolge</strong> weitergegeben wird.</p>
<p><img src="media/RCS-AppSpecParms-ConfigureFormat-SelectorFld.PNG" alt="Seite für EB-Arbeitsgangdesigner"></p>
<p>Beachten Sie, dass die Bewertung von konfigurierten Regeln vom Datentyp der Felder abhängt, die ausgewählt wurden, um die Bedingungen dieser Regeln zu definieren. Wenn Sie ein Feld auswählen, das als Feld des Datentyps <strong>Numerisch</strong> oder <strong>Datum</strong> konfiguriert wird, weichen die Kriterien von den Kriterien ab, die zuvor für den Datentyp <strong>Zeichenfolge</strong> beschrieben wurden. Für die Felder <strong>Numerisch</strong> und <strong>Datum</strong> muss die Regel als Wertebereich angegeben werden. Die Bedingung der Regel wird dann als erfüllt angesehen, wenn ein Wert, der an die Datenquelle weitergegeben wird, sich im konfigurierten Bereich befindet.</p>
<p>Die folgende Abbildung zeigt ein Beispiel für diesen Einrichtungstyp. Zusätzlich zu dem Feld <strong>Model.Data.Tax.Code</strong> des Datentyps <strong>Zeichenfolge</strong> wird das Feld <strong>Model.Tax.Summary.Base</strong> des Datentyps <strong>Gleitkommazahl</strong> verwendet, um die Bedingungen für eine Suchendatenquelle anzugeben.</p>
<p><img src="media/RCS-AppSpecParms-ConfigureFormat-SelectorFld2.PNG" alt="Seite für EB-Arbeitsgangdesigner"></p>
<p>Da die Felder <strong>Model.Data.Tax.Code</strong> und <strong>Model.Tax.Summary.Base</strong> für diese Suchendatenquelle ausgewählt werden, wird jede Regel diese Datenquelle folgendermaßen konfiguriert:</p>
<ul>
<li>In der angezeigten Liste muss der Wert der Formatenumeration <strong>Liste der Besteuerungsstufen</strong> als zurückgegebener Wert ausgewählt werden.</li>
<li>Der Steuercode muss als Bedingung dieser Regel eingegeben werden. Nur Steuercodes, die von der Datenquelle <strong>Model.Data.Tax</strong> bereitgestellt werden, sind verfügbar.</li>
<li>Mindest- und Höchstwerte des Steuergrundlagebetrags müssen als Bedingungen dieser Regel eingegeben werden.</li>
</ul>
<p>So wird jede Regel dieser Datenquelle während der Laufzeit ausgewertet:</p>
<ul>
<li>Entspricht der Code des Datentyps <strong>Zeichenfolge</strong>, der an diese Datenquelle weitergegeben wurde, dem Steuercode einer Regel?</li>
<li>Fällt der Wert des Datentyps <strong>Gleitkommazahl</strong>, der an diese Datenquelle weitergegeben wurde, zwischen bestimmte Mindest- und Höchstwerte?</li>
</ul>
<p>Eine Regel gilt als anwendbar, wenn beide Bedingungen erfüllt sind.</p>
</li>
</ol>
<h3 id="translate-the-label-of-the-lookup-data-source-that-was-added">Übersetzen der Bezeichnung der Suchendatenquelle, die hinzugefügt wurde</h3>
<p>Da die geschäftlichen Benutzer möglicherweise unterschiedliche Sprachen verwenden, um Gruppen von Steuercodes anzugeben, die von der juristischen Person abhängig sind, empfiehlt es sich, die Bezeichnung jeder Suchdatenquelle zu übersetzen, die Sie hinzufügen, damit sie in der bevorzugten Sprache auf der entsprechenden Seite jedes Benutzers angezeigt wird.</p>
<ol>
<li><p>Wählen Sie die Datenquelle <strong>Model.Data.Selector</strong> aus.</p>
</li>
<li><p>Wählen Sie <strong>Bearbeiten</strong> aus.</p>
</li>
<li><p>Klicken Sie in das Feld <strong>Label</strong>.</p>
</li>
<li><p>Wählen Sie <strong>Übersetzen</strong> aus.</p>
</li>
<li><p>Geben Sie im Bereich <strong>Textübersetzung</strong> im Feld <strong>Beschriftungskennung</strong> <strong>LBL_SELECTOR_DS</strong> ein.</p>
</li>
<li><p>Geben Sie im Feld <strong>Text in Standardsprache</strong> <strong>Steuerstufe anhand des Steuercodes auswählen</strong> ein.</p>
</li>
<li><p>Wählen Sie im Feld <strong>Sprache</strong> <strong>DE</strong> aus.</p>
</li>
<li><p>Geben Sie im Feld <strong>Übersetzter Text</strong> <strong>Steuerebene für Steuerkennzeichen auswählen</strong> ein.</p>
</li>
<li><p>Wählen Sie <strong>Übersetzen</strong> aus.</p>
</li>
<li><p>Wählen Sie <strong>OK</strong>.</p>
<p><img src="media/RCS-AppSpecParms-ConfigureFormat-SelectorFldTranslate.PNG" alt="Seite für EB-Arbeitsgangdesigner"></p>
</li>
</ol>
<h3 id="add-a-new-field-to-consume-the-configured-lookup">Hinzufügen eines neues Felds, um die konfigurierte Suche zu verarbeiten</h3>
<ol>
<li><p>Erweitern Sie das Element <strong>Model.Data</strong>.</p>
</li>
<li><p>Wählen Sie das Element <strong>Model.Data.Summary</strong> aus.</p>
</li>
<li><p>Wählen Sie <strong>Hinzufügen</strong> aus.</p>
</li>
<li><p>Wählen Sie das <strong>Feld „Funktionen/Berechnet“</strong> aus.</p>
</li>
<li><p>Geben Sie im Feld <strong>Name</strong> <strong>LevelByLookup</strong> ein.</p>
</li>
<li><p>Wählen Sie <strong>Formel bearbeiten</strong> aus.</p>
</li>
<li><p>Geben Sie im <strong>Formularfeld</strong> <strong>Model.Selector(Model.Data.Summary.Code)</strong> ein.</p>
</li>
<li><p>Wählen Sie <strong>Speichern</strong>.</p>
<p><img src="media/RCS-AppSpecParms-ConfigureFormat-AddLevelByLookupFld.PNG" alt="Seite für EB-Arbeitsgangdesigner"></p>
</li>
<li><p>Schließen Sie die Seite <strong>Formel-Editor</strong>.</p>
</li>
<li><p>Wählen Sie <strong>OK</strong>.</p>
<p><img src="media/RCS-AppSpecParms-ConfigureFormat-AddLevelByLookupFld2.PNG" alt="Seite für EB-Arbeitsgangdesigner"></p>
<p>Beachten Sie, dass das berechnete Feld <strong>LevelByLookup</strong>, das Sie hinzugefügt haben, die Besteuerungsstufe als Wert der Formatenumeration <strong>Liste der Besteuerungsstufen</strong> für jeden zusammengefassten Steuertransaktionsdatensatz zurückgibt. Der Steuercode des Datensatzes wird an die Suchdatenquelle <strong>Model.Selector</strong> weitergegeben, und die Gruppe von Regeln für diese Datenquelle wird verwendet, um die korrekte Besteuerungsstufe auszuwählen.</p>
</li>
</ol>
<h3 id="add-a-new-format-enumeration-based-data-source">Hinzufügen einer neuen Datenquelle, die auf einer Formatenumeration basiert</h3>
<p>Danach fügen Sie eine neue Datenquelle hinzu, die auf die Formatenumeration verweist, die Sie zuvor hinzugefügt haben. Werte dieser Datenquelle werden später in einem EB-Formatausdruck verwendet.</p>
<ol>
<li>Wählen Sie <strong>Stamm hinzufügen</strong> aus.</li>
<li>Wählen Sie <strong>Formatenumerationen\Enumeration</strong> aus.</li>
<li>Geben Sie im Feld <strong>Name</strong> <strong>TaxationLevel</strong> ein.</li>
<li>Wählen Sie im Feld <strong>Formatenumeration</strong> die Option <strong>Liste der Besteuerungsstufen</strong> ein.</li>
<li>Wählen Sie <strong>Speichern</strong>.</li>
</ol>
<h3 id="modify-an-existing-field-to-start-to-use-the-lookup">Ändern eines vorhandenen Felds, um mit der Verwendung der Suche zu beginnen</h3>
<p>Danach ändern Sie das vorhandene berechnete Feld, sodass es die konfigurierte Suchendatenquelle verwendet, um je nach Steuercode den korrekten Besteuerungsstufenwert zurückzugeben.</p>
<ol>
<li><p>Wählen Sie das Element <strong>Model.Data.Summary.Level</strong> aus.</p>
</li>
<li><p>Wählen Sie <strong>Bearbeiten</strong> aus.</p>
</li>
<li><p>Wählen Sie <strong>Formel bearbeiten</strong> aus.</p>
<p>Beachten Sie, dass der aktuelle Ausdruck des Felds <strong>Model.Data.Summary.Level</strong> die folgenden hartcodierten Steuercodes enthält:</p>
<p>CASE (@.Code, „VAT19“, „Regulär“, „InVAT19“, „Regulär“, „VAT7“, „Reduziert“, „InVAT7“, „Reduziert“, „THIRD“, „Keine“, „InVAT0“, „Keine“, „Sonstige“)</p>
</li>
<li><p>Geben Sie im Feld <strong>Formel</strong> <strong>CASE(@.LevelByLookup, TaxationLevel.'Reguläre Besteuerung', „Regulär“, TaxationLevel.'Reduzierte Besteuerung', „Reduziert“, TaxationLevel.'Keine Besteuerung', „Keine“, „Sonstige“)</strong>.</p>
<p><img src="media/RCS-AppSpecParms-ConfigureFormat-ChangeLookupFld.PNG" alt="Seite für EB-Arbeitsgangdesigner"></p>
<p>Beachten Sie, dass der Ausdruck des Felds <strong>Model.Data.Summary.Level</strong> jetzt die Besteuerungsstufe zurückgibt, die auf dem Steuercode des aktuellen Datensatzes und der Gruppe von Regeln basiert, die ein geschäftlicher Benutzer in der Suchdatenquelle <strong>Model.Data.Selector</strong> konfiguriert.</p>
</li>
<li><p>Wählen Sie <strong>Speichern</strong>.</p>
</li>
<li><p>Schließen Sie die Seite <strong>Formeldesigner</strong>.</p>
</li>
<li><p>Wählen Sie <strong>OK</strong>.</p>
</li>
<li><p>Wählen Sie <strong>Speichern</strong>.</p>
</li>
<li><p>Seite <strong>Format-Designer</strong> schließen.</p>
</li>
</ol>
<h2 id="complete-the-draft-version-of-a-derived-format">Abschließen der Entwurfsversion eines abgeleiteten Formats</h2>
<ol>
<li>Wählen Sie im Inforegister <strong>Versionen</strong> die Option <strong>Status ändern</strong> aus.</li>
<li>Wählen Sie <strong>Abgeschlossen</strong> aus.</li>
<li>Wählen Sie <strong>OK</strong>.</li>
</ol>
<h2 id="export-completed-version-of-modified-format">Exportieren der abgeschlossenen Version eines bearbeiteten Formats</h2>
<ol>
<li>Wählen Sie in der Konfigurationsstruktur das Element <strong>Format zum Ermitteln der Vorgehensweise bei der Suche von Daten zu juristischen Personen</strong> aus.</li>
<li>Wählen Sie im Inforegister <strong>Versionen</strong> den Datensatz mit dem Status <strong>Abgeschlossen</strong> aus.</li>
<li>Wählen Sie <strong>Wechselkurs</strong> aus.</li>
<li>Wählen Sie <strong>Als XML-Datei exportieren</strong> aus.</li>
<li>Wählen Sie <strong>OK</strong>.</li>
<li>Der Webbrowser lädt eine XML-Datei <strong>Format zum Ermitteln der Vorgehensweise bei der Suche von Daten zu juristischen Personen</strong> herunter. Speichern Sie die Datei lokal.</li>
</ol>
<p>Wiederholen Sie die Schritte in diesem Abschnitt für übergeordnete Elemente des Formats <strong>Format zum Ermitteln der Vorgehensweise bei der Suche von Daten zu juristischen Personen</strong> und speichern Sie die folgenden Dateien lokal:</p>
<ul>
<li>Format zum Ermitteln parametrisierter Anrufe.xml</li>
<li>Zuordnung zum Ermitteln parametrisierter Aufrufe.xml</li>
<li>Modell zum Lernern parametrisierter Aufrufe.xml</li>
</ul>
<p>Um mehr darüber zu erfahren, wie Sie das konfigurierte EB-Format <strong>Format zum Ermitteln der Vorgehensweise bei der Suche von Daten zu juristischen Personen</strong> für die Einrichtung von Gruppen von Steuercodes verwenden, die von juristischen Personen abhängen, um Steuertransaktionen anhand von unterschiedlichen Besteuerungsstufen zu filtern, führen Sie die Schritte im Thema <a href="er-app-specific-parameters-set-up.html">Einrichten von Parametern eines EB-Formats pro juristischer Person</a> aus.</p>
<h2 id="additional-resources">Zusätzliche Ressourcen</h2>
<p><a href="general-electronic-reporting-formula-designer.html">Formeldesigner in der elektronischen Berichterstellung</a></p>
<p><a href="er-app-specific-parameters-set-up.html">Einrichten von Parametern eines EB-Formats pro juristischer Person</a></p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/togoAIO/d365Doku/blob/main/articles_de/fin-ops-core/dev-itpro/analytics/er-app-specific-parameters-configure-format.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
  </body>
</html>
