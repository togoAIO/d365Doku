<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Prospect-to-cash in Dual-Write | WIKA Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Prospect-to-cash in Dual-Write | WIKA Documentation ">
    <meta name="generator" content="docfx 2.56.6.0">
    
    <link rel="shortcut icon" href="../../../../../microsoft-dynamics-crm-365-icon.ico">
    <link rel="stylesheet" href="../../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../../styles/main.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 
    <meta property="docfx:navrel" content="../../../../../toc.html">
    <meta property="docfx:tocrel" content="../../toc.html">
    
    <meta property="docfx:rel" content="../../../../../">
    
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../../../index.html">
                <img id="logo" class="svg" src="../../../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="prospect-to-cash-in-dual-write">Prospect-to-cash in Dual-write</h1>

[!include[banner](../../includes/banner.md)]
<p>Ein wichtiges Ziel der meisten Unternehmen ist es, Interessenten in Kunden umzuwandeln und dann eine kontinuierliche Geschäftsbeziehung mit diesen Kunden aufrechtzuerhalten. In Microsoft Dynamics 365 Apps erfolgt der Prospect-to-Cash-Prozess durch Angebots- oder Auftragsbearbeitungs-Workflows, und die Finanzzahlen werden abgestimmt und anerkannt. Durch die Integration von Prospect-to-Cash mit Dual-Write wird ein Workflow erstellt, der ein Angebot und einen Auftrag, die entweder aus Dynamics 365 Sales oder Dynamics 365 Supply Chain Management stammen, aufnimmt und das Angebot und den Auftrag in beiden Anwendungen verfügbar macht.</p>
<p>In den App-Schnittstellen können Sie in Echtzeit auf die Verarbeitungsstatus und Rechnungsinformationen zugreifen. So können Sie Funktionen wie Produktlagerung, Bestandsabwicklung und Erfüllung im Supply Chain Management einfacher verwalten, ohne Angebote und Aufträge neu erstellen zu müssen.</p>
<p><img src="media/dual-write-prospect-to-cash%5B1%5D.png" alt="Dual-Write-Flow in Prospect-to-Cash"></p>
<h2 id="prerequisites-and-mapping-setup">Voraussetzungen und Zuordnungseinrichtung</h2>
<p>Bevor Sie Angebote synchronisieren können, müssen Sie die folgenden Einstellungen aktualisieren.</p>
<h3 id="setup-in-sales">Einrichtung in Sales</h3>
<p>Gehen Sie in Sales zu <strong>Einstellungen &gt; Verwaltung &gt; Systemeinstellungen &gt; Vertrieb</strong> und stellen Sie sicher, dass die folgenden Einstellungen verwendet werden:</p>
<ul>
<li>Die Einstellung <strong>Systempreisberechnung verwenden</strong> ist auf <strong>Ja</strong> gesetzt.</li>
<li>Das Feld <strong>Rabattberechnungsmethode</strong> wird auf <strong>Positionsartikel</strong> festgelegt.</li>
</ul>
<h3 id="sites-and-warehouses">Standorte und Lagerhäuser</h3>
<p>Im Supply Chain Management sind die Felder <strong>Site</strong> und <strong>Lager</strong> für Angebots- und Auftragszeilen erforderlich. Wenn Sie den Standort und das Lager in den Standardauftragseinstellungen festlegen, werden diese Felder automatisch gesetzt, wenn Sie ein Produkt zu einer Angebots- oder Auftragszeile hinzufügen.</p>
<h3 id="number-sequences-for-quotations-and-orders">Nummernkreise für Angebote und Aufträge</h3>
<p>Die Nummernkreise für Supply Chain Management und Sales sind nicht miteinander verbunden, wenn Angebote und Aufträge im Sales und Supply Chain Management erstellt und synchronisiert werden. Wenn ein Kundenauftrag, der in Sales angelegt wird, mit dem Supply Chain Management synchronisiert wird, hat er dieselbe Kundenauftragsnummer im Supply Chain Management. Um sicherzustellen, dass die Kundenauftragsnummer nicht doppelt vorhanden ist, müssen Sie in den beiden Anwendungen unterschiedliche Nummernfolgesysteme verwenden.</p>
<p>Zum Beispiel ist der Nummernkreis im Supply Chain Management <strong>1, 2, 3, 4, 5, ...</strong>, und der Nummernkreis in Sales ist <strong>100, 99, 98, ...</strong>. Wenn Sie 100 Kundenaufträge in Sales anlegen, wird letztendlich eine Auftragsnummer generiert, die bereits im Supply Chain Management existiert. Mit anderen Worten, die beiden Nummernkreise werden sich letztendlich überschneiden, wenn Kundenaufträge im Supply Chain Management und in Sales angelegt werden. Stattdessen können Sie im Supply Chain Management eine Zahlenfolge wie <strong>F1, F2, F3, ...</strong> und in Sales eine Zahlenfolge wie <strong>C1, C2, C3, ...</strong> verwenden. Diese Nummernkreise führen niemals zu doppelten Kundenauftragsnummern.</p>
<h2 id="sales-quotations">Verkaufsangebote</h2>
<p>Angebote können entweder im Vertrieb oder im Supply Chain Management erstellt werden. Wenn Sie ein Angebot in Sales erstellen, wird es in Echtzeit mit dem Supply Chain Management synchronisiert. Wenn Sie ein Angebot im Supply Chain Management erstellen, wird es in Echtzeit mit Sales synchronisiert. Beachten Sie die folgenden Punkte:</p>
<ul>
<li>Sie können dem Produkt einen Rabatt auf das Angebot hinzufügen. In diesem Fall wird der Rabatt mit dem Supply Chain Management synchronisiert. Die Felder <strong>Rabatt</strong>, <strong>Belastungen</strong> und <strong>Steuer</strong> in der Kopfzeile werden durch komplizierte Einstellungen in Supply Chain Management gesteuert. Diese Einrichtung unterstützt kein Integrations-Mapping. Stattdessen werden die Felder <strong>Preis</strong>, <strong>Rabatt</strong>, <strong>Gebühr</strong> und <strong>Steuer</strong> im Supply Chain Management gepflegt und behandelt.</li>
<li>Die Felder <strong>Rabatt %</strong>, <strong>Rabatt</strong> und <strong>Frachtbetrag</strong> im Angebotskopf sind schreibgeschützte Felder.</li>
<li>Die Felder <strong>Frachtbedingungen</strong>, <strong>Lieferbedingungen</strong>, <strong>Versandmethode</strong> und <strong>Liefermodus</strong> sind nicht Teil der Standardzuordnungen. Um diese Felder abzubilden, müssen Sie ein Werte-Mapping einrichten, das für die Daten in den Organisationen, zwischen denen die Entität synchronisiert wird, spezifisch ist.</li>
</ul>
<p>Wenn Sie auch die Field Service-Lösung verwenden, müssen Sie den <strong>Angebotsanforderungspositions-Erstellungs</strong>-Parameter erneut aktivieren. Durch erneutes Aktivieren des Parameters können Sie mit der Schnellerstellungsfunktion weiterhin Angebote erstellen.</p>
<ol>
<li>Navigieren Sie zu Ihrer Dynamics 365 Sales-Anwendung.</li>
<li>Wählen Sie das Einstellungssymbol in der oberen Navigationsleiste.</li>
<li>Wählen Sie <strong>Erweiterte Einstellungen</strong>.</li>
<li>Wählen Sie die Option <strong>System anpassen</strong> aus.</li>
<li>Wählen Sie den Menüpunkt <strong>Angebotsposition</strong>.</li>
<li>Wechseln Sie zum Abschnitt <strong>Datendienste</strong> und wählen Sie das Kontrollkästchen <strong>Schnellerstellung zulassen</strong>.</li>
</ol>
<h2 id="sales-orders">Aufträge</h2>
<p>Kundenaufträge können entweder im Vertrieb oder im Supply Chain Management angelegt werden. Wenn Sie einen Kundenauftrag in Sales anlegen, wird er in Echtzeit mit dem Supply Chain Management synchronisiert. Wenn Sie einen Kundenauftrag im Supply Chain Management anlegen, wird er ebenfalls in Echtzeit mit Sales synchronisiert. Beachten Sie die folgenden Punkte:</p>
<ul>
<li><p>Manuell zu erfassende Produkte in Dynamics 365 Sales werden als Produktkategorien in Dynamics 365 Supply Chain Management angezeigt.</p>
</li>
<li><p>Rabattberechnung und Rundung:</p>
<ul>
<li>Das Rabattberechnungsmodell in Sales unterscheidet sich insofern vom Modell im Bereich Supply Chain Management. In Supply Chain Management kann der endgültige Rabattbetrag in einer Sales-Position die Ergebnisse einer Kombination von Rabattbeträgen und von Rabattprozentsätzen sein. Bei der abschließenden Rabattbetrag durch die Menge für die Position geteilt wird, kann möglicherweise das Runden auftreten. Diese Rundung wird jedoch nicht berücksichtigt, wenn ein gerundeter Rabattbetrag pro Einheit mit dem Vertrieb synchronisiert wird. Um sicherzustellen, dass der volle Rabattbetrag einer Verkaufszeile im Supply Chain Management korrekt mit Sales synchronisiert wird, muss der volle Betrag synchronisiert werden, ohne durch die Zeilenmenge geteilt zu werden. Daher müssen Sie die Rabattberechnungsmethode als <strong>Zeilenposition</strong> im Verkauf definieren.</li>
<li>Wenn eine Kundenauftragszeile aus Sales in das Supply Chain Management synchronisiert wird, wird der volle Zeilenrabattbetrag verwendet. Da Supply Chain Management kein Feld hat, das den Rabattbetrag für vollständigen eine Position speichern kann, wird der Betrag durch die Menge dividiert und gespeichert im Feld <strong>Positionsrabatt</strong>. Jede Rundung, die während dieser Sparte auftritt, wird im Feld <strong>Verkaufsgebühren</strong> in der Verkaufszeile gespeichert.</li>
</ul>
</li>
</ul>
<h3 id="example-synchronization-from-sales-to-supply-chain-management">Beispiel: Synchronisierung von Sales und Supply Chain Management</h3>
<p>Sie haben den folgenden Kundenauftrag:</p>
<ul>
<li><strong>Sales:</strong> = Menge = 3, Pro-Positionsrabatt = $10.00</li>
<li><strong>Supply Chain Management:</strong> Menge = 3, Zeilenrabattbetrag = DM 3,33, Verkaufsgebühr = - DM 0,01</li>
</ul>
<p>Wenn Sie die Synchronisation vom Supply Chain Management zu Sales durchführen, erhalten Sie folgendes Ergebnis:</p>
<ul>
<li><strong>Supply Chain Management:</strong> Menge = 3, Zeilenrabattbetrag = DM 3,33, Verkaufsgebühr = - DM 0,01</li>
<li><strong>Sales:</strong> = Menge = 3, Pro-Positionsrabatt = (3 × $3.33) + $0.01 = $10.00</li>
</ul>
<h2 id="dual-write-solution-for-sales">Dual-Write-Lösung für Sales</h2>
<p>Neue Felder wurden der Entität <strong>Bestellung</strong> hinzugefügt und erscheinen auf der Seite. Die meisten dieser Felder erscheinen auf der Registerkarte <strong>Integration</strong> in Sales. Weitere Informationen zur Zuordnung der Statusfelder finden Sie unter <a href="sales-status-map.html">Einrichten eines Mappings für die Auftragsstatusfelder</a>.</p>
<ul>
<li>Die Schaltflächen <strong>Rechnung erstellen</strong> und <strong>Bestellung stornieren</strong> auf der Seite <strong>Verkaufsauftrag</strong> sind in Sales ausgeblendet.</li>
<li>Der Wert <strong>Auftragsstatus</strong> bleibt <strong>Aktiv</strong>, um sicherzustellen, dass Änderungen aus dem Supply Chain Management in den Kundenauftrag in Sales fließen können. Um dieses Verhalten zu steuern, setzen Sie den Standardwert <strong>Statecode [Status]</strong> auf <strong>Aktiv</strong>.</li>
</ul>
<h2 id="invoices">Rechnungen</h2>
<p>Verkaufsrechnungen werden im Supply Chain Management erstellt und mit Sales synchronisiert. Beachten Sie die folgenden Punkte:</p>
<ul>
<li>Ein Feld <strong>Rechnungsnummer</strong> wurde zur Entität <strong>Rechnung</strong> hinzugefügt und wird auf der Seite angezeigt.</li>
<li>Die Schaltfläche <strong>Rechnung erstellen</strong> auf der Seite <strong>Verkaufsauftrag</strong> ist ausgeblendet, da die Rechnungen im Supply Chain Management erstellt und mit Sales synchronisiert werden. Die Seite <strong>Rechnung</strong> kann nicht bearbeitet werden, da die Rechnungen aus dem Supply Chain Management synchronisiert werden.</li>
<li>Der Wert <strong>Verkaufsauftragsstatus</strong> wird automatisch in <strong>Rechnungen</strong> geändert, wenn die zugehörige Rechnung aus dem Supply Chain Management mit Sales synchronisiert wurde. Darüber hinaus wird der Eigentümer des Auftrags, aufgrund dessen die Rechnung erstellt wurde, als Eigentümer der Rechnung zugewiesen. Daher kann der Besitzer des Auftrags die Rechnung anzeigen.</li>
<li>Die Felder <strong>Frachtbedingungen</strong>, <strong>Lieferbedingungen</strong> und <strong>Liefermodus</strong> sind nicht in den Standardzuordnungen enthalten. Um diese Felder abzubilden, müssen Sie ein Werte-Mapping einrichten, das für die Daten in den Organisationen, zwischen denen die Entität synchronisiert wird, spezifisch ist.</li>
</ul>
<h2 id="templates">Vorlagen</h2>
<p>Prospect-to-Cash umfasst eine Sammlung von Kerntabellenzuordnungen, die während der Dateninteraktion zusammenwirken, wie in der folgenden Tabelle dargestellt.</p>
<table>
<thead>
<tr>
<th>Finance and Operations Apps</th>
<th>Modellgesteuerte Anwendungen in Dynamics 365</th>
<th>Beschreibung</th>
</tr>
</thead>
<tbody>
<tr>
<td>Verkaufsrechnungskopfzeilen V2</td>
<td>Rechnungen</td>
<td></td>
</tr>
<tr>
<td>Verkaufsrechnungspositionen V2</td>
<td>Rechnungsdetails</td>
<td></td>
</tr>
<tr>
<td>Auftragskopfzeilen CDS</td>
<td>salesorders</td>
<td></td>
</tr>
<tr>
<td>CDS-Auftragspositionen</td>
<td>salesorderdetails</td>
<td></td>
</tr>
<tr>
<td>Auftragsgrundlagencodes</td>
<td>msdyn_salesorderorigins</td>
<td></td>
</tr>
<tr>
<td>CDS-Verkaufsangebotskopf</td>
<td>Angebote</td>
<td></td>
</tr>
<tr>
<td>CDS-Verkaufsangebotspositionen</td>
<td>quotedetails</td>
<td></td>
</tr>
</tbody>
</table>
<p>Hier sind die zugehörigen Kerntabellenzuordnungen für Prospect-to-Cash:</p>
<ul>
<li><a href="customer-mapping.html#customers-v3-to-accounts">Debitoren V3 zu Konten</a></li>
<li><a href="customer-mapping.html#cds-contacts-v2-to-contacts">CDS-Kontakte V2 zu Kontakten</a></li>
<li><a href="customer-mapping.html#customers-v3-to-contacts">Debitoren V3 zu Kontakten</a></li>
<li><a href="product-mapping.html#released-products-v2-to-msdyn_sharedproductdetails">Freigegebene Produkte V2 zu msdyn_sharedproductdetails</a></li>
<li><a href="product-mapping.html#all-products-to-msdyn_globalproducts">Alle Produkte zu msdyn_globalproducts</a></li>
<li><a href="product-mapping.html">Preisliste</a></li>
</ul>
[!include[symbols](../../includes/dual-write-symbols.md)][!include[sales invoice](includes/SalesInvoiceHeaderV2Entity-invoice.md)][!include[sales invoice line](includes/SalesInvoiceLineV2Entity-invoicedetail.md)][!include[sales order header](includes/SalesOrderHeaderCDSEntity-salesorder.md)][!include[sales order line](includes/SalesOrderLineCDSEntity-salesorderdetails.md)][!include[sales order origin](includes/SalesOrderOriginEntity-msdyn-salesorderorigin.md)][!include[sales quotation header](includes/SalesQuotationHeaderCDSEntity-quote.md)][!include[sales quotation line](includes/SalesQuotationLineCDSEntity-QuoteDetails.md)]</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/togoAIO/d365Doku/blob/main/articles_de/fin-ops-core/dev-itpro/data-entities/dual-write/dual-write-prospect-to-cash.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../../styles/main.js"></script>
  </body>
</html>
