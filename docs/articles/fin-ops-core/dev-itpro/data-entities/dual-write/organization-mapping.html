<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Organization hierarchy in Dataverse | WIKA Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Organization hierarchy in Dataverse | WIKA Documentation ">
    <meta name="generator" content="docfx 2.56.6.0">
    
    <link rel="shortcut icon" href="../../../../../microsoft-dynamics-crm-365-icon.ico">
    <link rel="stylesheet" href="../../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../../styles/main.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 
    <meta property="docfx:navrel" content="../../../../../toc.html">
    <meta property="docfx:tocrel" content="../../toc.html">
    
    <meta property="docfx:rel" content="../../../../../">
    
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../../../index.html">
                <img id="logo" class="svg" src="../../../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="organization-hierarchy-in-dataverse">Organization hierarchy in Dataverse</h1>

[!include[rename-banner](~/includes/cc-data-platform-banner.md)]
<p>Because Dynamics 365 Finance is a financial system, <em>organization</em> is a core concept, and system setup starts with the configuration of an organization hierarchy. Business financials can then be tracked at the organization level and also at any level in the organization hierarchy.</p>
<p>Although Dataverse doesn't have the concept of an organization hierarchy, it does have a few loose concepts, such as total sales revenue. As part of Dataverse integration, the organization hierarchy data structure is added to Dataverse.</p>
<h2 id="data-flow">Data flow</h2>
<p>A business ecosystem that consists of Finance and Operations apps and Dataverse will continue to have an organization hierarchy. This organization hierarchy is built on Finance and Operations apps, but it's exposed in Dataverse for informational and extensibility purposes. The following illustration shows the organization hierarchy information that is exposed in Dataverse as a one-way data flow from Finance and Operations apps to Dataverse.</p>
<p><img src="media/dual-write-data-flow.png" alt="Architecture image"></p>
<p>Organization hierarchy table maps are available for one-way synchronization of data from Finance and Operations apps to Dataverse.</p>
<h2 id="templates">Templates</h2>
<p>Product information contains all the information related to the product and its definition, such as the product dimensions or the tracking and storage dimensions. As the following table shows, a collection of table maps is created to sync products and related information.</p>
<table>
<thead>
<tr>
<th>Finance and Operations apps</th>
<th>Other Dynamics 365 apps</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Organization hierarchy purposes</td>
<td>msdyn_internalorganizationhierarchypurposes</td>
<td>This template provides one-way synchronization of the Organization Hierarchy Purpose table.</td>
</tr>
<tr>
<td>Organization hierarchy type</td>
<td>msdyn_internalorganizationhierarchytypes</td>
<td>This template provides one-way synchronization of the Organization Hierarchy Type table.</td>
</tr>
<tr>
<td>Organization hierarchy - published</td>
<td>msdyn_internalorganizationhierarchies</td>
<td>This template provides one-way synchronization of the Organization Hierarchy Published table.</td>
</tr>
<tr>
<td>Operating unit</td>
<td>msdyn_internalorganizations</td>
<td></td>
</tr>
<tr>
<td>Legal entities</td>
<td>msdyn_internalorganizations</td>
<td></td>
</tr>
<tr>
<td>Legal entities</td>
<td>cdm_companies</td>
<td>Provides bidirectional synchronization of legal entity (company) information.</td>
</tr>
</tbody>
</table>
<h2 id="mapping-tables">Mapping tables</h2>
<h3 id="mapping-types">Mapping types</h3>
<p>There are several different mapping types. The following table explains the symbols used in the template tables.</p>
<table>
<thead>
<tr>
<th>Symbol</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>&gt;</td>
<td>One-way</td>
</tr>
<tr>
<td>&gt;&gt;</td>
<td>One-way, and data is transformed in the process.</td>
</tr>
<tr>
<td>=</td>
<td>Bidirectional</td>
</tr>
<tr>
<td>&gt;&lt;</td>
<td>Bidirectional, and data is transformed in the process.</td>
</tr>
<tr>
<td>&lt;&lt;</td>
<td>One-way, and data is transformed in the process.</td>
</tr>
</tbody>
</table>
<h3 id="filters">Filters</h3>
<p>The source filter and reverse source filter determine which rows are synchronized.</p>
<h3 id="default-values">Default values</h3>
<p>If a synchronized field does not exist in either the Finance and Operations table or the other Dynamics 365 table, then a default value is assigned in the synchronized table. In some cases, the default value is an integer that is a lookup to an attribute value in the Common Data Model. For example, in the Contacts table of the Common Data Model, the default value of <a href="customer-mapping.html#customers-v3-to-contacts"><strong>address1_addresstypecode</strong></a> is <strong>3</strong>. In the Common Data Model, for <a href="https://docs.microsoft.com/common-data-model/schema/core/applicationcommon/foundationcommon/contact#address1AddressTypeCode">address1AddressTypeCode</a> the value of <strong>3</strong> is <strong>Primary address</strong>.</p>
<h2 id="organization-hierarchy-purposes-to-msdyn_internalorganizationhierarchypurposes">Organization hierarchy purposes to msdyn_internalorganizationhierarchypurposes</h2>
<p>This template synchronizes data between Finance and Operations apps and Dataverse.</p>
<table>
<thead>
<tr>
<th>Finance and Operations field</th>
<th>Map type</th>
<th>Customer engagement field</th>
<th>Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td>HIERARCHYTYPE</td>
<td>&gt;</td>
<td>msdyn_hierarchypurposetypename</td>
<td></td>
</tr>
<tr>
<td>HIERARCHYTYPE</td>
<td>&gt;</td>
<td>msdyn_hierarchytype.msdyn_name</td>
<td></td>
</tr>
<tr>
<td>HIERARCHYPURPOSE</td>
<td>&gt;&gt;</td>
<td>msdyn_hierarchypurpose</td>
<td></td>
</tr>
<tr>
<td>IMMUTABLE</td>
<td>&gt;&gt;</td>
<td>msdyn_immutable</td>
<td></td>
</tr>
<tr>
<td>SETASDEFAULT</td>
<td>&gt;&gt;</td>
<td>msdyn_setasdefault</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="organization-hierarchy-type-to-msdyn_internalorganizationhierarchytypes">Organization hierarchy type to msdyn_internalorganizationhierarchytypes</h2>
<p>This template synchronizes data between Finance and Operations apps and Dataverse.</p>
<table>
<thead>
<tr>
<th>Finance and Operations field</th>
<th>Map type</th>
<th>Customer engagement field</th>
<th>Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td>NAME</td>
<td>&gt;</td>
<td>msdyn_name</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="organization-hierarchy---published-to-msdyn_internalorganizationhierarchies">Organization hierarchy - published to msdyn_internalorganizationhierarchies</h2>
<p>This template synchronizes data between Finance and Operations apps and Dataverse.</p>
<table>
<thead>
<tr>
<th>Finance and Operations field</th>
<th>Map type</th>
<th>Customer engagement field</th>
<th>Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td>VALIDTO</td>
<td>&gt;</td>
<td>msdyn_validto</td>
<td></td>
</tr>
<tr>
<td>VALIDFROM</td>
<td>&gt;</td>
<td>msdyn_validfrom</td>
<td></td>
</tr>
<tr>
<td>HIERARCHYTYPE</td>
<td>&gt;</td>
<td>msdyn_hierarchytypename</td>
<td></td>
</tr>
<tr>
<td>PARENTORGANIZATIONPARTYNUMBER</td>
<td>&gt;</td>
<td>msdyn_parentpartyid</td>
<td></td>
</tr>
<tr>
<td>CHILDORGANIZATIONPARTYNUMBER</td>
<td>&gt;</td>
<td>msdyn_childpartyid</td>
<td></td>
</tr>
<tr>
<td>HIERARCHYTYPE</td>
<td>&gt;</td>
<td>msdyn_hierarchytypeid.msdyn_name</td>
<td></td>
</tr>
<tr>
<td>CHILDORGANIZATIONPARTYNUMBER</td>
<td>&gt;</td>
<td>msdyn_childid.msdyn_partynumber</td>
<td></td>
</tr>
<tr>
<td>PARENTORGANIZATIONPARTYNUMBER</td>
<td>&gt;</td>
<td>msdyn_parentid.msdyn_partynumber</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="internal-organization">Internal Organization</h2>
<p>Internal organization information in Dataverse comes from two tables, <strong>operating unit</strong> and <strong>legal entities</strong>.</p>
<h2 id="operating-unit-to-msdyn_internalorganizations">Operating unit to msdyn_internalorganizations</h2>
<p>This template synchronizes data between Finance and Operations apps and Dataverse.</p>
<table>
<thead>
<tr>
<th>Finance and Operations field</th>
<th>Map type</th>
<th>Customer engagement field</th>
<th>Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td>LANGUAGEID</td>
<td>&gt;</td>
<td>msdyn_languageid</td>
<td></td>
</tr>
<tr>
<td>NAMEALIAS</td>
<td>&gt;</td>
<td>msdyn_namealias</td>
<td></td>
</tr>
<tr>
<td>NAME</td>
<td>&gt;</td>
<td>msdyn_name</td>
<td></td>
</tr>
<tr>
<td>PARTYNUMBER</td>
<td>&gt;</td>
<td>msdyn_partynumber</td>
<td></td>
</tr>
<tr>
<td>OPERATINGUNITTYPE</td>
<td>&gt;&gt;</td>
<td>msdyn_type</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="legal-entities-to-msdyn_internalorganizations">Legal entities to msdyn_internalorganizations</h2>
<p>This template synchronizes data between Finance and Operations apps and Dataverse.</p>
<table>
<thead>
<tr>
<th>Finance and Operations field</th>
<th>Map type</th>
<th>Customer engagement field</th>
<th>Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td>NAMEALIAS</td>
<td>&gt;</td>
<td>msdyn_namealias</td>
<td></td>
</tr>
<tr>
<td>LANGUAGEID</td>
<td>&gt;</td>
<td>msdyn_languageid</td>
<td></td>
</tr>
<tr>
<td>NAME</td>
<td>&gt;</td>
<td>msdyn_name</td>
<td></td>
</tr>
<tr>
<td>PARTYNUMBER</td>
<td>&gt;</td>
<td>msdyn_partynumber</td>
<td></td>
</tr>
<tr>
<td>none</td>
<td>&gt;&gt;</td>
<td>msdyn_type</td>
<td>806380000</td>
</tr>
<tr>
<td>LEGALENTITYID</td>
<td>&gt;</td>
<td>msdyn_companycode</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="legal-entities-to-cdm_companies">Legal entities to cdm_companies</h2>
<p>This template synchronizes data between Finance and Operations apps and Dataverse.</p>
<table>
<thead>
<tr>
<th>Finance and Operations field</th>
<th>Map type</th>
<th>Customer engagement field</th>
<th>Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td>NAME</td>
<td>=</td>
<td>cdm_name</td>
<td></td>
</tr>
<tr>
<td>LEGALENTITYID</td>
<td>=</td>
<td>cdm_companycode</td>
<td></td>
</tr>
</tbody>
</table>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/togoAIO/d365Doku/blob/main/articles/fin-ops-core/dev-itpro/data-entities/dual-write/organization-mapping.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../../styles/main.js"></script>
  </body>
</html>
