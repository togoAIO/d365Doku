<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Service electronic fiscal document for Brazil | WIKA Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Service electronic fiscal document for Brazil | WIKA Documentation ">
    <meta name="generator" content="docfx 2.56.6.0">
    
    <link rel="shortcut icon" href="../../../microsoft-dynamics-crm-365-icon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="../TOC.html">
    
    
    
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="service-electronic-fiscal-document-for-brazil">Service electronic fiscal document for Brazil</h1>


<p>This topic provides an overview of the service electronic fiscal document.</p>
<p>When a fiscal document is about service in Brazil, different rules apply than a regular electronic fiscal document. The model for a services fiscal document in Brazil is SE and includes ISS, PIS, and COFINS taxes.</p>
<h2 id="recibo-provisorio-de-servicos-rps-document">Recibo Provisorio de Servicos (RPS) document</h2>
<p>When a company issues a service fiscal document, depending on the city where the invoice was issued, some rules and formats may apply. For example, in Sao Paulo city, the service fiscal document is issued as a temporary service invoice or RPS. That document becomes an official service electronic fiscal document when it is approved by the city tax authority. After it is approved, the company issues an official service electronic fiscal document.</p>
<h2 id="rps-file">RPS file</h2>
<p>All cities in Brazil have their own service communication (integration) and format layout. There is not a standardized method of communication and format. For this reason, the current Brazilian localization uses an example of the layout of Sao Paulo city. To generate a RPS file, generate the following files:</p>
<ul>
<li>An outgoing file that includes one or more service fiscal documents with an Open status (RPS).</li>
<li>An incoming file where the original file is returned but includes the official invoice number assigned by the city tax authority.</li>
</ul>
<h3 id="rps-with-configurator">RPS with configurator</h3>
<p>The Configurator tool manages the method of payment file formats for electronic payments and electronic fiscal documents for services. To set up the Configurator, follow these steps:</p>
<ul>
<li>Create configurator definition groups and layout groups for the file formats.</li>
<li>Export or import the layout groups.</li>
<li>Export data from definition groups or layout groups by using the Configurator export utility.</li>
</ul>
<p>You can create a definition group by defining the tables and fields that are used to configure the layout for the export or import process. You can then create a layout group that defines the file structure used to import or export data. A definition group must be attached to a layout group. The Configurator can be used to generate outgoing and incoming files that update the existing service fiscal document.</p>
<h3 id="rps-with-electronic-reporting">RPS with electronic reporting</h3>
<p>An RPS outgoing file can be generated by using electronic reporting, where each .txt file format is defined by using a specific model and format designer for electronic reporting. These configurations can be imported into the current company to generate XML files on the <strong>Repositories</strong> page. You can also import these configurations from Lifecycle Services (LCS) under the <strong>Shared asset library</strong> and <strong>Asset type</strong> = <strong>GER Configurations</strong>. The following repository models and formats must be uploaded:</p>
<ul>
<li>Services fiscal document model (model configuration)</li>
<li>RPS Sao Paulo V.002 (BR) (format configuration)</li>
</ul>
<p>After the repository is available, on the <strong>Brazilian parameters</strong> page, in <strong>Electronic reporting</strong>, select <strong>Type =</strong> <strong>NFeServices</strong>. The model details represent the set of services for fiscal document transactions. On the <strong>Fiscal documents type</strong> page, you can identify the format file. Select the <strong>Electronic fiscal document for services</strong> option, and in the <strong>Export format mapping</strong> field, select <strong>ER configuration format</strong> . <strong>Note</strong>: This configuration applies when an outgoing RPS file needs to be generated. You can use the existing model and create another format to fulfill the requirements from other cities not supported in the current Brazilian localization.</p>
<h2 id="prerequisites">Prerequisites</h2>
<h4 id="service-code-configuration">Service code configuration</h4>
<p>On the <strong>Service code</strong> page, you can configure the related service code required for the majority city tax authority. A service code is mandatory when a fiscal document type that has model = <strong>SE</strong> is posted. In addition, you can configure a specific service code per country/region, state, and city because classification can be different in cities.</p>
<h4 id="services-on-delivery-address">Services on delivery address</h4>
<p>You may need to consider the delivery address for the correct service taxation instead of the default address. In those cases, on the <strong>Sales Order</strong> page, under the <strong>Fiscal Information</strong> group, in the <strong>Service code on delivery address</strong> field, enter the delivery address.</p>
<h2 id="export-and-import-rps-files">Export and import RPS files</h2>
<p>On the <strong>RPS export and import</strong> page, you can generate outgoing and incoming RPS files. You create the file to send to the fiscal authority to process all emitted RPS documents to become valid electronic services fiscal documents. After processing, you get a file to import. After the file is imported, the original documents are updated to reflect the correct status of all RPS and electronic services fiscal documents.</p>
<h4 id="export">Export</h4>
<p>On the <strong>Export RPS file</strong> page, enter the following information.</p>
<ul>
<li><strong>From date</strong> - Enter the start date of the period for which the RPS files will be exported.</li>
<li><strong>To date</strong> - Enter the end date of the period for which the RPS files will be exported.</li>
<li><strong>From customer</strong> - Select the first customer account number in the range of customer accounts to include.</li>
<li><strong>To customer</strong> - Select the last customer account number in the range of customer accounts to include.</li>
<li><strong>From RPS</strong> - Enter the first invoice number in the range of invoices.</li>
<li><strong>To RPS</strong> - Enter the last invoice number in the range of invoices.</li>
<li><strong>Fiscal establishment ID</strong> - Select the identifier of the fiscal establishment.</li>
<li><strong>Fiscal document type</strong> - Select the type of fiscal document.</li>
<li>Select the <strong>Include previously exported RPS</strong> option to include an RPS file that was already processed.</li>
<li>Click <strong>OK</strong> to export the RPS file.</li>
</ul>
<p>When you export an RPS file, a text file is generated based on the export file layout group that is selected in the <strong>Export file layout group</strong> field or the <strong>Export format mapping</strong> field on the <strong>Fiscal document types</strong> page for the selected fiscal document type.</p>
<h4 id="import">Import</h4>
<p>On the <strong>Import RPS file</strong> page, enter the following information:</p>
<ul>
<li><strong>Fiscal establishment ID</strong> - Select the fiscal establishment to import the electronic fiscal document for services for.</li>
<li><strong>Fiscal document type</strong> - Select the fiscal document type for the electronic fiscal document for services.</li>
</ul>
<p>When you import an electronic fiscal document for services, information about the electronic fiscal document for services, such as the RPS import date, fiscal document number, fiscal document date, and validation number, is updated based on the return file layout group that is specified in the <strong>Return file layout group</strong> field on the <strong>Fiscal document types</strong> page.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
