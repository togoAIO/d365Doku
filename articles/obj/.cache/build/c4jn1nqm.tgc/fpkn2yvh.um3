<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Scenario setup for IoT Intelligence </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Scenario setup for IoT Intelligence ">
    <meta name="generator" content="docfx 2.56.6.0">
    <meta name="description" content="This topic explains how to configure scenarios for IoT Intelligence in Microsoft Dynamics 365 Supply Chain Management.">
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="">
    <meta property="docfx:tocrel" content="../toc.html">
    <meta name="searchOption" content="noindex">
    
    
    <meta name="robots" content="NOINDEX, NOFOLLOW">
    
    <meta name="ms.search.scope" content="Core, Operations, Supply Chain, ShowInHelp">
    <meta name="ms.search.region" content="Global">
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        <div class="row">
          <div class="col-sm-12">
            
<div class="sidenav hide-when-search"> 
  <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
  <div class="sidetoggle collapse" id="sidetoggle">
    <div id="sidetoc"></div>
  </div>
</div>
            <div class="row toc-offset">
              
              <div class="col-sm-12 col-md-9">
                <article class="article" id="_content" data-uid="">
<h1 id="scenario-setup-for-iot-intelligence" sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="31">Scenario setup for IoT Intelligence</h1>


<p sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="35">This topic explains how to configure scenarios for IoT Intelligence in Microsoft Dynamics 365 Supply Chain Management. Before you can set up the scenarios, you must <a href="iot-lcs-setup.html" sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="35">set up Microsoft Dynamics Lifecycle Services (LCS)</a>.</p>
<p sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="37">In this topic, you will configure the <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="37">Equipment downtime</strong> scenario so that a notification is generated in Supply Chain Management when a machine goes down. The topic also shows how to configure the <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="37">Product quality</strong> scenario so that a notification is generated if an attribute of an item is outside a specified range, and how to configure the <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="37">Production delays</strong> scenario so that a notification is generated if the production throughput falls below a threshold value.</p>
<h2 id="configure-the-equipment-downtime-scenario-in-supply-chain-management" sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="39">Configure the Equipment downtime scenario in Supply Chain Management</h2>
<p sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="41">The <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="41">Equipment downtime</strong> scenario maps a <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="41">PartOut</strong> signal to a machine alert threshold. The machine is monitored only when it's selected for the scenario and when is set to <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="41">Running</strong> in Supply Chain Management. If the time since a <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="41">PartOut</strong> signal was last received from the machine exceeds the alert threshold, a <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="41">Machine down</strong> notification is triggered. If the machine is still running, a <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="41">Machine up</strong> notification is triggered when the next <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="41">PartOut</strong> signal is received. If a machine stays down for 30 minutes, a new <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="41">Machine down</strong> notification is triggered.</p>
<p sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="43">The <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="43">Equipment downtime</strong> scenario has the following dependencies:</p>
<ul sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="45">
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="45">An alert can be triggered only if a production order is running on a mapped machine.</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="46">A signal that represents a mapped machine's <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="46">PartOut</strong> signal must be sent to the IoT hub, and a unique property name must be included.</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="47">A UNIX <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="47">timestamp</strong> property, where the value is expressed in milliseconds (ms), must be present in the Azure IoT Hub message.</li>
</ul>
<p sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="49">To configure the scenario, follow these steps.</p>
<ol sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="51">
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="51"><p sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="51">Sign in to Supply Chain Management.</p>
</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="52"><p sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="52">Enable the IoT Intelligence feature flag. For more information, see <a href="https://docs.microsoft.com/dynamics365/fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview" sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="52">Feature management overview</a>.</p>
</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="53"><p sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="53">Configure the metrics. For more information, see <a href="https://docs.wika.com/en-us/dynamics365/supply-chain/supply-chain/iot/iot-metrics-setup" sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="53">How to configure metrics (This is an external linThis link was changed due to HTMLfromRepoGenerator)</a>.</p>
</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="54"><p sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="54">Go to <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="54">Production control &gt; Setup &gt; IoT Intelligence &gt; Scenario management</strong>.</p>
</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="55"><p sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="55">On the <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="55">Equipment downtime</strong> tile, select <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="55">Configure</strong> to open the configuration wizard.</p>
<p sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="57">The first page in the wizard is the <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="57">Equipment sensor schema definition</strong> page. On this page, your goal is to set up the schema in Supply Chain Management so that it matches the JavaScript Object Notation (JSON) format of the IoT Hub messages. Multiple message schemas can be defined. For more information, see <a href="https://docs.wika.com/en-us/dynamics365/supply-chain/supply-chain/iot/iot-schema-format" sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="57">Schema formats for IoT Hub messages (This is an external linThis link was changed due to HTMLfromRepoGenerator)</a>. In this example, the message payload contains a batch of messages that has the following format.</p>
<pre><code class="lang-json" sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="59">{
    &quot;timestamp&quot;: 1576016821614,
    &quot;payload&quot;: [
        {
            &quot;id&quot;: &quot;IoTInt.Machine1225.PartOut&quot;,
            &quot;timestamp&quot;: 1576016821614,
            &quot;value&quot;: True
        },
        {
            &quot;id&quot;: &quot;IoTInt.Machine1226.PartOut&quot;,
            &quot;timestamp&quot;: 1576016991616,
            &quot;value&quot;: True
        }
    ]
}
</code></pre>
</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="77"><p sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="77">Add a row to the table, and set the following values:</p>
<ol sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="79">
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="79">Set the <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="79">Schema name</strong> field to <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="79">ID</strong>.</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="80">Set the <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="80">Schema path</strong> field to <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="80">/payload[*]/id</strong>.</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="81">Set the <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="81">Description</strong> field to <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="81">Message ID</strong>.</li>
</ol>
</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="83"><p sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="83">Add another row to the table, and set the following values:</p>
<ol sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="85">
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="85">Set the <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="85">Schema name</strong> field to <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="85">Timestamp</strong>.</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="86">Set the <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="86">Schema path</strong> field to <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="86">/payload[*]/timestamp</strong>.</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="87">Set the <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="87">Description</strong> field to <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="87">Message timestamp</strong>.</li>
</ol>
</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="89"><p sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="89">Add another row to the table, and set the following values:</p>
<ol sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="91">
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="91">Set the <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="91">Schema name</strong> field to <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="91">Value</strong>.</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="92">Set the <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="92">Schema path</strong> field to <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="92">/payload[*]/value</strong>.</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="93">Set the <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="93">Description</strong> field to <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="93">Message value</strong>.</li>
</ol>
<div class="NOTE" sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="95">
<h5>Note</h5>
<p sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="96">You don't have to define all the properties in the message. Define only the properties that you require. In the preceding steps, you didn't create a row for <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="96">Root timestamp</strong>. The path of <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="96">Root timestamp</strong> would be <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="96">/timestamp</strong>.</p>
</div>
</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="98"><p sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="98">Select <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="98">Next</strong> to go to the <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="98">Equipment sensor schema map</strong> page.</p>
</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="99"><p sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="99">In the row for <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="99">Equipment resource ID</strong>, in the <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="99">Schema name</strong> field, select <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="99">ID</strong>.</p>
</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="100"><p sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="100">In the row for <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="100">UTC time</strong>, in the <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="100">Schema name</strong> field, select <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="100">Timestamp</strong>.</p>
</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="101"><p sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="101">In the row for <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="101">Part produced signal</strong>, in the <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="101">Schema name</strong> field, select <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="101">Value</strong>.</p>
</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="102"><p sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="102">Select <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="102">Next</strong> to go to the <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="102">Equipment resource ID configuration</strong> page.</p>
</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="103"><p sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="103">Follow these steps to map the values in the IoT Hub message to the Supply Chain Management resources:</p>
<ol sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="105">
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="105">In the <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="105">Signal Data Values</strong> table, add a new row. In the <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="105">Value</strong> field, enter <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="105">IoTInt.Machine1225.PartOut</strong>. This value  comes from the JSON <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="105">id</strong> property in the IoT Hub message.</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="106">Select <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="106">Save</strong>.</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="107">In the <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="107">Business Record Mapping</strong> table, select <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="107">New</strong>. A default value for the <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="107">Business record type</strong> field is automatically filled in, and you don't have to change it.</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="108">In the <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="108">Business record</strong> field, select the Supply Chain Management machine resource that the signal value is being sent from.</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="109">Select <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="109">Save</strong>.</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="110">Repeat these steps to add a new business record mapping for <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="110">Machine1226</strong>. You can map multiple signal data values to a single record in Supply Chain Management.</li>
</ol>
</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="112"><p sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="112">Use the <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="112">Selected</strong> column to select the machines that you want to process. You don't have to define all signal values, and you don't have to select all machines.</p>
</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="113"><p sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="113">Select <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="113">Next</strong> to go to the <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="113">Part produced signal configuration</strong> page.</p>
</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="114"><p sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="114">In the <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="114">Signal Data Values</strong> table, add a row, and set the <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="114">Value</strong> field to <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="114">True</strong>. This value comes from the JSON <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="114">value</strong> property in the IoT Hub message. You can add as many values as you require for your scenario.</p>
</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="115"><p sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="115">Select <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="115">Save</strong>.</p>
</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="116"><p sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="116">Select <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="116">Next</strong> to go to the <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="116">Equipment downtime threshold</strong> page. The machines that are listed are the machines that were previously mapped to signal values. On this page, you will define a threshold to determine whether a machine is down. For example, if you set the threshold to <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="116">10</strong>, Supply Chain Management will generate a notification if no <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="116">PartOut</strong> signal is received from a machine for 10 minutes.</p>
</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="117"><p sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="117">Select <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="117">Next</strong> to go to the <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="117">Enable scenario</strong> page. Set the option to enable the scenario.</p>
</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="118"><p sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="118">Select <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="118">Finish</strong>.</p>
</li>
</ol>
<p sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="120">The scenario setup is now completed. IoT Intelligence will automatically start to process the IoT Hub messages.</p>
<h2 id="configure-the-product-quality-scenario-in-supply-chain-management" sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="122">Configure the Product quality scenario in Supply Chain Management</h2>
<p sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="124">The <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="124">Product quality</strong> scenario generates a notification if an attribute of an item is outside a specified range. For example, a sensor sends the weight of each item to IoT Hub. If an item is too heavy or too light, a notification is generated in Supply Chain Management.</p>
<p sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="126">The <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="126">Product quality</strong> scenario has the following dependencies:</p>
<ul sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="128">
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="128">An alert can be triggered only if a production order is running on a mapped machine and producing a product that has a mapped batch attribute.</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="129">A signal that represents the batch attribute must be sent to the IoT hub, and a unique property name must be included.</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="130">A UNIX <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="130">timestamp</strong> property, where the value is expressed in ms, must be present in the IoT Hub message.</li>
</ul>
<h2 id="configure-the-production-delays-scenario-in-supply-chain-management" sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="132">Configure the Production delays scenario in Supply Chain Management</h2>
<p sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="134">The <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="134">Production delays</strong> scenario generates a notification if the production throughput falls below a threshold value. In this scenario, a <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="134">PartOut</strong> signal is sent to IoT Hub for each item that is produced. In Supply Chain Management, the order delay is calculated based on the amount of time that the production order is scheduled to run, the number of items that should be produced, the amount of time that the job has been running, and the number of <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="134">PartOut</strong> signals that are received. A delay notification is generated if the number of <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="134">PartOut</strong> signals for the job falls below the threshold value.</p>
<p sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="136">The <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="136">Production delays</strong> scenario has the following dependencies:</p>
<ul sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="138">
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="138">An alert can be triggered only if a production order is running on a mapped machine.</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="139">A signal that represents a mapped machine's <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="139">PartOut</strong> signal must be sent to the Azure IoT hub, and a unique property name must be included.</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="140">A UNIX <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="140">timestamp</strong> property, where the value is expressed in ms, must be present in the IoT Hub message.</li>
</ul>
<h2 id="disable-a-scenario" sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="142">Disable a scenario</h2>
<p sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="144">To disable a scenario, follow these steps.</p>
<ol sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="146">
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="146">In Supply Chain Management, go to <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="146">Production control &gt; Setup &gt; IoT Intelligence &gt; Scenario management</strong>.</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="147">On the tile for the scenario, select <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="147">Configure</strong>.</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="148">Select <strong sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="148">Next</strong> to go to the last wizard page.</li>
<li sourcefile="supply-chain/iot/iot-scenario-setup.md" sourcestartlinenumber="149">Set the option to disable the scenario.</li>
</ol>
</article>
              </div>
              
<div class="hidden-sm col-md-3" role="complementary">
  <div class="sideaffix">
    <div class="contribution">
      <ul class="nav">
        <li>
          <a href="https://github.com/MicrosoftDocs/Dynamics-365-unified-Operations-public/blob/live/articles/supply-chain/iot/iot-scenario-setup.md/#L1" class="contribution-link">Improve this Doc</a>
        </li>
      </ul>
    </div>
    <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
    <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
    </nav>
  </div>
</div>

            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Copyright ï¿½ 2015-2017 Microsoft<br>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
