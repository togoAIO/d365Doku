<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>ER Use Document Management files in format outputs (Part 2 - Extend data model) </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="ER Use Document Management files in format outputs (Part 2 - Extend data model) ">
    <meta name="generator" content="docfx 2.56.6.0">
    <meta name="description" content="The following steps explain how a user assigned to the System Administrator or Electronic Reporting Developer role can configure an Electronic reporting (ER) format to use Document Management files (attachments) in ER output.">
    <link rel="shortcut icon" href="../../../../favicon.ico">
    <link rel="stylesheet" href="../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../styles/main.css">
    <meta property="docfx:navrel" content="">
    <meta property="docfx:tocrel" content="../../../../commerce/TOC.html">
    <meta name="searchOption" content="noindex">
    
    
    <meta name="robots" content="NOINDEX, NOFOLLOW">
    <meta name="ms.search.form" content="ERWorkspace, ERSolutionTable, ERDataModelDesigner, ERDataModelContentsItemCreationDialog, ERModelMappingTable, ERModelMappingDesigner, ERExpressionDesignerFormula">
    <meta name="ms.search.scope" content="Core, Operations, CrossApp, ShowInHelp">
    <meta name="ms.search.region" content="Global">
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../../index.html">
                <img id="logo" class="svg" src="../../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        <div class="row">
          <div class="col-sm-12">
            
<div class="sidenav hide-when-search"> 
  <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
  <div class="sidetoggle collapse" id="sidetoggle">
    <div id="sidetoc"></div>
  </div>
</div>
            <div class="row toc-offset">
              
              <div class="col-sm-12 col-md-9">
                <article class="article" id="_content" data-uid="">
<h1 id="er-use-document-management-files-in-format-outputs-part-2---extend-data-model">ER Use Document Management files in format outputs (Part 2 - Extend data model)</h1>


<p>The following steps explain how a user assigned to the System Administrator or Electronic Reporting Developer role can configure an Electronic reporting (ER) format to use Document Management files (attachments) in ER output. These steps can be performed in any company.</p>
<p>To complete these steps, you must first complete the steps in the &quot;ER Use Document Management files in format outputs (Part 1: Prepare data model)&quot; task guide.</p>
<p>This procedure is for a feature that was added in Dynamics 365 for Operations version 1611.</p>
<h2 id="extend-data-model-to-present-the-document-management-files-in-it">Extend data model to present the Document Management files in it</h2>
<ol>
<li>Go to Organization administration &gt; Workspaces &gt; Electronic reporting.</li>
<li>Click Reporting configurations.</li>
<li>In the tree, expand 'Customer invoice model'.</li>
<li>In the tree, select 'Customer invoice model\Customer invoice model (custom)'.</li>
<li>Click Designer.</li>
<li>In the tree, select 'Customer invoice(InvoiceCustomer)'.
<ul>
<li>We will extend this data model to expose in it any files that have been attached to a sales order that is related to an electronically processing invoice.</li>
</ul>
</li>
<li>Click New to open the drop dialog.</li>
<li>In the Name field, type 'Invoice attachments'.
<ul>
<li>Invoice attachments</li>
</ul>
</li>
<li>In the Item type field, select 'Record list'.</li>
<li>Click Add.</li>
<li>Click New to open the drop dialog.</li>
<li>In the Name field, type 'File content'.
<ul>
<li>File content</li>
</ul>
</li>
<li>In the Item type field, select 'Container'.</li>
<li>Click Add.</li>
<li>Click New to open the drop dialog.</li>
<li>In the Name field, type 'File name'.
<ul>
<li>File name</li>
</ul>
</li>
<li>In the Item type field, select 'String'.</li>
<li>Click Add.</li>
</ol>
<h2 id="map-new-data-model-elements-to-data-sources">Map new data model elements to data sources</h2>
<ol>
<li>Click Map model to datasource.</li>
<li>Use the Quick Filter to filter on the Definition field with a value of 'InvoiceCustomer'.
<ul>
<li>InvoiceCustomer</li>
<li>We will map new model elements to appropriate data sources.</li>
</ul>
</li>
<li>Click Designer.</li>
<li>In the tree, select 'Invoice attachments'.</li>
<li>In the tree, expand 'Invoice attachments'.</li>
<li>In the tree, select 'Invoice attachments\File name'.</li>
<li>Click Edit.</li>
<li>In the Formula field, enter 'CustInvoiceJour.'&gt;Relations'.SalesTable.'&lt;Relations'.'&lt;Documents'.'originalFileName()''.
<ul>
<li>CustInvoiceJour.'&gt;Relations'.SalesTable.'&lt;Relations'.'&lt;Documents'.'originalFileName()'</li>
</ul>
</li>
<li>Click Save.</li>
<li>Close the page.</li>
<li>In the tree, select 'Invoice attachments\File content'.</li>
<li>Click Edit.</li>
<li>In the Formula field, enter 'CustInvoiceJour.'&gt;Relations'.SalesTable.'&lt;Relations'.'&lt;Documents'.'getFileContentAsContainer()''.
<ul>
<li>CustInvoiceJour.'&gt;Relations'.SalesTable.'&lt;Relations'.'&lt;Documents'.'getFileContentAsContainer()'</li>
</ul>
</li>
<li>Click Save.</li>
<li>Close the page.</li>
<li>In the tree, select 'Invoice attachments'.</li>
<li>Click Edit.</li>
<li>In the Formula field, enter 'CustInvoiceJour.'&gt;Relations'.SalesTable.'&lt;Relations'.'&lt;Documents''.
<ul>
<li>CustInvoiceJour.'&gt;Relations'.SalesTable.'&lt;Relations'.'&lt;Documents'</li>
</ul>
</li>
<li>Click Save.</li>
<li>Close the page.</li>
<li>Click Save.</li>
<li>Close the page.</li>
<li>Close the page.</li>
<li>Close the page.</li>
<li>Click Change status.</li>
<li>Click Complete.</li>
<li>Click OK.</li>
</ol>
</article>
              </div>
              
<div class="hidden-sm col-md-3" role="complementary">
  <div class="sideaffix">
    <div class="contribution">
      <ul class="nav">
        <li>
          <a href="https://github.com/MicrosoftDocs/Dynamics-365-unified-Operations-public/blob/live/articles/fin-ops-core/dev-itpro/analytics/tasks/er-document-management-files-2.md/#L1" class="contribution-link">Improve this Doc</a>
        </li>
      </ul>
    </div>
    <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
    <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
    </nav>
  </div>
</div>

            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Copyright � 2015-2017 Microsoft<br>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
  </body>
</html>
