<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Customer loyalty cards and reward points </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Customer loyalty cards and reward points ">
    <meta name="generator" content="docfx 2.56.6.0">
    <meta name="description" content="This topic describes the integration of data about customer loyalty cards and reward points in dual-write.">
    <link rel="shortcut icon" href="../../../../favicon.ico">
    <link rel="stylesheet" href="../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../styles/main.css">
    <meta property="docfx:navrel" content="">
    <meta property="docfx:tocrel" content="../../toc.html">
    <meta name="searchOption" content="noindex">
    
    
    <meta name="robots" content="NOINDEX, NOFOLLOW">
    
    <meta name="ms.search.scope" content="Core, Operations, CrossApp, ShowInHelp">
    <meta name="ms.search.region" content="global">
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../../index.html">
                <img id="logo" class="svg" src="../../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        <div class="row">
          <div class="col-sm-12">
            
<div class="sidenav hide-when-search"> 
  <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
  <div class="sidetoggle collapse" id="sidetoggle">
    <div id="sidetoc"></div>
  </div>
</div>
            <div class="row toc-offset">
              
              <div class="col-sm-12 col-md-9">
                <article class="article" id="_content" data-uid="">
<h1 id="customer-loyalty-cards-and-reward-points">Customer loyalty cards and reward points</h1>

[!include[rename-banner](~/includes/cc-data-platform-banner.md)]
<p>Businesses classify customers and provide sophisticated services, based on customer shopping and spending patterns. For example, Dynamics 365 Commerce has the infrastructure and functions to facilitate and handle customer loyalty cards, reward points, loyalty-based pricing, and rewards-based shopping experiences. When data about customer loyalty cards and reward points in Commerce is synced to Dataverse, customer engagement apps can use that data. For example, Dynamics 365 Customer Service users can use the data to provide the same sophisticated services through the help desk.</p>
<h2 id="templates">Templates</h2>
<table>
<thead>
<tr>
<th>Finance and Operations apps</th>
<th>Model-driven apps in Dynamics 365</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Loyalty card</td>
<td>msdyn_loyaltycards</td>
<td>This template syncs information about customer loyalty cards.</td>
</tr>
<tr>
<td>Loyalty reward points</td>
<td>msdyn_loyaltyrewardpoints</td>
<td>This template syncs information about customer reward points.</td>
</tr>
</tbody>
</table>
<h2 id="mapping-tables">Mapping tables</h2>
<h3 id="mapping-types">Mapping types</h3>
<p>There are several different mapping types. The following table explains the symbols used in the template tables.</p>
<table>
<thead>
<tr>
<th>Symbol</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>&gt;</td>
<td>One-way</td>
</tr>
<tr>
<td>&gt;&gt;</td>
<td>One-way, and data is transformed in the process.</td>
</tr>
<tr>
<td>=</td>
<td>Bidirectional</td>
</tr>
<tr>
<td>&gt;&lt;</td>
<td>Bidirectional, and data is transformed in the process.</td>
</tr>
<tr>
<td>&lt;&lt;</td>
<td>One-way, and data is transformed in the process.</td>
</tr>
</tbody>
</table>
<h3 id="filters">Filters</h3>
<p>The source filter and reverse source filter determine which rows are synchronized.</p>
<h3 id="default-values">Default values</h3>
<p>If a synchronized field does not exist in either the Finance and Operations table or the other Dynamics 365 table, then a default value is assigned in the synchronized table. In some cases, the default value is an integer that is a lookup to an attribute value in the Common Data Model. For example, in the Contacts table of the Common Data Model, the default value of <a href="customer-mapping.html#customers-v3-to-contacts"><strong>address1_addresstypecode</strong></a> is <strong>3</strong>. In the Common Data Model, for <a href="https://docs.microsoft.com/common-data-model/schema/core/applicationcommon/foundationcommon/contact#address1AddressTypeCode">address1AddressTypeCode</a> the value of <strong>3</strong> is <strong>Primary address</strong>.</p>
<h2 id="loyalty-card-to-msdyn_loyaltycards">Loyalty card to msdyn_loyaltycards</h2>
<p>This template synchronizes data between Finance and Operations apps and Dataverse.</p>
<table>
<thead>
<tr>
<th>Finance and Operations field</th>
<th>Map type</th>
<th>Customer engagement field</th>
<th>Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td>CARDNUMBER</td>
<td>=</td>
<td>msdyn_cardnumber</td>
<td></td>
</tr>
<tr>
<td>CARDTENDERTYPE</td>
<td>&gt;&lt;</td>
<td>msdyn_cardtendertype</td>
<td></td>
</tr>
<tr>
<td>PARTYNUMBER</td>
<td>=</td>
<td>msdyn_partynumber</td>
<td></td>
</tr>
<tr>
<td>REPLACEMENTCARDNUMBER</td>
<td>&gt;</td>
<td>msdyn_replacementcardnumber</td>
<td></td>
</tr>
<tr>
<td>OMOPERATINGUNITNUMBER</td>
<td>=</td>
<td>msdyn_operatingunitnumber</td>
<td></td>
</tr>
<tr>
<td>LOYALTYENROLLMENTDATE</td>
<td>=</td>
<td>msdyn_enrollmentdate</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="loyalty-reward-points-to-msdyn_loyaltyrewardpoints">Loyalty reward points to msdyn_loyaltyrewardpoints</h2>
<p>This template synchronizes data between Finance and Operations apps and Dataverse.</p>
<table>
<thead>
<tr>
<th>Finance and Operations apps</th>
<th>Map type</th>
<th>Customer engagement apps</th>
<th>Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td>EXPIRATIONTIMEUNIT</td>
<td>&gt;&lt;</td>
<td>msdyn_expirationtimeunit</td>
<td></td>
</tr>
<tr>
<td>EXPIRATIONTIMEVALUE</td>
<td>=</td>
<td>msdyn_expirationtimevalue</td>
<td></td>
</tr>
<tr>
<td>REDEEMABLE</td>
<td>&gt;&lt;</td>
<td>msdyn_redeemable</td>
<td></td>
</tr>
<tr>
<td>REDEEMRANKING</td>
<td>=</td>
<td>msdyn_redeemranking</td>
<td></td>
</tr>
<tr>
<td>REWARDPOINTCURRENCY</td>
<td>=</td>
<td>msdyn_rewardpointcurrency.isocurrencycode</td>
<td></td>
</tr>
<tr>
<td>REWARDPOINTID</td>
<td>=</td>
<td>msdyn_rewardpointid</td>
<td></td>
</tr>
<tr>
<td>REWARDPOINTTYPE</td>
<td>&gt;&lt;</td>
<td>msdyn_rewardpointtype</td>
<td></td>
</tr>
<tr>
<td>MAXIMUMLOYALTYREWARDPOINTS</td>
<td>=</td>
<td>msdyn_maximumloyaltyrewardpoints</td>
<td></td>
</tr>
<tr>
<td>VESTINGTIMEUNIT</td>
<td>&gt;&lt;</td>
<td>msdyn_vestingtimeunit</td>
<td></td>
</tr>
<tr>
<td>VESTINGTIMEVALUE</td>
<td>=</td>
<td>msdyn_vestingtimevalue</td>
<td></td>
</tr>
</tbody>
</table>
</article>
              </div>
              
<div class="hidden-sm col-md-3" role="complementary">
  <div class="sideaffix">
    <div class="contribution">
      <ul class="nav">
        <li>
          <a href="https://github.com/MicrosoftDocs/Dynamics-365-unified-Operations-public/blob/live/articles/fin-ops-core/dev-itpro/data-entities/dual-write/loyalty-mapping.md/#L1" class="contribution-link">Improve this Doc</a>
        </li>
      </ul>
    </div>
    <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
    <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
    </nav>
  </div>
</div>

            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Copyright � 2015-2017 Microsoft<br>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
  </body>
</html>
