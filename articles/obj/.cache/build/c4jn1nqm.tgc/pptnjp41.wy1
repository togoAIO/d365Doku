<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Electronic reporting (ER) extended format lookup </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Electronic reporting (ER) extended format lookup ">
    <meta name="generator" content="docfx 2.56.6.0">
    <meta name="description" content="This topic describes how an ER format reference can be set up in the ER format lookup when the required format is stored in the Global repository.">
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="">
    <meta property="docfx:tocrel" content="../../../commerce/TOC.html">
    <meta name="searchOption" content="noindex">
    
    
    <meta name="robots" content="NOINDEX, NOFOLLOW">
    <meta name="ms.search.form" content="ERSolutionTable, ERWorkspace">
    <meta name="ms.search.scope" content="Core, Operations, CrossApp, ShowInHelp">
    <meta name="ms.search.region" content="Global">
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        <div class="row">
          <div class="col-sm-12">
            
<div class="sidenav hide-when-search"> 
  <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
  <div class="sidetoggle collapse" id="sidetoggle">
    <div id="sidetoc"></div>
  </div>
</div>
            <div class="row toc-offset">
              
              <div class="col-sm-12 col-md-9">
                <article class="article" id="_content" data-uid="">
<h1 id="allow-users-to-set-up-an-er-format-reference-inquiring-a-format-from-the-global-repository">Allow users to set up an ER format reference inquiring a format from the Global repository</h1>


<p>You can use the <a href="general-electronic-reporting.html">Electronic reporting</a> (ER) framework to configure <a href="general-electronic-reporting.html#FormatComponentOutbound">formats</a> for outbound documents in accordance to the legal requirements of various countries/regions. You can also use the ER framework to configure <a href="general-electronic-reporting.html#FormatComponentInbound">formats</a> for parsing inbound documents and use the information from those documents to append or update application data. Each of these formats can be used in your Dynamics 365 Finance instance for handling inbound or outbound business documents as part of a certain business process.</p>
<p>Usually, you must specify what ER format must be used in a certain business process. To do that, select a single ER format in a lookup field that is configured as part of business process-specific parameters. These lookup fields are usually implemented by using the appropriate API of the ER framework. For more information, see <a href="https://docs.wika.com/en-us/dynamics365/supply-chain/fin-ops-core/dev-itpro/analytics/er-apis-app73">ER framework API - code to display a format mapping lookup (This is an external linThis link was changed due to HTMLfromRepoGenerator)</a>.</p>
<p>For example, when you configure <a href="https://docs.microsoft.com/dynamics365/finance/localizations/emea-intrastat#set-up-foreign-trade-parameters">foreign trade parameters</a>, you need to set up the references to individual ER formats that will be used to generate the Intrastat declaration and the Intrastat declaration control report. The screenshots below show how the ER formats lookup field looks like in the <strong>Foreign trade parameters</strong> page.</p>
<p>If the current Finance instance contains no Intrastat business process-related ER formats, this lookup field will be empty.</p>
<p><a href="media/ER-ExtLookup-Lookup1.gif"><img src="media/ER-ExtLookup-Lookup1.gif" alt="Foreign trade parameters page"></a></p>
<p>If the current Finance instance contains Intrastat business process related ER formats, this lookup field offers the ER formats.</p>
<p><a href="media/ER-ExtLookup-Lookup2.png"><img src="media/ER-ExtLookup-Lookup2.png" alt="Foreign trade parameters page"></a></p>
<p>This lookup offers only the ER formats that have already been imported to the current Finance instance. To
<a href="tasks/er-import-configuration-lifecycle-services.html">import</a> ER solutions to the current Finance instance, you need to have permissions to run the appropriate function of the ER framework that supports the <a href="general-electronic-reporting-manage-configuration-lifecycle.html">lifecycle</a> of ER solutions that contain ER formats.</p>
<p>Starting in the Finance version 10.0.9 (April 2020 release), the user interface of the ER format lookup that is implemented by using the ER framework API, has been extended. You can still select the existing ER formats, which on the <strong>Select format configuration</strong> FastTab. In addition, the extended lookup offers the new option to search the Global repository (GR) to locate specific ER formats. All ER formats of the GR are offered on the <strong>Import from Global repository</strong> FastTab.</p>
<p><a href="media/ER-ExtLookup-Lookup3.png"><img src="media/ER-ExtLookup-Lookup3.png" alt="Foreign trade parameters page"></a></p>
<p>Similar to the <strong>Select format configuration</strong> FastTab, the <strong>Import from Global repository</strong> FastTab shows only the ER formats that are applicable to the business process for which an ER format is selected in this lookup field. In this example, the generation of Intrastat declaration. The ER format is applicable for the company to which the user is currently signed in, depending on the company country context.</p>
<p>When you select an ER format on the <strong>Import from Global repository</strong> FastTab, the selected ER format
<a href="general-electronic-reporting.html#Configuration">configuration</a> is imported from the GR to the current Finance instance.</p>
<p><a href="media/ER-ExtLookup-FormatImport.png"><img src="media/ER-ExtLookup-FormatImport.png" alt="Foreign trade parameters page"></a></p>
<p>Then, if the import completes successfully, the reference to the imported ER format is stored in this lookup field. When you access the GR for the first time, you need to follow the link provided to sign up for the <a href="https://aka.ms/rcs">Regulatory Configuration Service</a> (RCS) that is used to manage access to the GR storage.</p>
<p><a href="media/ER-ExtLookup-RepoSignUp.png"><img src="media/ER-ExtLookup-RepoSignUp.png" alt="Foreign trade parameters page"></a></p>
<p>By default, the <strong>Import from Global repository</strong> FastTab presents the list of ER formats from the temporary storage that is automatically created based on the GR content for performance improvements. This happens when the <strong>Import from Global repository</strong> FastTab is opened the first time, which may take several seconds.</p>
<p>If you do not see the required ER format in the <strong>Import from Global repository</strong> FastTab, but you are sure that this ER format is stored in the GR, select the <strong>Synchronize</strong> option. This option will update the temporary storage and synchronize it with the current content of the GR.</p>
<h2 id="feature-activation">Feature activation</h2>
<p>The availability of this functionality is controlled by the feature <strong>Extended lookup of ER format configurations allowing to inquire the Global repository</strong> in the <strong>Feature management</strong>. This feature is enabled by default.</p>
<p><a href="media/ER-ExtLookup-FeatureMngt.png"><img src="media/ER-ExtLookup-FeatureMngt.png" alt="Feature management page"></a></p>
<h2 id="security-considerations">Security considerations</h2>
<p>The <strong>Maintain configuration repositories</strong> (<strong>ERMaintainSolutionRepositories</strong>) privilege controls access to the GR for a user opening the ER format lookup with the enabled <strong>Import from Global repository</strong> FastTab. To allow users to access the GR content from the ER format lookups, you need to change the security settings by granting the <strong>ERMaintainSolutionRepositories</strong> privilege to users either directly or by using already assigned roles and duties.</p>
<p>The following screenshot shows how this privilege can be granted to users who are assigned to the <strong>Accountant</strong> role. This role allows users to configure foreign trade parameters and set up references to the ER formats in the <strong>File format mapping</strong> and <strong>Report format mapping</strong> fields on the <strong>Foreign trade parameters</strong> page.</p>
<p><a href="media/ER-ExtLookup-SecuritySetting.png"><img src="media/ER-ExtLookup-SecuritySetting.png" alt="Security configuration page"></a></p>
<h2 id="limitations">Limitations</h2>
<p>Access to the GR in the ER format lookup is currently only supported for the selection of ER formats that are used to generate outbound documents.</p>
<h2 id="frequently-asked-questions">Frequently asked questions</h2>
<h3 id="why-cant-i-access-the-global-repository-from-the-er-format-lookup">Why can't I access the Global repository from the ER format lookup?</h3>
<p>If you have enabled the <strong>Extended lookup of ER format configurations allowing to inquire the Global repository</strong> feature on the <strong>Feature management</strong> page, but users can't see ER formats on the <strong>Import from Global repository</strong> FastTab and the <strong>Synchronize</strong> option is visible but disabled, make sure that the <strong>Maintain configuration repositories</strong> (<strong>ERMaintainSolutionRepositories</strong>) privilege has been granted to the user. Contact your system administrator to receive this privilege.</p>
<h2 id="additional-resources">Additional resources</h2>
<ul>
<li><a href="general-electronic-reporting.html">Electronic reporting (ER) overview</a></li>
<li><a href="https://docs.wika.com/en-us/dynamics365/supply-chain/fin-ops-core/dev-itpro/analytics/er-apis-app73">Electronic reporting (ER) framework API (This is an external linThis link was changed due to HTMLfromRepoGenerator)</a></li>
<li><a href="general-electronic-reporting-manage-configuration-lifecycle.html">Manage Electronic reporting (ER) configurations lifecycle</a></li>
</ul>
</article>
              </div>
              
<div class="hidden-sm col-md-3" role="complementary">
  <div class="sideaffix">
    <div class="contribution">
      <ul class="nav">
        <li>
          <a href="https://github.com/MicrosoftDocs/Dynamics-365-unified-Operations-public/blob/live/articles/fin-ops-core/dev-itpro/analytics/er-extended-format-lookup.md/#L1" class="contribution-link">Improve this Doc</a>
        </li>
      </ul>
    </div>
    <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
    <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
    </nav>
  </div>
</div>

            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Copyright � 2015-2017 Microsoft<br>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
