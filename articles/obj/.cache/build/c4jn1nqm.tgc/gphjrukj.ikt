<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Defer the execution of XML elements in ER formats </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Defer the execution of XML elements in ER formats ">
    <meta name="generator" content="docfx 2.56.6.0">
    <meta name="description" content="This topic explains how to defer the execution of an XML element in an Electronic reporting (ER) format.">
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="">
    <meta property="docfx:tocrel" content="../../../commerce/TOC.html">
    <meta name="searchOption" content="noindex">
    
    
    <meta name="robots" content="NOINDEX, NOFOLLOW">
    <meta name="ms.search.form" content="EROperationDesigner">
    <meta name="ms.search.scope" content="Core, Operations, CrossApp, ShowInHelp">
    <meta name="ms.search.region" content="Global">
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        <div class="row">
          <div class="col-sm-12">
            
<div class="sidenav hide-when-search"> 
  <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
  <div class="sidetoggle collapse" id="sidetoggle">
    <div id="sidetoc"></div>
  </div>
</div>
            <div class="row toc-offset">
              
              <div class="col-sm-12 col-md-9">
                <article class="article" id="_content" data-uid="">
<h1 id="defer-the-execution-of-xml-elements-in-er-formats" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="32">Defer the execution of XML elements in ER formats</h1>

<h2 id="overview" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="36">Overview</h2>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="38">You can use the Operations designer of the <a href="general-electronic-reporting.html" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="38">Electronic reporting (ER)</a> framework to <a href="tasks/er-format-configuration-2016-11.html" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="38">configure</a> the <a href="general-electronic-reporting.html#FormatComponentOutbound" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="38">format component</a> of an ER solution that is used to generate outbound documents in XML format. The hierarchical structure of the configured format component consists of format elements of various types. These format elements are used to fill generated documents with the required information at runtime. By default, when you run an ER format, the format elements are run in the same order as they are presented in the format hierarchy: one by one, from top to bottom. However, at design time, you can change the execution order for any XML elements of the configured format component.</p>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="40">By turning on the <a name="DeferredXmlElementExecution"></a><strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="40">Deferred execution</strong> option for an XML element in the configured format, you can defer (postpone) the execution of that element. In this case, the element isn't run until all other elements of its parent have been run.</p>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="42">To learn more about this feature, complete the example in this topic.</p>
<h2 id="limitations" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="44">Limitations</h2>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="46">The <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="46">Deferred execution</strong> option is supported only for XML elements that are configured for an ER format that is used to generate <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="46">outbound</strong> documents in XML format.</p>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="48">The <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="48">Deferred execution</strong> option is supported only for XML elements that reside in only one other XML element. Therefore, it isn't applicable to XML elements that reside in other types of format elements (for example, in an <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="48">XML sequence</strong> element).</p>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="50">The <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="50">Deferred execution</strong> option isn't supported for XML elements that reside in the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="50">Common\File</strong> format element when the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="50">Split file</strong> option is set to <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="50">Yes</strong>. For more information about how to split XML files, see <a href="er-split-files.html" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="50">Split generated XML files based on file size and content quantity</a>.</p>
<h2 id="Example" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="52">Example: Defer the execution of an XML element in an ER format</h2>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="54">The following steps explain how a user in the System administrator or Electronic reporting functional consultant <a href="https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/sysadmin/tasks/assign-users-security-roles" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="54">role</a> can configure an ER format that contains an XML element where the order of execution differs from the order in the format hierarchy.</p>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="56">These steps can be performed in the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="56">USMF</strong> company in Microsoft Dynamics 365 Finance.</p>
<h3 id="prerequisites" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="58">Prerequisites</h3>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="60">To complete this example, you must have access to the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="60">USMF</strong> company in Finance for one of the following roles:</p>
<ul sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="62">
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="62">Electronic reporting functional consultant</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="63">System administrator</li>
</ul>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="65">If you haven't yet completed the example in the <a href="er-defer-sequence-element.html#Example" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="65">Defer the execution of sequence elements in ER formats</a> topic, download the following <a href="general-electronic-reporting.html#Configuration" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="65">configurations</a> of the sample ER solution.</p>
<table sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="67">
<thead>
<tr sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="67">
<th sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="67">Content description</th>
<th sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="67">File name</th>
</tr>
</thead>
<tbody>
<tr sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="69">
<td sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="69">ER data model configuration</td>
<td sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="69"><a href="https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="69">Model to learn deferred elements.version.1.xml</a></td>
</tr>
<tr sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="70">
<td sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="70">ER model mapping configuration</td>
<td sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="70"><a href="https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="70">Mapping to learn deferred elements.version.1.1.xml</a></td>
</tr>
</tbody>
</table>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="72">Before you begin, you must also download and save the following configuration of the sample ER solution to your local computer.</p>
<table sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="74">
<thead>
<tr sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="74">
<th sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="74">Content description</th>
<th sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="74">File name</th>
</tr>
</thead>
<tbody>
<tr sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="76">
<td sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="76">ER format configuration</td>
<td sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="76"><a href="https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="76">Format to learn deferred XML elements.version.1.1.xml</a></td>
</tr>
</tbody>
</table>
<h3 id="import-the-sample-er-configurations" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="78">Import the sample ER configurations</h3>
<ol sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="80">
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="80"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="80">Go to <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="80">Organization administration</strong> &gt; <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="80">Workspaces</strong> &gt; <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="80">Electronic reporting</strong>.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="81"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="81">Select <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="81">Reporting configurations</strong>.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="82"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="82">On the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="82">Configurations</strong> page, if the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="82">Model to learn deferred elements</strong> configuration isn't available in the configuration tree, import the ER data model configuration:</p>
<ol sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="84">
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="84">Select <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="84">Exchange</strong>, and then select <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="84">Load from XML file</strong>.</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="85">Select <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="85">Browse</strong>, find and select the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="85">Model to learn deferred elements.1.xml</strong> file, and then select <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="85">OK</strong>.</li>
</ol>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="87"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="87">If the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="87">Mapping to learn deferred elements</strong> configuration isn't available in the configuration tree, import the ER model mapping configuration:</p>
<ol sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="89">
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="89">Select <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="89">Exchange</strong>, and then select <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="89">Load from XML file</strong>.</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="90">Select <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="90">Browse</strong>, find and select the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="90">Mapping to learn deferred elements.1.1.xml</strong> file, and then select <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="90">OK</strong>.</li>
</ol>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="92"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="92">Import the ER format configuration:</p>
<ol sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="94">
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="94">Select <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="94">Exchange</strong>, and then select <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="94">Load from XML file</strong>.</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="95">Select <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="95">Browse</strong>, find and select the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="95">Format to learn deferred XML elements.1.1.xml</strong> file, and then select <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="95">OK</strong>.</li>
</ol>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="97"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="97">In the configuration tree, expand <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="97">Model to learn deferred elements</strong>.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="98"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="98">Review the list of imported ER configurations in the configuration tree.</p>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="100"><img src="media/ER-DeferredXml-Configurations.png" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="100" alt="Imported ER configurations on the Configurations page"></p>
</li>
</ol>
<h3 id="activate-a-configuration-provider" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="102">Activate a configuration provider</h3>
<ol sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="104">
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="104"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="104">Go to <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="104">Organization administration</strong> &gt; <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="104">Workspaces</strong> &gt; <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="104">Electronic reporting</strong>.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="105"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="105">On the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="105">Localization configurations</strong> page, in the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="105">Configuration providers</strong> section, make sure that the <a href="general-electronic-reporting.html#Provider" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="105">configuration provider</a> for the Litware, Inc. (<code sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="105">http://www.litware.com</code>) sample company is listed, and that it's marked as active. If this configuration provider isn't listed, or if it isn't marked as active, follow the steps in the <a href="tasks/er-configuration-provider-mark-it-active-2016-11.html" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="105">Create a configuration provider and mark it as active</a> topic.</p>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="107"><img src="media/ER-DeferredXml-ElectronicReportingWorkspace.png" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="107" alt="Litware, Inc. sample company on the Localization configurations page"></p>
</li>
</ol>
<h3 id="review-the-imported-model-mapping" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="109">Review the imported model mapping</h3>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="111">Review the settings of the ER model mapping component that is configured to access tax transactions and expose accessed data on request.</p>
<ol sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="113">
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="113"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="113">Go to <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="113">Organization administration</strong> &gt; <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="113">Workspaces</strong> &gt; <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="113">Electronic reporting</strong>.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="114"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="114">Select <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="114">Reporting configurations</strong>.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="115"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="115">On the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="115">Configurations</strong> page, in the configuration tree, expand <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="115">Model to learn deferred elements</strong>.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="116"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="116">Select the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="116">Mapping to learn deferred elements</strong> configuration.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="117"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="117">Select <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="117">Designer</strong> to open the list of mappings.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="118"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="118">Select <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="118">Designer</strong> to review the mapping details.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="119"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="119">Select <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="119">Show details</strong>.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="120"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="120">Review the data sources that are configured to access tax transactions:</p>
<ul sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="122">
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="122"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="122">The <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="122">Transactions</strong> data source of the <em sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="122">Table record</em> type is configured to access records of the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="122">TaxTrans</strong> application table.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="123"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="123">The <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="123">Vouchers</strong> data source of the <em sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="123">Calculated field</em> type is configured to return the required voucher codes (<strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="123">INV-10000349</strong> and <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="123">INV-10000350</strong>) as a list of records.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="124"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="124">The <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="124">Filtered</strong> data source of the <em sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="124">Calculated field</em> type is configured to select, from the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="124">Transactions</strong> data source, only tax transactions of the required vouchers.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="125"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="125">The <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="125">$TaxAmount</strong> field of the <em sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="125">Calculated field</em> type is added for the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="125">Filtered</strong> data source to expose the tax value that has the opposite sign.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="126"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="126">The <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="126">Grouped</strong> data source of the <em sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="126">Group By</em> type is configured to group filtered tax transactions of the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="126">Filtered</strong> data source.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="127"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="127">The <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="127">TotalSum</strong> aggregation field of the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="127">Grouped</strong> data source is configured to summarize values of the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="127">$TaxAmount</strong> field of the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="127">Filtered</strong> data source for all filtered tax transactions of that data source.</p>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="129"><img src="media/ER-DeferredXml-GroupByParameters.png" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="129" alt="TotalSum aggregation field on the Edit 'GroupBy' parameters page"></p>
</li>
</ul>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="131"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="131">Review how the configured data sources are bound to the data model, and how they expose accessed data to make it available in an ER format:</p>
<ul sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="133">
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="133">The <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="133">Filtered</strong> data source is bound to the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="133">Data.List</strong> field of the data model.</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="134">The <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="134">$TaxAmount</strong> field of the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="134">Filtered</strong> data source is bound to the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="134">Data.List.Value</strong> field of the data model.</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="135">The <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="135">TotalSum</strong> field of the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="135">Grouped</strong> data source is bound to the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="135">Data.Summary.Total</strong> field of the data model.</li>
</ul>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="137"><img src="media/ER-DeferredXml-ModelMapping.png" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="137" alt="Model mapping designer page"></p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="139"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="139">Close the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="139">Model mapping designer</strong> and <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="139">Model mappings</strong> pages.</p>
</li>
</ol>
<h3 id="review-the-imported-format" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="141">Review the imported format</h3>
<ol sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="143">
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="143"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="143">On the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="143">Configurations</strong> page, in the configuration tree, select the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="143">Format to learn deferred XML elements</strong> configuration.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="144"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="144">Select <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="144">Designer</strong> to review the format details.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="145"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="145">Select <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="145">Show details</strong>.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="146"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="146">Review the settings of the ER format components that are configured to generate an outbound document in XML format that includes details of the tax transactions:</p>
<ul sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="148">
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="148">The <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="148">Report\Message</strong> XML element is configured to fill the outbound document with a single node that includes the nested XML elements (<strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="148">Header</strong>, <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="148">Record</strong>, and <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="148">Summary</strong>).</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="149">The <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="149">Report\Message\Header</strong> XML element is configured to fill the outbound document with a single header node that shows the date and time when the processing starts.</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="150">The <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="150">Report \Message\Record</strong> XML element is configured to fill the outbound document with a single record node that shows the details of a single tax transaction.</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="151">The <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="151">Report\Message\Summary</strong> XML element is configured to fill the outbound document with a single summary node that includes the sum of the tax values from the processed tax transactions.</li>
</ul>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="153"><img src="media/ER-DeferredXml-Format.png" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="153" alt="Message XML element and nested XML elements on the Format designer page"></p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="155"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="155">On the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="155">Mapping</strong> tab, review the following details:</p>
<ul sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="157">
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="157">The <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="157">Report\Message\Header</strong> element doesn't have to be bound to a source to generate a single node in an outbound document.</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="158">The <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="158">ExecutionDateTime</strong> attribute generates the date and time (including milliseconds) when the header node is added.</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="159">The <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="159">Report\Message\Record</strong> element is bound to the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="159">model.Data.List</strong> list to generate a single record node for every record from the bound list.</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="160">The <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="160">TaxAmount</strong> attribute is bound to <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="160">model.Data.List.Value</strong> (which is shown as <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="160">@.Value</strong> in the relative path view) to generate the tax value of the current tax transaction.</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="161">The <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="161">RunningTotal</strong> attribute is a placeholder for the running total of the tax values. Currently, this attribute has no output, because neither a binding nor a default value is configured for it.</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="162">The <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="162">ExecutionDateTime</strong> attribute generates the date and time (including milliseconds) when the current transaction is processed in this report.</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="163">The <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="163">Report\Message\Summary</strong> element doesn't have to be bound to a data source to generate a single node in an outbound document.</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="164">The <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="164">TotalTaxAmount</strong> attribute is bound to <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="164">model.Data.Summary.Total</strong> to generate the sum of the tax values of the processed tax transactions.</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="165">The <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="165">ExecutionDateTime</strong> attribute generates the date and time (including milliseconds) when the summary node is added.</li>
</ul>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="167"><img src="media/ER-DeferredXml-Format2.png" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="167" alt="Mapping tab on the Format designer page"></p>
</li>
</ol>
<h3 id="run-the-imported-format" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="169">Run the imported format</h3>
<ol sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="171">
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="171"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="171">On the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="171">Format designer</strong> page, select <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="171">Run</strong>.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="172"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="172">Download the file that the web browser offers, and open it for review.</p>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="174"><img src="media/ER-DeferredXml-Run.png" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="174" alt="Downloaded file"></p>
</li>
</ol>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="176">Notice that the summary node presents the sum of the tax values for the processed transactions. Because the format is configured to use the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="176">model.Data.Summary.Total</strong> binding to return this sum, the sum is calculated by calling the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="176">TotalSum</strong> aggregation of the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="176">Grouped</strong> data source of the <em sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="176">GroupBy</em> type in the model mapping. To calculate this aggregation, the model mapping iterates over all transactions that have been selected in the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="176">Filtered</strong> data source. By comparing the execution times of the summary node and the last record node, you can determine that calculation of the sum took 12 milliseconds (ms). By comparing the execution times of the first and last record nodes, you can determine that generation of all record nodes took 9 ms. Therefore, a total of 21 ms was required.</p>
<h3 id="modify-the-format-so-that-the-calculation-is-based-on-generated-output" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="178">Modify the format so that the calculation is based on generated output</h3>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="180">If the volume of transaction is much larger than the volume in the current example, the calculation time might increase and cause performance issues. By changing the setting of the format, you can help prevent these performance issues. Because you access tax values to include them in the generated report, you can reuse this information to calculate tax values. For more information, see <a href="tasks/er-format-counting-summing-1.html" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="180">Configure format to do counting and summing</a>.</p>
<ol sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="182">
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="182"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="182">On the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="182">Format designer</strong> page, on the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="182">Format</strong> tab, select the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="182">Report</strong> file element in the format tree.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="183"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="183">Set the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="183">Collect output details</strong> option to <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="183">Yes</strong>. You can now configure this format by using the content of a generated report as a data source that can be accessed by using the built-in ER functions in the <a href="er-functions-category-data-collection.html" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="183">Data collection</a> category.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="184"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="184">On the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="184">Mapping</strong> tab, select the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="184">Report\Message\Record</strong> XML element.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="185"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="185">Configure the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="185">Collected data key name</strong> expression as <code sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="185">WsColumn</code>.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="186"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="186">Configure the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="186">Collected data key value</strong> expression as <code sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="186">WsRow</code>.</p>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="188"><img src="media/ER-DeferredXml-Format3.png" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="188" alt="Record XML element on the Format designer page"></p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="190"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="190">Select the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="190">Report\Message\Record\TaxAmount</strong> attribute.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="191"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="191">Configure the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="191">Collected data key name</strong> expression as <code sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="191">SummingAmountKey</code>.</p>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="193"><img src="media/ER-DeferredXml-Format4.png" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="193" alt="TaxAmount attribute on the Format designer page"></p>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="195">You can consider this setting the fulfillment of a virtual worksheet, where the value of cell A1 is appended with the value of the tax amount from every processed tax transaction.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="197"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="197">Select the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="197">Report\Message\Record\RunningTotal</strong> attribute, and then select <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="197">Edit formula</strong>.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="198"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="198">Configure the <code sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="198">SUMIF(SummingAmountKey, WsColumn, WsRow)</code> expression by using the built-in <a href="er-functions-datacollection-sumif.html" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="198">SUMIF</a> ER function, and then select <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="198">Save</strong>.</p>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="200"><img src="media/ER-DeferredXml-FormulaDesigner.png" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="200" alt="SUMIF expression"></p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="202"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="202">Close the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="202">Formula designer</strong> page.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="203"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="203">Select <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="203">Save</strong>, and then select <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="203">Run</strong>.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="204"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="204">Download and review the file that the web browser offers.</p>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="206"><img src="media/ER-DeferredXml-Run1.png" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="206" alt="Downloaded file"></p>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="208">The last record node contains the running total of tax values that is calculated for all processed transactions by using the generated output as a data source. This data source starts from the beginning of the report and continues through the last tax transaction. The summary node contains the sum of the tax values for all processed transactions that are calculated in the model mapping by using the data source of the <em sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="208">GroupBy</em> type. Notice that these values are equal. Therefore, the output-based summing can be used instead of <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="208">GroupBy</strong>. By comparing the execution times of the first record node and the summary node, you can determine that generation of all the record nodes and summing took 11 ms. Therefore, as far as the generation of record nodes and the summing of tax values are concerned, the modified format is approximately two times faster than the original format.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="210"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="210">Select the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="210">Report\Message\Summary\TotalTaxAmount</strong> attribute, and then select <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="210">Edit formula</strong>.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="211"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="211">Enter the <code sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="211">SUMIF(SummingAmountKey, WsColumn, WsRow)</code> expression instead of the existing expression.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="212"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="212">Select <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="212">Save</strong>, and then select <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="212">Run</strong>.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="213"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="213">Download and review the file that the web browser offers.</p>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="215"><img src="media/ER-DeferredXml-Run2.png" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="215" alt="Downloaded file"></p>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="217">Notice that the running total of tax values in the last record node now equals the sum in the summary node.</p>
</li>
</ol>
<h3 id="put-values-of-output-based-summing-in-the-report-header" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="219">Put values of output-based summing in the report header</h3>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="221">If, for example, you must present the sum of tax values in the header of your report, you can modify your format.</p>
<ol sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="223">
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="223"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="223">On the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="223">Format designer</strong> page, on the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="223">Format</strong> tab, select the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="223">Report\Message\Summary</strong> XML element.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="224"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="224">Select <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="224">Move up</strong>.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="225"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="225">Select <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="225">Save</strong>, and then select <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="225">Run</strong>.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="226"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="226">Download and review the file that the web browser offers.</p>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="228"><img src="media/ER-DeferredXml-Run3.png" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="228" alt="Downloaded file"></p>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="230">Notice that the sum of tax values in the summary node now equals 0 (zero), because this sum is now calculated based on the generated output. When the first record node is generated, the generated output doesn't yet contain record nodes that have transaction details. You can configure this format to defer the execution of the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="230">Report\Message\Summary</strong> element until the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="230">Report\Message\Record</strong> element has been run for all tax transactions.</p>
</li>
</ol>
<h3 id="defer-the-execution-of-the-summary-xml-element-so-that-the-calculated-total-is-used" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="232">Defer the execution of the summary XML element so that the calculated total is used</h3>
<ol sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="234">
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="234"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="234">On the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="234">Format designer</strong> page, on the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="234">Format</strong> tab, select the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="234">Report\Message\Summary</strong> XML element.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="235"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="235">Set the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="235">Deferred execution</strong> option to <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="235">Yes</strong>.</p>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="237"><img src="media/ER-DeferredXml-Format5.png" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="237" alt="Deferred execution option of the Summary XML element on the Format designer page"></p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="239"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="239">Select <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="239">Save</strong>, and then select <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="239">Run</strong>.</p>
</li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="240"><p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="240">Download and review the file that the web browser offers.</p>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="242"><img src="media/ER-DeferredXml-Run4.png" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="242" alt="Downloaded file"></p>
<p sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="244">The <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="244">Report\Message\Summary</strong> element is now run only after all other items that are nested under its parent element, <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="244">Report\Message</strong>, have been run. Therefore, it's run after the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="244">Report\Message\Record</strong> element has been run for all tax transactions of the <strong sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="244">model.Data.List</strong> data source. The execution times of the first and last record nodes, and of the header and summary nodes, reveal this fact.</p>
</li>
</ol>
<h2 id="additional-resources" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="246">Additional resources</h2>
<ul sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="248">
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="248"><a href="tasks/er-format-counting-summing-1.html" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="248">Configure format to do counting and summing</a></li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="249"><a href="trace-execution-er-troubleshoot-perf.html" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="249">Trace execution of ER format to troubleshoot performance issues</a></li>
<li sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="250"><a href="er-defer-sequence-element.html#Example" sourcefile="fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md" sourcestartlinenumber="250">Defer the execution of sequence elements in ER formats</a></li>
</ul>
</article>
              </div>
              
<div class="hidden-sm col-md-3" role="complementary">
  <div class="sideaffix">
    <div class="contribution">
      <ul class="nav">
        <li>
          <a href="https://github.com/MicrosoftDocs/Dynamics-365-unified-Operations-public/blob/live/articles/fin-ops-core/dev-itpro/analytics/er-defer-xml-element.md/#L1" class="contribution-link">Improve this Doc</a>
        </li>
      </ul>
    </div>
    <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
    <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
    </nav>
  </div>
</div>

            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Copyright � 2015-2017 Microsoft<br>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
