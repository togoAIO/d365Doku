<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Set up the mapping for the sales order status columns </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Set up the mapping for the sales order status columns ">
    <meta name="generator" content="docfx 2.56.6.0">
    <meta name="description" content="This topic explains how to set up the sales order status columns for dual-write.">
    <link rel="shortcut icon" href="../../../../favicon.ico">
    <link rel="stylesheet" href="../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../styles/main.css">
    <meta property="docfx:navrel" content="">
    <meta property="docfx:tocrel" content="../../toc.html">
    <meta name="searchOption" content="noindex">
    
    
    <meta name="robots" content="NOINDEX, NOFOLLOW">
    
    <meta name="ms.search.scope" content="Core, Operations, CrossApp, ShowInHelp">
    <meta name="ms.search.region" content="global">
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../../index.html">
                <img id="logo" class="svg" src="../../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        <div class="row">
          <div class="col-sm-12">
            
<div class="sidenav hide-when-search"> 
  <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
  <div class="sidetoggle collapse" id="sidetoggle">
    <div id="sidetoc"></div>
  </div>
</div>
            <div class="row toc-offset">
              
              <div class="col-sm-12 col-md-9">
                <article class="article" id="_content" data-uid="">
<h1 id="set-up-the-mapping-for-the-sales-order-status-columns">Set up the mapping for the sales order status columns</h1>


<p>The columns that indicate sales order status have different enumeration values in Microsoft Dynamics 365 Supply Chain Management and Dynamics 365 Sales. Additional setup is required to map these columns in dual-write.</p>
<h2 id="columns-in-supply-chain-management">columns in Supply Chain Management</h2>
<p>In Supply Chain Management, two columns reflect the status of the sales order. The columns that you must map are <strong>Status</strong> and <strong>Document Status</strong>.</p>
<p>The <strong>Status</strong> enumeration specifies the overall status of the order. This status is shown on the order header.</p>
<p>The <strong>Status</strong> enumeration has the following values:</p>
<ul>
<li>Open Order</li>
<li>Delivered</li>
<li>Invoiced</li>
<li>Cancelled</li>
</ul>
<p>The <strong>Document Status</strong> enumeration specifies the most recent document that was generated for the order. For example, if the order is confirmed, this document is a sales order confirmation. If a sales order is partially invoiced, and then the remaining line is confirmed, the document status remains <strong>Invoice</strong>, because the invoice is generated later in the process.</p>
<p>The <strong>Document Status</strong> enumeration has the following values:</p>
<ul>
<li>Confirmation</li>
<li>Picking List</li>
<li>Packing Slip</li>
<li>Invoice</li>
</ul>
<h2 id="columns-in-sales">columns in Sales</h2>
<p>In Sales, two columns indicate the status of the order. The columns that you must map are <strong>Status</strong> and <strong>Processing Status</strong>.</p>
<p>The <strong>Status</strong> enumeration specifies the overall status of the order. It has the following values:</p>
<ul>
<li>Active</li>
<li>Submitted</li>
<li>Fulfilled</li>
<li>Invoiced</li>
<li>Cancelled</li>
</ul>
<p>The <strong>Processing Status</strong> enumeration was introduced so that the status can be mapped more accurately with Supply Chain Management.</p>
<p>The following table shows the mapping of <strong>Processing Status</strong> in Supply Chain Management.</p>
<table>
<thead>
<tr>
<th>Processing Status</th>
<th>Status in Supply Chain Management</th>
<th>Document Status in Supply Chain Management</th>
</tr>
</thead>
<tbody>
<tr>
<td>Active</td>
<td>Open Order</td>
<td>None</td>
</tr>
<tr>
<td>Confirmed</td>
<td>Open Order</td>
<td>Confirmation</td>
</tr>
<tr>
<td>Picked</td>
<td>Open Order</td>
<td>Picking List</td>
</tr>
<tr>
<td>Partially Delivered</td>
<td>Open Order</td>
<td>Packing Slip</td>
</tr>
<tr>
<td>Delivered</td>
<td>Delivered</td>
<td>Packing Slip</td>
</tr>
<tr>
<td>Partially Invoiced</td>
<td>Delivered</td>
<td>Invoice</td>
</tr>
<tr>
<td>Invoiced</td>
<td>Invoiced</td>
<td>Invoice</td>
</tr>
<tr>
<td>Cancelled</td>
<td>Cancelled</td>
<td>Not applicable</td>
</tr>
</tbody>
</table>
<p>The following table shows the mapping of <strong>Processing Status</strong> between Sales and Supply Chain Management.</p>
<table>
<thead>
<tr>
<th>Processing Status</th>
<th>Status in Sales</th>
<th>Status in Supply Chain Management</th>
</tr>
</thead>
<tbody>
<tr>
<td>Active</td>
<td>Active</td>
<td>Open Order</td>
</tr>
<tr>
<td>Confirmed</td>
<td>Submitted</td>
<td>Open Order</td>
</tr>
<tr>
<td>Picked</td>
<td>Submitted</td>
<td>Open Order</td>
</tr>
<tr>
<td>Partially Delivered</td>
<td>Active</td>
<td>Open Order</td>
</tr>
<tr>
<td>Partially Invoiced</td>
<td>Active</td>
<td>Open Order</td>
</tr>
<tr>
<td>Partially Invoiced</td>
<td>Fulfilled</td>
<td>Delivered</td>
</tr>
<tr>
<td>Invoiced</td>
<td>Invoiced</td>
<td>Invoiced</td>
</tr>
<tr>
<td>Cancelled</td>
<td>Cancelled</td>
<td>Cancelled</td>
</tr>
</tbody>
</table>
<h2 id="setup">Setup</h2>
<p>To set up the mapping for the sales order status columns, you must enable the <strong>IsSOPIntegrationEnabled</strong> and <strong>isIntegrationUser</strong> attributes.</p>
<p>To enable the <strong>IsSOPIntegrationEnabled</strong> attribute, follow these steps.</p>
<ol>
<li><p>In a browser, go to <code>https://&lt;test-name&gt;.crm.dynamics.com/api/data/v9.0/organizations</code>. Replace <strong>&lt;test-name&gt;</strong> with your company's link to Sales.</p>
</li>
<li><p>On the page that is opened, find <strong>organizationid</strong>, and make a note of the value.</p>
<p><img src="media/sales-map-orgid.png" alt="Finding organizationid"></p>
</li>
<li><p>In Sales, open the browser console, and run following script. Use the <strong>organizationid</strong> value from step 2.</p>
<pre><code class="lang-javascript">Xrm.WebApi.updateRecord(&quot;organization&quot;,
&quot;d9a7c5f7-acbf-4aa9-86e8-a891c43f748c&quot;, {&quot;issopintegrationenabled&quot; :
true}).then(
    function success(result) {
        console.log(&quot;Account updated&quot;);
        // perform operations on row update
    },
    function (error) {
        console.log(error.message);
        // handle error conditions
    }
);
</code></pre>
<p><img src="media/sales-map-script.png" alt="JavaScript code in the browser console"></p>
</li>
<li><p>Verify that <strong>IsSOPIntegrationEnabled</strong> is set to <strong>true</strong>. Use the URL from step 1 to check the value.</p>
<p><img src="media/sales-map-integration-enabled.png" alt="IsSOPIntegrationEnabled set to true"></p>
</li>
</ol>
<p>To enable the <strong>isIntegrationUser</strong> attribute, follow these steps.</p>
<ol>
<li><p>In Sales, go to <strong>Setting &gt; Customization &gt; Customize the System</strong>, select <strong>User table</strong>, and then open <strong>Form &gt; User</strong>.</p>
<p><img src="media/sales-map-user.png" alt="Opening the user form"></p>
</li>
<li><p>In Field Explorer, find <strong>Integration user mode</strong>, and double-click it to add it to the form. Save your change.</p>
<p><img src="media/sales-map-field-explorer.png" alt="Adding the Integration user mode column to the form"></p>
</li>
<li><p>In Sales, go to <strong>Setting &gt; Security &gt; Users</strong>, and change the view from <strong>Enabled Users</strong> to <strong>Application Users</strong>.</p>
<p><img src="media/sales-map-enabled-users.png" alt="Changing the view from Enabled Users to Application Users"></p>
</li>
<li><p>Select the two entries for <strong>DualWrite IntegrationUser</strong>.</p>
<p><img src="media/sales-map-user-mode.png" alt="List of application users"></p>
</li>
<li><p>Change the value of the <strong>Integration user mode</strong> column to <strong>Yes</strong>.</p>
<p><img src="media/sales-map-user-mode-yes.png" alt="Changing the value of the Integration user mode column"></p>
</li>
</ol>
<p>Your sales orders are now mapped.</p>
</article>
              </div>
              
<div class="hidden-sm col-md-3" role="complementary">
  <div class="sideaffix">
    <div class="contribution">
      <ul class="nav">
        <li>
          <a href="https://github.com/MicrosoftDocs/Dynamics-365-unified-Operations-public/blob/live/articles/fin-ops-core/dev-itpro/data-entities/dual-write/sales-status-map.md/#L1" class="contribution-link">Improve this Doc</a>
        </li>
      </ul>
    </div>
    <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
    <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
    </nav>
  </div>
</div>

            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Copyright � 2015-2017 Microsoft<br>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
  </body>
</html>
