<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Prepare application-specific metadata for RCS and ER </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Prepare application-specific metadata for RCS and ER ">
    <meta name="generator" content="docfx 2.56.6.0">
    <meta name="description" content="This topic explains how to prepare application-specific metadata for Regulatory configuration service (RCS) and Electronic reporting (ER).">
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="">
    <meta property="docfx:tocrel" content="../toc.html">
    <meta name="searchOption" content="noindex">
    
    
    <meta name="robots" content="NOINDEX, NOFOLLOW">
    <meta name="ms.search.form" content="ERWorkspace">
    <meta name="ms.search.scope" content="Core, Operations, CrossApp, ShowInHelp">
    <meta name="ms.search.region" content="global">
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        <div class="row">
          <div class="col-sm-12">
            
<div class="sidenav hide-when-search"> 
  <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
  <div class="sidetoggle collapse" id="sidetoggle">
    <div id="sidetoc"></div>
  </div>
</div>
            <div class="row toc-offset">
              
              <div class="col-sm-12 col-md-9">
                <article class="article" id="_content" data-uid="">
<h1 id="prepare-application-specific-metadata-for-rcs-and-er">Prepare application-specific metadata for RCS and ER</h1>


<p>This topic walks you through examples of the following tasks:</p>
<ul>
<li><a href="#prepare-application-metadata-that-can-be-used-in-rcs">Prepare application metadata that can be used in RCS</a></li>
<li><a href="#access-application-metadata-by-using-an-er-configuration">Access application metadata by using an ER configuration</a></li>
<li><a href="#access-application-metadata-by-using-connected-applications">Access application metadata by using connected applications</a></li>
</ul>
<h2 id="prepare-application-metadata-that-can-be-used-in-rcs">Prepare application metadata that can be used in RCS</h2>
<p>The following procedure shows how a user who has the <strong>System Administrator</strong> or <strong>Electronic Reporting Developer</strong> role can create an Electronic reporting (ER) configuration that contains metadata for the application, and that is used to design ER model mapping configurations in Regulatory configuration service (RCS). The sample ER model mapping configuration that is created in this example will be used to access foreign trade transactions.</p>
<p>For this example, you want to use RCS to design an ER solution for the application that will be used to generate electronic documents that contain information from the foreign trade business domain. To specify the mapping between the ER data model and the sources of required data, you must have access to application metadata in RCS. Therefore, as part of the process of designing the ER solution, you must configure a new ER metadata configuration that contains all the metadata that is currently required in order to generate ER reports for the selected business domain.</p>
<div class="NOTE">
<h5>Note</h5>
<p>In this example, you will create a configuration for the sample company, Litware, Inc. These steps can be performed in any company.</p>
</div>
<ol>
<li><p>Go to <strong>Organization administration &gt; Workspaces &gt; Electronic reporting</strong>.</p>
</li>
<li><p>Make sure that the configuration provider for the sample company, Litware, Inc., is available and marked as <strong>Active</strong>. If you don't see this configuration provider, complete the <a href="tasks/er-configuration-provider-mark-it-active-2016-11.html">Create configuration providers and mark them as active</a> procedure.</p>
</li>
<li><p>Select <strong>Metadata configurations</strong>.</p>
</li>
<li><p>Select <strong>Create configuration</strong>.</p>
</li>
<li><p>In the drop-down dialog box, in the <strong>Name</strong> field, enter a name. For this example, enter <strong>Foreign trade metadata</strong>.</p>
</li>
<li><p>Select <strong>Create configuration</strong>.</p>
</li>
<li><p>Select <strong>Designer</strong>.</p>
</li>
<li><p>Select <strong>Add</strong>.</p>
<div class="NOTE">
<h5>Note</h5>
<p>You can select all metadata either for the whole application, or for selected models or modules. In both cases, be aware that the following metadata will be automatically added: tables of records, enumerations, and extended data types (EDTs). When additional types of metadata are required, they must be manually added.</p>
</div>
<p>You must add some metadata that is related to foreign trade transactions and manually select metadata items.</p>
</li>
<li><p>Select <strong>Add data source &gt; Table records</strong>.</p>
</li>
<li><p>Filter on a value of <strong>Intrastat</strong> in the <strong>Name</strong> field.</p>
</li>
<li><p>Select the <strong>Intrastat</strong> table record.</p>
</li>
<li><p>Select <strong>OK</strong>.</p>
<p>You must add metadata information about the Intrastat table of records.</p>
</li>
<li><p>In the tree, select <strong>Table records Intrastat &gt; &gt;Relations &gt; IntrastatCommodity (Table records EcoResCategory)</strong>.</p>
</li>
<li><p>Select <strong>Add metadata</strong>.</p>
<div class="NOTE">
<h5>Note</h5>
<p>Metadata about required relations for the selected table of records must be added manually.</p>
</div>
</li>
<li><p>Select <strong>Add data source</strong>.</p>
</li>
<li><p>Select <strong>Enumeration</strong>.</p>
</li>
<li><p>Filter on a value of <strong>IntrastatDirection</strong> in the <strong>Name</strong> field.</p>
</li>
<li><p>Select the <strong>IntrastatDirection</strong> enumeration record.</p>
</li>
<li><p>Select <strong>OK</strong>.</p>
</li>
<li><p>Select <strong>Save</strong>.</p>
</li>
<li><p>Close the page.</p>
</li>
<li><p>Complete the draft version of the metadata configuration:</p>
<ol>
<li>Select <strong>Change status &gt; Complete</strong>.</li>
<li>Select <strong>OK</strong>.</li>
<li>Select the completed version 1.</li>
</ol>
</li>
<li><p>Export the completed version of the metadata configuration from the application as an XML file:</p>
<ol>
<li>Select <strong>Exchange &gt; Export as XML file</strong>.</li>
<li>Select <strong>OK</strong>.</li>
</ol>
</li>
</ol>
<p>The ER metadata configuration that you created is saved as the <strong>Foreign trade metadata.xml</strong> file. You can now import it into RCS, so that it can be used as the source of metadata for the foreign trade business domain. Based on this information, you can specify the mapping between application metadata and the ER data model.</p>
<h2 id="access-application-metadata-by-using-an-er-configuration">Access application metadata by using an ER configuration</h2>
<p>The following procedure shows how an RCS user who has the <strong>System Administrator</strong> or <strong>Electronic Reporting Developer</strong> role can design a new ER model mapping by using metadata from the application. Application metadata will be accessed by using an ER metadata configuration that contains a sample set of metadata to access foreign trade transactions.</p>
<p>Before you can complete this procedure, you must first complete the following procedures:</p>
<ul>
<li><a href="tasks/er-configuration-provider-mark-it-active-2016-11.html">Create configuration providers and mark them as active</a></li>
<li><a href="#prepare-application-metadata-that-can-be-used-in-rcs">Prepare application metadata that can be used in RCS</a></li>
</ul>
<ol>
<li><p>Go to <strong>All workspaces &gt; Electronic reporting</strong>.</p>
</li>
<li><p>Make sure that the configuration provider for the sample company, Litware, Inc., is available and marked as <strong>Active</strong>. If you don't see this configuration provider, complete the <a href="tasks/er-configuration-provider-mark-it-active-2016-11.html">Create configuration providers and mark them as active</a> procedure.</p>
</li>
<li><p>Import the ER metadata configuration that contains metadata for the application, and that is configured to generate electronic documents for the foreign trade business domain. You created this ER metadata configuration and exported it as an XML file in the <a href="#prepare-application-metadata-that-can-be-used-in-rcs">Prepare application metadata that can be used in RCS</a> procedure earlier in this topic.</p>
<ol>
<li>Select <strong>Metadata configurations</strong>.</li>
<li>Select <strong>Exchange</strong>.</li>
<li>Select <strong>Load from XML file</strong>.</li>
<li>Browse to select the <strong>Foreign trade metadata.xml</strong> file.</li>
<li>Select <strong>OK</strong>.</li>
<li>Close the page.</li>
</ol>
</li>
<li><p>Create a data model configuration:</p>
<ol>
<li><p>Select <strong>Reporting configurations</strong>.</p>
</li>
<li><p>Select <strong>Create configuration</strong>.</p>
</li>
<li><p>In the drop-down dialog box, in the <strong>Name</strong> field, enter <strong>Foreign trade model</strong>.</p>
</li>
<li><p>Select <strong>Create configuration</strong>.</p>
</li>
<li><p>Select <strong>Designer</strong>.</p>
</li>
<li><p>Select <strong>New</strong> to open the drop dialog.</p>
<ol>
<li>In the <strong>Name</strong> field, type <strong>Root</strong>.</li>
<li>Select <strong>Add</strong>.</li>
</ol>
</li>
<li><p>Select <strong>New</strong> to open the drop dialog.</p>
<ol>
<li>In the <strong>Name</strong> field, type <strong>Transaction</strong>.</li>
<li>In the <strong>Item type</strong> field, select <strong>Record list</strong>.</li>
<li>Select <strong>Add</strong>.</li>
</ol>
</li>
<li><p>Select <strong>New</strong> to open the drop dialog.</p>
<ol>
<li>In the <strong>Name</strong> field, type <strong>Commodity code</strong>.</li>
<li>In the <strong>Item type</strong> field, select <strong>String</strong>.</li>
<li>Select <strong>Add</strong>.</li>
</ol>
</li>
<li><p>Select <strong>New</strong> to open the drop dialog.</p>
<ol>
<li>In the Name field, type <strong>Invoiced amount</strong>.</li>
<li>In the <strong>Item type</strong> field, select <strong>Real</strong>.</li>
<li>Select <strong>Add</strong>.</li>
</ol>
</li>
<li><p>Select <strong>New</strong> to open the drop dialog.</p>
<ol>
<li>In the <strong>Name</strong> field, type <strong>Date</strong>.</li>
<li>In the <strong>Item type</strong> field, select <strong>Date</strong>.</li>
<li>Select <strong>Add</strong>.</li>
</ol>
</li>
<li><p>Select <strong>Add &gt; Root reference</strong>.</p>
</li>
<li><p>Select <strong>OK</strong>.</p>
</li>
<li><p>Select <strong>Save</strong>.</p>
</li>
<li><p>Close the page.</p>
</li>
<li><p>Select <strong>Change status &gt; Complete</strong>.</p>
</li>
<li><p>Select <strong>OK</strong>.</p>
</li>
</ol>
</li>
<li><p>Create a model mapping configuration:</p>
<ol>
<li><p>Select <strong>Create configuration</strong>.</p>
</li>
<li><p>In the drop-down dialog box, in the <strong>New</strong> field, enter <strong>Model Mapping based on data model Foreign trade model</strong>.</p>
</li>
<li><p>In the <strong>Name</strong> field, enter <strong>Foreign trade mapping</strong>.</p>
</li>
<li><p>Select <strong>Create configuration</strong>.</p>
</li>
<li><p>On the <strong>Prerequisites</strong> FastTab, select <strong>Edit</strong>.</p>
</li>
<li><p>Select <strong>New</strong>.</p>
</li>
<li><p>In the <strong>Prerequisite component type</strong> field, select <strong>Configuration</strong>.</p>
</li>
<li><p>Select the <strong>Foreign trade metadata</strong> configuration.</p>
</li>
<li><p>Select <strong>Save</strong>. Notice that the reference is added to version 1 of the <strong>Foreign trade metadata</strong> configuration. Application metadata from this configuration will be offered while the model mapping is designed.</p>
</li>
<li><p>Close the page.</p>
</li>
<li><p>Select <strong>Designer</strong>.</p>
</li>
<li><p>Select <strong>Designer</strong>.</p>
</li>
<li><p>In the tree, select <strong>Dynamics 365 for Operations &gt; Table records</strong>.</p>
</li>
<li><p>Select <strong>Add root</strong>.</p>
</li>
<li><p>In the <strong>Name</strong> field, enter <strong>Intrastat</strong>.</p>
</li>
<li><p>Select <strong>Intrastat</strong> table records.</p>
</li>
<li><p>Select <strong>OK</strong>.</p>
<div class="NOTE">
<h5>Note</h5>
<p>Only two tables are offered, because only two tables were added to the set of metadata that is currently used.</p>
</div>
</li>
<li><p>Select <strong>Bind</strong>.</p>
</li>
<li><p>In the tree, select <strong>Intrastat &gt; AmountMST</strong>.</p>
</li>
<li><p>In the tree, select <strong>Transaction = Intrastat &gt; Invoiced amount</strong>.</p>
</li>
<li><p>Select <strong>Bind</strong>.</p>
</li>
<li><p>In the tree, select <strong>Intrastat &gt; TransDate</strong>.</p>
</li>
<li><p>In the tree, select <strong>Transaction = Intrastat &gt; Date</strong>.</p>
</li>
<li><p>Select <strong>Bind</strong>.</p>
</li>
<li><p>In the tree, select <strong>Intrastat &gt; &gt;Relations &gt; IntrastatCommodity &gt; Code</strong>.</p>
</li>
<li><p>In the tree, select <strong>Transaction = Intrastat &gt; Commodity code</strong>.</p>
</li>
<li><p>Select <strong>Bind</strong>.</p>
</li>
<li><p>Select <strong>Validate</strong>.</p>
<div class="NOTE">
<h5>Note</h5>
<p>After validation is completed, you've successfully bound elements of the data model to items of the data sources that are described by using details of the application metadata from the referenced ER metadata configuration.</p>
</div>
</li>
<li><p>Select <strong>Save</strong>.</p>
</li>
</ol>
</li>
</ol>
<p>As you require, you can extend the existing set of metadata in the application. You can then export the new completed version of the ER metadata configuration, import it into RCS, and update the prerequisites of the configured model mapping configuration to refer to a new version of the imported metadata configuration.</p>
<div class="NOTE">
<h5>Note</h5>
<p>This method for getting information about application metadata is the only available method for applications that are locally deployed (that is, when a local business data [LBD], or on-premises, deployment model is used for the application).</p>
</div>
<h2 id="access-application-metadata-by-using-connected-applications">Access application metadata by using connected applications</h2>
<p>The following procedure shows how an RCS user who has the <strong>System Administrator</strong> or <strong>Electronic Reporting Developer</strong> role can design a new ER model mapping by using metadata of the application. Application metadata will be accessed online by using RCS connected application. A sample ER model mapping will be configured to access foreign trade transactions.</p>
<p>To complete this procedure, you must first complete the <a href="tasks/er-configuration-provider-mark-it-active-2016-11.html">Create configuration providers and mark them as active</a> procedure in RCS. If you haven't yet completed the <a href="#access-application-metadata-by-using-an-er-configuration">Access application metadata by using an ER configuration</a> procedure earlier in this topic, go to <a href="https://go.microsoft.com/fwlink/?linkid=2082739">Electronic Reporting Task Guides for Dynamics 365 for Finance and Operations 8.1</a> page to download the following ER configuration files in advance and save them locally: <strong>Foreign trade metadata.xml</strong>, <strong>Foreign trade model.xml</strong>, and <strong>Foreign trade mapping.xml</strong>.</p>
<h3 id="get-required-er-configurations">Get required ER configurations</h3>
<p>If you've already completed the <a href="#access-application-metadata-by-using-an-er-configuration">Access application metadata by using an ER configuration</a> procedure earlier in this topic, you already have all the required ER configurations (the foreign trade metadata, model, and mapping configurations) in the current RCS instance. In that case, you can skip this procedure.</p>
<ol>
<li><p>Go to <strong>All workspaces &gt; Electronic reporting</strong>.</p>
</li>
<li><p>Select <strong>Reporting configurations</strong>.</p>
</li>
<li><p>Load the <strong>Foreign trade metadata.xml</strong>, <strong>Foreign trade model.xml</strong>, and <strong>Foreign trade mapping.xml</strong> configuration files repeating the following chain of steps for each of them:</p>
<ol>
<li>Select <strong>Exchange</strong>.</li>
<li>Select <strong>Load from XML file</strong>.</li>
<li>Select <strong>Browse</strong>, and select a file.</li>
<li>Select <strong>OK</strong>.</li>
</ol>
</li>
</ol>
<h3 id="register-the-connection-with-the-application">Register the connection with the application</h3>
<ol>
<li>Go to <strong>All workspaces &gt; Electronic reporting</strong>.</li>
<li>Select <strong>Connected applications</strong>.</li>
<li>Make sure that the configured application is based on Microsoft Azure, and that it is accessible in general to RCS users. The current RCS user must have access to the configured application being registered as a user of this application in a role that gives them privileges to access the application's metadata.</li>
<li>Select <strong>New</strong>.</li>
<li>In the <strong>Name</strong> field, enter <strong>MyConnectedApp</strong> as the name of the connected application.</li>
<li>In the <strong>Application</strong> field, specify the URL of the application.</li>
<li>In the <strong>Tenant</strong> field, specify the provider of the application.</li>
<li>Select <strong>Save</strong>.</li>
<li>When you check the connection to the configured application, on the <strong>Connect to remote application</strong> page, select the <strong>Select here to connect to selected remote application</strong> link.</li>
<li>Select <strong>Check connection</strong> to validate access to the configured application.</li>
<li>Select <strong>Close</strong>.</li>
</ol>
<p>After you complete this procedure and validation of the connection succeeds, the version and tenant details for the configured application will be updated in the current grid.</p>
<h3 id="review-the-existing-model-mapping-configuration">Review the existing model mapping configuration</h3>
<ol>
<li><p>Go to <strong>All workspaces &gt; Electronic reporting</strong>.</p>
</li>
<li><p>Select <strong>Reporting configurations</strong>.</p>
</li>
<li><p>In the tree, select <strong>Foreign trade model &gt; Foreign trade mapping</strong>.</p>
</li>
<li><p>Select the <strong>Prerequisites</strong> FasTab.</p>
<div class="NOTE">
<h5>Note</h5>
<p>Currently, this mapping refers to the metadata configuration. Application metadata from this configuration will be offered while this model mapping is designed.</p>
</div>
</li>
<li><p>Select <strong>Designer</strong>.</p>
</li>
<li><p>Select <strong>Designer</strong>.</p>
</li>
<li><p>In the tree, select <strong>Dynamics 365 for Operations &gt; Table records</strong>.</p>
</li>
<li><p>Select <strong>Add root</strong>.</p>
</li>
<li><p>In the <strong>Table</strong> field, enter or select a value.</p>
<div class="NOTE">
<h5>Note</h5>
<p>Currently, this mapping refers to the metadata configuration. Application metadata from this configuration will be offered while this model mapping is designed.</p>
</div>
</li>
<li><p>Select <strong>Cancel</strong>.</p>
</li>
</ol>
<h3 id="assign-the-connected-application-to-a-model-mapping">Assign the connected application to a model mapping</h3>
<ol>
<li><p>Select <strong>Edit</strong>.</p>
</li>
<li><p>In the <strong>Connected application field</strong>, select the <strong>MyConnectedApp</strong> application.</p>
<div class="NOTE">
<h5>Note</h5>
<p>This mapping refers to the metadata of the selected connected application. If a mapping refers to the metadata configuration and the connected application at the same time, the metadata of the connected application will be used.</p>
</div>
</li>
<li><p>Select <strong>Designer</strong>.</p>
</li>
<li><p>Select <strong>Designer</strong>.</p>
</li>
<li><p>In the tree, select <strong>Dynamics 365 for Operations &gt; Table records</strong>.</p>
</li>
<li><p>Select <strong>Add root</strong>.</p>
</li>
<li><p>In the <strong>Table</strong> field, enter or select a value.</p>
<div class="NOTE">
<h5>Note</h5>
<p>At this point, more than two application tables are offered, because this mapping uses all the metadata of the connected application that has been assigned to it.</p>
</div>
</li>
<li><p>Select <strong>Cancel</strong>.</p>
</li>
<li><p>Select <strong>Validate</strong>.</p>
</li>
</ol>
<p>You've now bound elements of the data model to items of the data sources that are described by using details of the metadata of the connected application that has been assigned to this mapping.</p>
<p>When you must evaluate this model mapping by using the metadata of a different version of the application, register another connected application, assign it to this model mapping, and validate it against the new metadata.</p>
<h2 id="additional-resources">Additional resources</h2>
<p>Alternatively, you can play the <strong>Prepare application metadata that can be used in RCS</strong> task guide in the application as as well as the <strong>Access application metadata by using an ER configuration</strong> and <strong>Access application metadata by using connected applications</strong> task guides in RCS. These task guides can be downloaded from the <a href="https://go.microsoft.com/fwlink/?linkid=2082739">Electronic Reporting Task Guides for Dynamics 365 for Finance and Operations 8.1</a> page.</p>
</article>
              </div>
              
<div class="hidden-sm col-md-3" role="complementary">
  <div class="sideaffix">
    <div class="contribution">
      <ul class="nav">
        <li>
          <a href="https://github.com/MicrosoftDocs/Dynamics-365-unified-Operations-public/blob/live/articles/fin-ops-core/dev-itpro/analytics/er-prepare-application-specific-metadata.md/#L1" class="contribution-link">Improve this Doc</a>
        </li>
      </ul>
    </div>
    <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
    <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
    </nav>
  </div>
</div>

            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Copyright � 2015-2017 Microsoft<br>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
