<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Optimize BYOD scheduled batch jobs </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Optimize BYOD scheduled batch jobs ">
    <meta name="generator" content="docfx 2.56.6.0">
    <meta name="description" content="This topic explains how to optimize performance when you're using the bring your own database (BYOD) feature with Microsoft Dynamics 365 Human Resources.">
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="">
    <meta property="docfx:tocrel" content="toc.html">
    <meta name="searchOption" content="noindex">
    
    
    <meta name="robots" content="NOINDEX, NOFOLLOW">
    
    <meta name="ms.search.scope" content="Core, Operations, Human Resources, ShowInHelp">
    <meta name="ms.search.region" content="Global">
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        <div class="row">
          <div class="col-sm-12">
            
<div class="sidenav hide-when-search"> 
  <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
  <div class="sidetoggle collapse" id="sidetoggle">
    <div id="sidetoc"></div>
  </div>
</div>
            <div class="row toc-offset">
              
              <div class="col-sm-12 col-md-9">
                <article class="article" id="_content" data-uid="">
<h1 id="optimize-byod-scheduled-batch-jobs">Optimize BYOD scheduled batch jobs</h1>

<p>This topic explains how to optimize performance when you're using the bring your own database (BYOD) feature. For more information about BYOD, see <a href="https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/analytics/export-entities-to-your-own-database?toc=/dynamics365/human-resources/toc.json">Bring your own database (BYOD)</a>.</p>
<h2 id="performance-considerations-for-data-export">Performance considerations for data export</h2>
<p>After entities are published to the destination database, you can use the Export function in the <strong>Data management</strong> workspace to move data. The Export function lets you define a Data movement job that contains one or more entities. For more information about data export, see <a href="https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/data-entities/data-import-export-job?toc=/dynamics365/human-resources/toc.json">Data import and export jobs overview</a>.</p>
<p>You can use the <strong>Export</strong> page to export data into different target data formats, such as a comma-separated values (CSV) file. This page also supports SQL databases as another destination.</p>
<p>You can create a data project that has multiple entities and use a batch job to schedule that data project to run. If you select the <strong>Export in batch</strong> option, you can schedule the data export job to run periodically.</p>
<p>To help preserve the overall reliability of the BYOD export, you must be careful when you add multiple entities to an export project. When you're determining the number of entities to add to the same project, consider the following parameters:</p>
<ul>
<li>The complexity of the entities</li>
<li>The expected data volume per entity</li>
<li>The overall time that will be required to complete the export at the job level</li>
</ul>
<p>For the best performance, avoid adding hundreds of entities to a single project. We recommend that you create multiple jobs, each of which contains fewer entities.</p>
<h2 id="scheduling-byod-batch-jobs">Scheduling BYOD batch jobs</h2>
<p>To help reduce the impact on users of Microsoft Dynamics 365 Human Resources, run BYOD batch jobs at night or after hours. Be sure to check the time zone for recurring batch jobs. Some batch jobs might use Pacific Standard Time (PST).</p>
<p>To help avoid performance issues, consider the following factors when you configure the scheduling frequency for BYOD batch jobs:</p>
<ul>
<li>The time that is required to complete each batch job</li>
<li>The business need for the data in BYOD</li>
</ul>
<p>Set the frequency for each batch job to a value that ensures that the job can be completed well before its next scheduled run time. Avoid running multiple jobs in parallel, because this approach can negatively affect the performance of Human Resources.</p>
<p>For the best performance, always use the <strong>Export in batch</strong> option on the <strong>Export</strong> page to schedule BYOD batch jobs. Avoid scheduling recurring exports at <strong>Manage &gt; Manage recurring data jobs</strong>.</p>
<h2 id="incremental-export">Incremental export</h2>
<p>When you add an entity for data export, you can do either an incremental push (export) or a full push. A full push deletes all existing records from an entity in the BYOD database. It then inserts the current set of records from the Human Resources entity.</p>
<p>To do an incremental push, you must turn on change tracking for each entity on the <strong>Entities</strong> page. For more information, see <a href="https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/data-entities/entity-change-track?toc=/dynamics365/human-resources/toc.json">Enable change tracking for entities</a>.</p>
<p>If you select an incremental push, the first push is always a full push. SQL tracks changes from this first full push. When a new record is inserted, or when a record is updated or deleted, the change is reflected in the destination entity.</p>
<h2 id="time-outs">Time-outs</h2>
<p>Here are the default time-outs for BYOD exports:</p>
<ul>
<li>Ten minutes for truncation operations</li>
<li>One hour for bulk insert operations</li>
</ul>
<p>When volumes are high, these time-out settings might not be sufficient. To update them, go to <strong>Data management &gt; Framework parameters &gt; Bring your own database</strong>. These time-outs are company-specific and must be set separately for each company.</p>
<h2 id="known-limitations">Known limitations</h2>
<p>The BYOD feature has the following limitations:</p>
<ul>
<li>There should be no active locks on your database during synchronization. Active locks can cause slow writes or even failure to export data to your Azure SQL database.</li>
<li>You can't export composite entities into your own database. Currently, composite entities aren't supported. You must export individual entities that make up the composite entity. However, you can export both entities in the same data project.</li>
<li>Entities that don't have unique keys can't be exported by using incremental push. You might face this limitation especially when you try to incrementally export records from a few ready-made entities. Because these entities were designed to enable the import of data, they don't have a unique key.</li>
</ul>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="incremental-push-doesnt-work-correctly">Incremental push doesn't work correctly</h3>
<p><strong>Issue:</strong> When a full push occurs for an entity, you see a large set of records in BYOD when you use a <strong>select</strong> statement. However, when you do an incremental push, you see only a few records in BYOD. It seems as though the incremental push deleted all the records and added only the changed records in BYOD.</p>
<p><strong>Solution:</strong> The SQL change tracking tables might not be in the expected state. In cases of this type, we recommend that you turn off change tracking for the entity and then turn it back on. For more information, see <a href="https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/data-entities/entity-change-track?toc=/dynamics365/human-resources/toc.json">Enable change tracking for entities</a>.</p>
<h2 id="see-also">See also</h2>
<p><a href="https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/data-entities/data-entities-data-packages?toc=/dynamics365/human-resources/toc.json">Data management overview</a><br>
<a href="https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/analytics/export-entities-to-your-own-database?toc=/dynamics365/human-resources/toc.json">Bring your own database (BYOD)</a><br>
<a href="https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/data-entities/data-import-export-job?toc=/dynamics365/human-resources/toc.json">Data import and export jobs overview</a><br>
<a href="https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/data-entities/entity-change-track?toc=/dynamics365/human-resources/toc.json">Enable change tracking for entities</a></p>
</article>
              </div>
              
<div class="hidden-sm col-md-3" role="complementary">
  <div class="sideaffix">
    <div class="contribution">
      <ul class="nav">
        <li>
          <a href="https://github.com/MicrosoftDocs/Dynamics-365-unified-Operations-public/blob/live/articles/human-resources/hr-admin-integration-byod-batch-jobs.md/#L1" class="contribution-link">Improve this Doc</a>
        </li>
      </ul>
    </div>
    <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
    <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
    </nav>
  </div>
</div>

            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Copyright � 2015-2017 Microsoft<br>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
