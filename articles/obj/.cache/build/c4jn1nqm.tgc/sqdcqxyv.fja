<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Enable Azure Active Directory authentication for POS sign-in </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Enable Azure Active Directory authentication for POS sign-in ">
    <meta name="generator" content="docfx 2.56.6.0">
    <meta name="description" content="This topic explains how to configure the sign-in experience for the Microsoft Dynamics 365 Commerce point of sale (POS) so that it uses Azure Active Directory authentication.">
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="">
    <meta property="docfx:tocrel" content="TOC.html">
    <meta name="searchOption" content="noindex">
    
    
    <meta name="robots" content="NOINDEX, NOFOLLOW">
    
    <meta name="ms.search.scope" content="Core, Operations, Retail, Commerce, ShowInHelp">
    <meta name="ms.search.region" content="global">
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        <div class="row">
          <div class="col-sm-12">
            
<div class="sidenav hide-when-search"> 
  <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
  <div class="sidetoggle collapse" id="sidetoggle">
    <div id="sidetoc"></div>
  </div>
</div>
            <div class="row toc-offset">
              
              <div class="col-sm-12 col-md-9">
                <article class="article" id="_content" data-uid="">
<h1 id="enable-azure-active-directory-authentication-for-pos-sign-in">Enable Azure Active Directory authentication for POS sign-in</h1>


<p>Many customers who use Microsoft Dynamics 365 Commerce also use other Microsoft cloud services, and they might use Azure Active Directory (Azure AD) to manage user credentials for those services. In those cases, the customers might want to use the same Azure AD account across applications. This topic explains how to configure the Commerce point of sale (POS) sign-in experience to use Azure AD authentication.</p>
<h2 id="configure-azure-ad-authentication">Configure Azure AD authentication</h2>
<p>To make Azure AD available as the authentication method for POS sign-in for a store, you must configure the settings of the store's functionality profile and then apply those setting to POS clients.</p>
<p>To configure a functionality profile, follow these steps.</p>
<ol>
<li>Go to <strong>Retail and Commerce</strong> &gt; <strong>Channel setup</strong> &gt; <strong>POS setup</strong> &gt; <strong>POS profiles</strong> &gt; <strong>Functionality profiles</strong>.</li>
<li>Select the functionality profile to change.</li>
<li>On the <strong>Functions</strong> FastTab, in the <strong>POS staff logon</strong> section, change the value of the <strong>Logon Authentication Method</strong> field from <strong>Personnel ID and Password</strong> to <strong>Azure Active Directory</strong>.</li>
</ol>
<p>By default, all functionality profiles use <strong>Personnel ID and Password</strong> as the POS authentication method. Therefore, you must change the value of the <strong>Logon Authentication Method</strong> field if you want to use Azure AD. Every retail store that is linked to the selected functionality profile will be affected by this change.</p>
<p>To apply the settings to POS clients, follow these steps.</p>
<ol>
<li>Go to <strong>Retail and Commerce</strong> &gt; <strong>Retail and Commerce IT</strong> &gt; <strong>Distribution schedule</strong>.</li>
<li>Run the <strong>1070</strong> (<strong>Channel configuration</strong>) distribution schedule.</li>
</ol>
<div class="NOTE">
<h5>Note</h5>
<p>Azure AD authentication requires an internet connection. It won't work when POS is in offline mode.</p>
<p>Currently, the <strong>Manager override</strong> function doesn't support Azure AD as an authentication method. An operator ID and password are required even if Azure AD is configured as the authentication method for POS sign-in.</p>
</div>
<h2 id="associate-an-azure-ad-account-with-a-worker">Associate an Azure AD account with a worker</h2>
<p>Before a store worker can use an Azure AD account to sign in to the POS application, the Azure AD account must be associated with that worker.</p>
<p>To associate an Azure AD account with a worker, follow these steps.</p>
<ol>
<li>Go to <strong>Retail and Commerce</strong> &gt; <strong>Employees</strong> &gt; <strong>Workers</strong>.</li>
<li>Open the details page for a worker.</li>
<li>On the Action Pane, on the <strong>Commerce</strong> tab, in the <strong>External identity</strong> group, select <strong>Associate existing identity</strong>.</li>
<li>In the <strong>Use existing external identity</strong> dialog box, select <strong>Search using email</strong>, enter an Azure AD email address, and then select <strong>Search</strong>.</li>
<li>Select the Azure AD account that is returned, and then select <strong>OK</strong>.</li>
</ol>
<p>The <strong>Alias</strong>, <strong>UPN</strong>, and <strong>External sub identifier</strong> fields on the <strong>Commerce</strong> tab of the worker's details page will be filled in.</p>
<div class="NOTE">
<h5>Note</h5>
<p>After a worker record is updated, for example if a new Azure AD account is associated, a password is changed, or an employee address book is updated, it’s recommended that you run <strong>1060</strong> (<strong>Staff</strong>) distribution schedule to synchronize the latest staff information to the channel. That way, the POS application can fetch the correct data for user authentication and authorization check.</p>
</div>
<h2 id="additional-resources">Additional resources</h2>
<p><a href="extended-logon.html">Set up extended logon functionality for MPOS and Cloud POS</a></p>
<p><a href="retail-functionality-profile.html">Create a retail functionality profile</a></p>
<p><a href="https://docs.microsoft.com/dynamics365/commerce/tasks/worker">Configure a worker</a></p>
</article>
              </div>
              
<div class="hidden-sm col-md-3" role="complementary">
  <div class="sideaffix">
    <div class="contribution">
      <ul class="nav">
        <li>
          <a href="https://github.com/MicrosoftDocs/Dynamics-365-unified-Operations-public/blob/live/articles/commerce/aad-pos-logon.md/#L1" class="contribution-link">Improve this Doc</a>
        </li>
      </ul>
    </div>
    <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
    <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
    </nav>
  </div>
</div>

            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Copyright � 2015-2017 Microsoft<br>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
