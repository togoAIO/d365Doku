<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Verwenden von Modellzuordnungskonfigurationen f&#252;r aggregierte Berechnungen auf Datenbankebene </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Verwenden von Modellzuordnungskonfigurationen f&#252;r aggregierte Berechnungen auf Datenbankebene ">
    <meta name="generator" content="docfx 2.56.6.0">
    <meta name="description" content="Diese Prozedur bietet Informationen dar&#252;ber, wie eine neue Modellzuordnungskonfiguration f&#252;r elektronische Berichterstellung (EB) entworfen wird und wie integrierte EB-Funktionen f&#252;r effiziente Aggregationsberechnungen verwendet werden.">
    <link rel="shortcut icon" href="../../../../favicon.ico">
    <link rel="stylesheet" href="../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../styles/main.css">
    <meta property="docfx:navrel" content="">
    <meta property="docfx:tocrel" content="../../toc.html">
    <meta name="searchOption" content="noindex">
    
    
    <meta name="robots" content="NOINDEX, NOFOLLOW">
    
    <meta name="ms.search.scope" content="Core, Operations, CrossApp, ShowInHelp">
    <meta name="ms.search.region" content="Global">
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../../index.html">
                <img id="logo" class="svg" src="../../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        <div class="row">
          <div class="col-sm-12">
            
<div class="sidenav hide-when-search"> 
  <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
  <div class="sidetoggle collapse" id="sidetoggle">
    <div id="sidetoc"></div>
  </div>
</div>
            <div class="row toc-offset">
              
              <div class="col-sm-12 col-md-9">
                <article class="article" id="_content" data-uid="">
<h1 id="use-model-mapping-configurations-for-aggregate-calculations-at-the-database-level">Verwenden von Modellzuordnungskonfigurationen für aggregierte Berechnungen auf Datenbankebene</h1>

[!include[banner](../../includes/banner.md)]
<p>Diese Prozedur bietet Informationen darüber, wie eine neue Modellzuordnungskonfiguration für elektronische Berichterstellung (EB) entworfen wird und wie integrierte EB-Funktionen für effiziente Aggregationsberechnungen verwendet werden. In dieser Prozedur erstellen Sie eine Konfiguration für das Beispielunternehmen Litware, Inc.</p>
<p>Diese Prozedur wird für Benutzer erstellt, die die Rolle des Systemadministrators oder des Entwicklers für elektronische Berichterstellung haben, die ihnen zugewiesen sind. Diese Schritte können mithilfe eines beliebigen Dataset abgeschlossen werden.</p>
<p>Um diese Schritte abzuschließen, müssen Sie zuerst die Schritte in der Prozedur „ER verbessert die Effizienz von Aggregationsberechnungen, indem sie auf Datenbankebene ausgeführt werden (Teil 1: Konfigurationen vorbereiten)“ abschließen.</p>
<ol>
<li>Wechseln Sie zu Organisationsverwaltung &gt; Elektronische Berichterstellung &gt; Konfigurationen.</li>
<li>Erweitern Sie 'Intrastatmodell' in der Struktur.</li>
<li>Wählen Sie in der Struktur „Intrastat-Modell\Intrastat-Beispielzuordnung” aus.</li>
<li>Klicken Sie auf Designer.</li>
<li>Klicken Sie auf Designer.</li>
<li>Wählen Sie in der Struktur 'Dynamics 365 for Operations\Tabellendatensätze' aus.</li>
<li>Klicken Sie auf &quot;Stamm hinzufügen&quot;.
<ul>
<li>Fügen Sie eine neue Datenquelle hinzu, die Datensätze darstellt, die Sie gruppieren möchten.</li>
</ul>
</li>
<li>Geben Sie im Feld &quot;Name&quot; 'Transactions' ein.
<ul>
<li>Buchungen</li>
</ul>
</li>
<li>Im Feld „Tabelle” geben Sie „Intrastat” ein.
<ul>
<li>Intrastat</li>
</ul>
</li>
<li>Klicken Sie auf &quot;OK&quot;.</li>
<li>Wählen Sie in der Struktur &quot;Funktionen\Gruppieren nach&quot; aus.
<ul>
<li>Dieser Datenquellentyp wird verwendet, um eine neue Datenquelle zur Laufzeit einzuführen, um Datensätze zu gruppieren und erforderliche Aggregationen zu berechnen.</li>
</ul>
</li>
<li>Klicken Sie auf &quot;Stamm hinzufügen&quot;.</li>
<li>Geben Sie im Feld „Name” die Bezeichnung „TransactionsGroups” ein.
<ul>
<li>TransactionsGroups</li>
</ul>
</li>
<li>Klicken Sie auf &quot;Gruppe bearbeiten von&quot;.</li>
<li>Wählen Sie in der Struktur 'Transactions' aus.
<ul>
<li>Wählen Sie die hinzugefügte Datenquelle des Typs „Datensatzlisten“ aus, die die Datensätze darstellt, die Sie gruppieren möchten.</li>
</ul>
</li>
<li>Klicken Sie auf &quot;Feld hinzufügen zu&quot;.</li>
<li>Klicken Sie auf &quot;Was gruppieren&quot;.</li>
<li>Erweitern Sie in der Struktur den Knoten 'Transactions'.</li>
<li>Wählen Sie in der Struktur „Transaktionen\Richtung” aus.</li>
<li>Klicken Sie auf &quot;Feld hinzufügen zu&quot;.</li>
<li>Klicken Sie auf &quot;Gruppierte Felder&quot;.
<ul>
<li>Wählen Sie das Feld aus, um die Gruppierungsebene anzugeben. Basierend auf dieser Auswahl gibt die Datenquelle zur Laufzeit so viele Buchungsgruppen zurück, wie es Richtungscodes gibt, die in der Intrastat-Tabelle auftauchen.</li>
</ul>
</li>
<li>Wählen Sie in der Struktur „Transaktionen\Rechnungsbetrag(AmountMST)” aus.
<ul>
<li>Wählen Sie das Feld aus, um die Quelle für die Aggregationsberechnung anzugeben.</li>
</ul>
</li>
<li>Klicken Sie auf &quot;Feld hinzufügen zu&quot;.</li>
<li>Klicken Sie auf &quot;Aggregationsfelder&quot;.</li>
<li>Markieren Sie in der Liste die ausgewählte Zeile.</li>
<li>Wählen Sie im Feld „Methode” die Option „Summe” aus.
<ul>
<li>Wählen Sie den Aggregationstyp aus.</li>
</ul>
</li>
<li>Geben Sie im Feld „Name” die Bezeichnung „SumOfAmountMST” ein.
<ul>
<li>Geben Sie den Namen der Aggregation in der konfigurierten Datenquelle an.</li>
</ul>
</li>
<li>Klicken Sie auf Speichern.
<ul>
<li>Beachten Sie, dass das Feld „Ausführung bei“ angibt, dass diese Gruppierung zur Laufzeit in der SQL-Datenbank ausgeführt wird.</li>
</ul>
</li>
<li>Schließen Sie die Seite.</li>
<li>Klicken Sie auf &quot;OK&quot;.</li>
<li>Erweitern Sie in der Struktur die Option „Summen”.</li>
<li>In der Struktur erweitern Sie „TransactionsGroups”.</li>
<li>In der Struktur erweitern Sie „TransactionsGroups\aggregiert”.</li>
<li>Wählen Sie „TransactionsGroups\aggregiert\SumOfAmountMST” in der Struktur aus.</li>
<li>Wählen Sie „Summen\Gesamtrechnungswert(TotalInvoiceValue) = IF(ISEMPTY(IntrastatTotals), 0.0, IntrastatTotals.aggregated.'$AmountMSTRounded')” in der Struktur aus.</li>
<li>Klicken Sie auf Binden.
<ul>
<li>Basierend auf dieser Einstellung berechnet diese Datenquelle die Summe der Werte des Felds „AmountMST“ für alle einzelnen Gruppen von Buchungen. Diese Aggregationsberechnung ist als TransactionsGroups.aggregated.TotalAmount-Artikel verfügbar.</li>
</ul>
</li>
<li>In der Struktur erweitern Sie „TransactionsGroups”.</li>
<li>Wählen Sie in der Struktur „TransactionsGroups” aus.</li>
<li>Klicken Sie auf &quot;Bearbeiten&quot;.</li>
<li>Klicken Sie auf &quot;Gruppe bearbeiten von&quot;.</li>
<li>Erweitern Sie in der Struktur den Knoten 'Transactions'.</li>
<li>Wählen Sie in der Struktur „Transaktionen\Rechnungsbetrag(AmountMST)” aus.</li>
<li>Klicken Sie auf &quot;Feld hinzufügen zu&quot;.</li>
<li>Klicken Sie auf &quot;Aggregationsfelder&quot;.</li>
<li>Markieren Sie in der Liste die ausgewählte Zeile.</li>
<li>Wählen Sie im Feld „Methode” die Option „Max.” aus.</li>
<li>Geben Sie im Feld „Name” die Bezeichnung „MaxOfAmountMST” ein.</li>
<li>Klicken Sie auf &quot;Speichern&quot;.
<ul>
<li>Aktuell kann die Ausführung von GROUPBY-Datenquellen mit einigen Einschränkungen in die SQL-Datenbankebene übersetzt werden. Übersetzung kann entweder für Datenquellen des Typs „Datensatzliste“ durchgeführt werden oder für Datenquellen, die als ein Ausdruck mithilfe der FILTER-Funktion dargestellt werden. Sie kann auch erfolgen, wenn die einzige Aggregation für ein einzelnes Feld der Gruppierungsdatensätze konfiguriert wird.</li>
<li>Beachten Sie, dass, obwohl mehr als eine Aggregation für das Feld „AmountMST“ konfiguriert wurde, das Feld „Ausführung bei“ immer noch angibt, dass diese Gruppierung zur Laufzeit in der SQL-Datenbank ausgeführt wird. Dies liegt daran, dass nur eine Aggregation an den Datenmodellartikel gebunden ist und zur Laufzeit verwendet wird, um Daten aus dieser Datenquelle zu ziehen.</li>
</ul>
</li>
<li>Schließen Sie die Seite.</li>
<li>Klicken Sie auf &quot;OK&quot;.</li>
<li>In der Struktur erweitern Sie „TransactionsGroups”.</li>
<li>In der Struktur erweitern Sie „TransactionsGroups\aggregiert”.</li>
<li>Wählen Sie „TransactionsGroups\aggregiert\MaxOfAmountMST” in der Struktur aus.</li>
<li>Wählen Sie „Summen\Gesamter statistischer Wert(TotalStatisticalValue) = IF(ISEMPTY(IntrastatTotals), 0.0, IntrastatTotals.aggregated.'$StatisticalValueRounded')” in der Struktur aus.</li>
<li>Klicken Sie auf Binden.</li>
<li>In der Struktur erweitern Sie „TransactionsGroups”.</li>
<li>Wählen Sie in der Struktur „TransactionsGroups” aus.</li>
<li>Klicken Sie auf Bearbeiten.</li>
<li>Klicken Sie auf &quot;Gruppe bearbeiten von&quot;.
<ul>
<li>Beachten Sie, dass das Feld „Ausführung bei“ angibt, dass diese Gruppierung zur Laufzeit im Arbeitsspeicher ausgeführt wird, da beide Aggregationen desselben Felds an die Datenmodellartikel gebunden sind.</li>
</ul>
</li>
<li>Markieren Sie alle Zeilen in der Liste, oder heben Sie die Markierung auf.</li>
<li>Klicken Sie auf Löschen.</li>
<li>Klicken Sie auf &quot;Ja&quot;.</li>
<li>Klicken Sie auf Löschen.</li>
<li>Klicken Sie auf &quot;Ja&quot;.</li>
<li>Klicken Sie auf &quot;Feld hinzufügen zu&quot;.</li>
<li>Klicken Sie auf &quot;Was gruppieren&quot;.</li>
<li>Erweitern Sie „Warendatensatz(Intrastat)” in der Struktur.</li>
<li>Klicken Sie auf Speichern.
<ul>
<li>Beachten Sie, dass das Feld „Ausführung bei“ angibt, dass diese Gruppierung zur Laufzeit im Arbeitsspeicher ausgeführt wird, obwohl keine Aggregationen definiert sind und die ausgewählte Datenquelle vom Typ „Tabellendatensätze“ sich auf dieselbe „Intrastat“-Tabelle bezieht. Dies ist erforderlich, weil in der Datenquelle einige berechneten Felder enthält, die noch nicht zur SQL-Datenbankebene übersetzt werden können.</li>
</ul>
</li>
</ol>
</article>
              </div>
              
<div class="hidden-sm col-md-3" role="complementary">
  <div class="sideaffix">
    <div class="contribution">
      <ul class="nav">
        <li>
          <a href="https://github.com/MicrosoftDocs/Dynamics-365-Operations.de-de/blob/live/articles/fin-ops-core/dev-itpro/analytics/tasks/model-map-aggregate-calculations-er.md/#L1" class="contribution-link">Improve this Doc</a>
        </li>
      </ul>
    </div>
    <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
    <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
    </nav>
  </div>
</div>

            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Copyright � 2015-2017 Microsoft<br>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
  </body>
</html>
