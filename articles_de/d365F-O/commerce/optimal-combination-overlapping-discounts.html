<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Ermittelt die optimale Kombination von &#252;berlappenden Rabatten </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Ermittelt die optimale Kombination von &#252;berlappenden Rabatten ">
    <meta name="generator" content="docfx 2.56.6.0">
    <meta name="description" content="Wenn Rabatte &#252;berlappen, m&#252;ssen Sie die Kombination von Rabatten &#252;berlappenden bestimmen, die Buchungssumme niedrigsten oder h&#246;chsten den Rechnungsrabatt erzeugen. Wenn der Rabattbetrag gem&#228;&#223; dem Preis der gekauften Produkte schwankt, wie bei &#252;blichen Aktionen wie &#8222;kaufen 1 g&#252;nstiger erhalten&#8220; (BOGO), wird dieser Prozess ein Thema der kombinatorischen Optimierung.">
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="">
    <meta property="docfx:tocrel" content="TOC.html">
    <meta name="searchOption" content="noindex">
    
    
    <meta name="robots" content="NOINDEX, NOFOLLOW">
    <meta name="ms.search.form" content="RetailParameters, RetailPeriodicDiscount,">
    <meta name="ms.search.scope" content="Core, Operations, Retail">
    <meta name="ms.search.region" content="global">
    <meta name="ms.search.industry" content="Retail">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        <div class="row">
          <div class="col-sm-12">
            
<div class="sidenav hide-when-search"> 
  <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
  <div class="sidetoggle collapse" id="sidetoggle">
    <div id="sidetoc"></div>
  </div>
</div>
            <div class="row toc-offset">
              
              <div class="col-sm-12 col-md-9">
                <article class="article" id="_content" data-uid="">
<h1 id="determine-the-optimal-combination-of-overlapping-discounts">Ermittelt die optimale Kombination von überlappenden Rabatten</h1>

<div class="IMPORTANT">
<h5>Important</h5>
<p>Dynamics 365 Retail ist jetzt Dynamics 365 Commerce und bietet umfassende Handelsfunktionen für alle Kanäle – von E-Commerce über Shops bis hin zu Callcentern. Weitere Informationen zu diesen Änderungen finden Sie unter <a href="https://dynamics.microsoft.com/commerce/overview/">Microsoft Dynamics 365 Commerce</a>.</p>
</div>

<p>Wenn Rabatte überlappen, müssen Sie die Kombination von Rabatten überlappenden bestimmen, die Buchungssumme niedrigsten oder höchsten den Rechnungsrabatt erzeugen. Wenn der Rabattbetrag gemäß dem Preis der gekauften Produkte schwankt, wie bei üblichen Aktionen wie „kaufen 1 günstiger erhalten“ (BOGO), wird dieser Prozess ein Thema der kombinatorischen Optimierung.</p>
<p>Dieser Artikel gilt für Microsoft Dynamics AX 2012 R3 mit KB 3105973 (veröffentlicht am 2. November 2015) oder höher und für Dynamics 365 Commerce. Damit die Kombination sich überschneidender Rabatte zeitnah angewendet werden kann, haben wir eine Methode zum Anwenden sich überschneidender Rabatte eingeführt. Es erhalten diese neue Methode angezeigt <strong>Schwellenwertklassifizierung</strong>. Die Schwellenwertklassifizierung wird verwendet, wenn die Zeit, die erforderlich ist, um die möglichen Kombinationen von sich überschneidenden Rabatten zu bewerten, einen Schwellenwert überschreitet, der auf der Seite <strong>Commerce Parameter</strong> konfigurierbar ist. In der Schwellenwertklassifizierungsmethode wird ein Wert für jeden überlappenden Rabatt berechnet, indem der Wert des Rabatts auf den freigegebenen Produkten verwendet. Die überlappenden Rabatte werden dann dem höchsten relativen Wert der niedrigste relativen Wert angewendet. Einzelheiten über die neue Methode, lesen Sie den Abschnitt &quot;Schwellenwert&quot;, später in diesem Artikel. Schwellenwertklassifizierung wird nicht verwendet, wenn Skontobeträgen für das Produkt nicht durch unterschiedliche Produkt in der Buchung betroffen sind. Beispielsweise kann diese Methode nicht für zwei einfache Rabatte oder einen einfachen Rabatt und einen einzelnen Produktmengenrabatt verwendet.</p>
<h2 id="discount-examples">Rabattbeispiele</h2>
<p>Sie können eine unbegrenzte Anzahl an Einzelhandelsrabatten für eine allgemeines Set an Produkten erstellen. Da jedoch kein Limit festgelegt ist, können Leistungsprobleme auftreten, wenn Sie versuchen, die Rabatte zu berechnen, die auf den verschiedenen Produkten verwendet werden sollen. Die folgenden Beispiele veranschaulichen dieses Problem genauer. In Beispiel 1 beginnen, wir mit zwei Produkten und zwei überlappenden Rabatten. Im Beispiel 2, zeigen wir, wie das Problem, entwickelt für weitere Produkte hinzugefügt werden.</p>
<h3 id="example-1-two-products-and-two-discounts">Beispiel 1: Zwei beiden Rabatte und Produkte</h3>
<p>In diesem Beispiel wurden zwei Produkte erforderlich, das für jeden Rabatt zu erlangen, und Rabatte können nicht zusammengefasst werden. Die in Rabatte diesem Beispiel sind <strong>Bester Preis</strong> Rabatte. Beide Produkte qualifizieren der beiden Rabatte. Hierbei gelten die beiden Rabatte.</p>
<p><img src="media/overlapping-discount-combo-01.jpg" alt="Beispiel zweiter bester Preisrabatte"></p>
<p>Bei zwei Produkten hängt der bessere der beiden Rabatte vom Preis der beiden Produkte ab. Wenn der Preis beider Produkte oder gleich fast gleich ist besser, Skonto 1. Wenn der Preis aus einem Produkt bei geringer als der anderen Preis des Produkts ist besser, Rabatt ist 2. Hier ist die mathematischen Regel zur Abwägung der beiden Rabatte gegeneinander.</p>
<p><img src="media/overlapping-discount-combo-02.jpg" alt="Regel für die Bewertung der Rabatte"></p>
<div class="NOTE">
<h5>Note</h5>
<p>Wenn der Preis von Produkt 1 gleich Zweidrittel des Preises von Produkt 2 beträgt, sind die beiden Rabatte identisch. In diesem Beispiel ist der zum Diskont effektive Rabattprozentsatz 1 von einigen Prozent (wenn die Preise der beiden Produkte weites getrennt sind), bis zu maximal 25 Prozent (wenn die Produkte zwei denselben Preis haben). Der Rabattprozentsatz für den Skonto 2 ist fest. Es ist immer 20 Prozent. Da der gültigen Rabattprozentsatz für Skonto 1 einen Bereich hat, der mehr als Rabatt oder kleiner als 2 sein kann, hängt der beste Rabatt von Preisen der beiden Produkte aus, die für den Rabatt gewährt werden müssen. In diesem Beispiel wird die Berechnung schnell ausgefüllt, da nur beiden Rabatte auf nur zwei Produkten angewendet werden. Es gibt lediglich zwei mögliche Kombinationen: eine Bewerbung der Anwendung des Rabatts 1 oder einen Rabatt. 2. Es sind keine zuzuteilenden Belastungen vorhanden. Der Wert jedes Rabatt wird berechnet, indem das sowohl Produkte verwendet, und der beste Rabatt wird verwendet.</p>
</div>
<h3 id="example-2-four-products-and-two-discounts">Beispiel 2: Vier beiden Rabatte und Produkte</h3>
<p>Danach verwenden Sie vier Produkte und dieselben beiden Rabatte. Alle vier Produkte qualifizieren der beiden Rabatte. Es gibt zwölf mögliche Kombinationen. Am Ende der Buchung werden beiden Rabatte auf drei verschiedene Kombinationen verwendet: Anwendungen zwei von Skonto 1, zwei Bewerbungen der Anwendung des Rabatts 2 oder einer der Anwendung des Rabatts 1 und einer von Rabatt. 2. Um die möglichen Kombinationen zum Demonstrieren, beachten Sie zwei verschiedene Gruppen der Produkte die vier verschiedene Preise haben:</p>
<ul>
<li>Alle vier Produkte denselben Preis haben, €15,00. In diesem Fall ist die beste Rabattkombination zwei Bewerbungen von Rabatt. 1. Zwei Produkte sind voller Preis, und sind zwei heruntergesetzt 50 Prozent. Die rabattierte Summe für die Buchung ist €45 (15 + 15 + 7,50 + 7,50), die €15 (25 Prozent) die zur Abrundung der nicht-rabattierten Summe von €60 ist. Skonto 2 ist nur €12 (20 Prozent).</li>
<li>Zwei Produkte sind €20 je, ist ein Produkt €15, und das Produkt ist €5. In diesem Fall ist die beste Rabattkombination eine Bewerbung der Anwendung des Rabatts 2 und einer erweiterten Rabatts. 1. Die folgenden Tabellen wird gezeigt Rabatte.</li>
</ul>
<p>Um die Tabellen gelesen, verwenden Sie ein Produkt aus einer Zeile und ein Produkt aus einer Spalte. In der Tabelle für Skonto 1, wenn Sie mit den beiden €20 Produkte kombinieren, werden Sie bei €10 ab. In der Tabelle für Skonto 2, wenn Sie mit den €15 Produkt und dem €5 Produkt kombinieren, erhalten Sie €4 Rabatt.</p>
<p><img src="media/overlapping-discount-combo-03.jpg" alt="Beispiel, das vier Produkte für dieselben zwei Rabatte verwendet"></p>
<p>Zunächst suchen wir den höchsten Rabatt, der für einen der beiden Produkte verfügbar ist, in dem wir einen der Rabatte anwenden. Die beiden Tabellen zeigen den Rabattbetrag für alle Kombinationen der beiden Produkte angezeigt. Die schattierten Teile der Tabellen finden jeden Fälle, in denen ein Produkt mit dem zugeordnet ist, das von uns nicht ausführen können, oder ein Rückzuordnen zweier Produkten dar, weshalb dieselbe Rabattbetrag hergestellt und ignoriert werden kann. Durch Festlegen der Tabellen einmal genauer anschauen, werden Sie sehen, dass Skonto 1 für die zwei €20 Artikel der größten Rabatt ist, für jeden der Rabatt auf alle vier Produkte verfügbar ist. (Dieser Rabatt wird in grün in der ersten Tabelle. Markieren) Dadurch lassen nur das Produkt €15 und das Produkt €5. Wenn Sie erneut die beiden Tabellen einmal genauer anschauen, werden Sie sehen, dass, für diese beiden Produkte, Skonto 1 einen Rabatt €2,50 gibt, für Skonto 2 einen Rabatt €4 gibt. Daher wird Skonto 2 aus. Der Rechnungsrabatt beträgt €14. Um diese Diskussion zu vereinfachen visualisiert werden, sollten Sie hier zwei zusätzliche Tabellen die der eigentliche Rabattprozentsatz für alle möglichen Zwei-Produktkombinationen für Skonto 1 Skonto 2 und anzeigen. Nur ist Hälfte Liste mit Kombinationen eingeschlossen, weil, für diese beiden Rabatte, den Auftrag, in der zwei die Produkte in den Rabatt angewendet werden, noch ist. Der höchste effektive Rabatt (25 Prozent) wird in grün und niedrigsten im tatsächlichen Rabatt (10 Prozent) markiert wird rot hervorgehoben.</p>
<p><img src="media/overlapping-discount-combo-04.jpg" alt="Effektiver Rabattprozentsatz für alle Zwei-Produkt-Kombinationen für beide Rabatte"></p>
<div class="NOTE">
<h5>Note</h5>
<p>Wenn Preise variieren, und zwei oder mehr Rabatte miteinander konkurrieren, besteht die einzige Möglichkeit, die beste Rabattkombination zu garantieren, darin, beide Rabatte zu bewerten und miteinander zu vergleichen.</p>
</div>
<h2 id="total-possible-combinations">Insgesamt mögliche Kombinationen</h2>
<p>Dieser Abschnitt wird das beispielsweise von vorherigen Abschnitt fort. Es können weitere Produkte und einen anderen Rabatt hinzu und finden, wie viele Kombinationen berechnet und verglichen werden müssen. In der folgenden Tabelle wird die Anzahl für mögliche Rabattkombinationen als die Produktmengenerhöhungen angezeigt. Die Tabelle ist angegeben, was einerseits, wenn zwei überlappende Rabatte gibt, wie im vorherigen Beispiel erfolgt, und wenn es drei überlappende Rabatte gibt. Die Anzahl für mögliche Rabattkombinationen, die demnächst ausgewertet werden müssen, überschreitet, was auch ein Computer schneller berechnen sowie Vergleichen kann schnell genug, um für Einzelhandelstransaktionen akzeptiert werden sollen.</p>
<p><img src="media/overlapping-discount-combo-05.jpg" alt="Anzahl für mögliche Rabattkombinationen bei Erhöhung der Produktmenge"></p>
<p>Werden sogar größere Mengen oder mehr sich überschneidende Rabatte angewendet, geht die gesamte Anzahl möglicher Rabattkombinationen schnell in die Millionen. Und die Zeit, die erforderlich ist, die bestmögliche Kombination zu bewerten und auszuwählen, wird schnell spürbar. Einige Optimierungen sind im Preismodul erfolgt, um die Gesamtanzahl von Kombinationen zu reduzieren, die überprüft werden müssen. Da jedoch die überlappenden Rabatte der Nummer und Mengen in einer Buchung nicht eingeschränkt werden, müssen mehrere Kombinationen immer ausgewertet werden, sobald sich überlappende Rabatte gibt. Dieses Problem wird der Abgang die Schwellenwertklassifizierungs-Methodenadressen.</p>
<h2 id="marginal-value-method">Schwellenwertmethode</h2>
<p>Um den Abgang einer exponential zunehmenden Anzahl von Kombinationen die Behebung ausgewertet werden müssen, ist eine Optimierung die den Wert pro freigegebenes Produkt jedes Rabatts im Satz von Produkten berechnet die zwei oder mehr Rabatte angewendet werden kann. Wir bezeichnen diesen Wert als <strong>Schwellenwert</strong> des Rabatts für die freigegebene Produkte angezeigt. Der Schwellenwert ist der Durchschnitt pro Produkterhöhung im freigegebenen Gesamtrabattbetrag, wenn die Produkte in den Rabattzeitraum einbezogen werden sollen. Der Schwellenwert wird berechnet, indem der Gesamtrabattbetrag (DTotal), den Rabattbetrag ohne die freigegebene Produkte (DMinus\Shared) abgezogen, und die Differenz von der Anzahl von freigegebenen Produkten (ProductsShared) geteilt.</p>
<p><img src="media/overlapping-discount-combo-06.jpg" alt="Formel für die Berechnung des Schwellenwerts"></p>
<p>Nachdem der Schwellenwert eines jeden Rabatts auf einem freigegebenen Produktsatz berechnet wurde, werden die Rabatte auf die freigegebenen Produkten angewendet, und zwar in der Reihenfolge vom höchsten Schwellenwert bis zu niedrigsten Schwellenwert. Bei dieser Methode werden alle restlichen Rabattmöglichkeiten nicht jedes Mal verglichen, nachdem eine einzelne AOS-Instanz einen Rabatt angewendet wurde. Stattdessen werden einmal verglichen überlappenden die Rabatte angewendet und dann im Auftrag. Keine weiteren Vergleiche durchgeführt werden. Sie können den Schwellenwert konfigurieren, die der auf der Schwellenwertmethode <strong>Rabatt</strong> Registerkarte der <strong>Commerce Parameter</strong> Seite zu wechseln. Die akzeptierte Zeit, den Rechnungsrabatt zu berechnen variiert zu Einzelhandel. Allerdings liegt diese Zeit im Allgemeinen im Bereich der zehnten Millisekunden auf einer Sekunde.</p>
</article>
              </div>
              
<div class="hidden-sm col-md-3" role="complementary">
  <div class="sideaffix">
    <div class="contribution">
      <ul class="nav">
        <li>
          <a href="https://github.com/MicrosoftDocs/Dynamics-365-Operations.de-de/blob/live/articles/commerce/optimal-combination-overlapping-discounts.md/#L1" class="contribution-link">Improve this Doc</a>
        </li>
      </ul>
    </div>
    <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
    <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
    </nav>
  </div>
</div>

            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Copyright � 2015-2017 Microsoft<br>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
