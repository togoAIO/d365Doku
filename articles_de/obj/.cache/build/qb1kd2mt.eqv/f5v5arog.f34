<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Unternehmenskonzept in Dataverse </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Unternehmenskonzept in Dataverse ">
    <meta name="generator" content="docfx 2.56.6.0">
    <meta name="description" content="In diesem Thema wird die Integration von Unternehmensdaten zwischen Finance and Operations und Dataverse beschrieben.">
    <link rel="shortcut icon" href="../../../../favicon.ico">
    <link rel="stylesheet" href="../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../styles/main.css">
    <meta property="docfx:navrel" content="">
    <meta property="docfx:tocrel" content="../../toc.html">
    <meta name="searchOption" content="noindex">
    
    
    <meta name="robots" content="NOINDEX, NOFOLLOW">
    
    <meta name="ms.search.scope" content="Core, Operations, CrossApp, ShowInHelp">
    <meta name="ms.search.region" content="global">
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../../index.html">
                <img id="logo" class="svg" src="../../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        <div class="row">
          <div class="col-sm-12">
            
<div class="sidenav hide-when-search"> 
  <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
  <div class="sidetoggle collapse" id="sidetoggle">
    <div id="sidetoc"></div>
  </div>
</div>
            <div class="row toc-offset">
              
              <div class="col-sm-12 col-md-9">
                <article class="article" id="_content" data-uid="">
<h1 id="company-concept-in-dataverse">Unternehmenskonzept in Dataverse</h1>

[!include[banner](../../includes/banner.md)][!include[rename-banner](~/includes/cc-data-platform-banner.md)]
<p>In Finance and Operations ist das Konzept <em>Unternehmen</em> sowohl ein juristisches als auch ein unternehmerisches Konstrukt. Es ist außerdem ein Sicherheits- und Sichtbarkeitsgrenze für Daten. Benutzer arbeiten immer im Kontext eines einzelnen Unternehmens, und die meisten Daten werden von dem Unternehmen gekennzeichnet.</p>
<p>Dataverse hat kein entsprechendes Konzept. Das nächste Konzept ist <em>Unternehmenseinheit</em>, das in erster Linie eine Sicherheits- und Sichtbarkeitsgrenze für Benutzerdaten ist. Dieses Konzept besitzt nicht die gleichen rechten oder geschäftlichen Auswirkungen wie das Unternehmenskonzept.</p>
<p>Da Unternehmenseinheit und Unternehmen keine entsprechenden Konzepte sind, ist es nicht möglich, eine 1:1-Zuordnung zum Zwecke der Dataverse-Integration zu erzwingen. Da Benutzer aber standardmäßig in der Lage sein müssen, dieselben Zeilen in der Anwendung und in Dataverse anzuzeigen, hat Microsoft eine neue Entität in Dataverse mit dem Namen „cdm_Company“ eingeführt. Diese Entität entspricht der Unternehmensentität in der Anwendung. Um sicherzustellen, dass die Sichtbarkeit von Zeilen in der Anwendung und in Dataverse standardmäßig äquivalent ist, empfehlen wir die folgende Einstellung für Daten in Dataverse:</p>
<ul>
<li>Für jede Unternehmensdatenszeile in Finance and Operations, für die duales Schreiben aktiviert ist, wird eine zugehörige cdm_Company-Zeile erstellt.</li>
<li>Wenn eine cdm_Company-Zeile erstellt und für duales Schreiben aktiviert wird, wird eine Standardunternehmenseinheit mit demselben Namen erstellt. Es wird zwar automatisch ein Standardteam für diese Geschäftseinheit erstellt, die Geschäftseinheit wird aber nicht verwendet.</li>
<li>Ein separates Eigentümerteam wird erstellt, das denselben Namen hat. Es wird ebenfalls der Geschäftseinheit zugeordnet.</li>
<li>Standardmäßig wird der Eigentümer einer beliebigen Zeile, die erstellt und in Dataverse dual geschrieben wird, auf das Team „DW-Eigentümer“ festgelegt, das mit der zugehörigen Unternehmenseinheit verknüpft ist.</li>
</ul>
<p>Die folgende Abbildung zeigt ein Beispiel für diese Dateneinreichtung in Dataverse.</p>
<p><img src="media/dual-write-company-1.png" alt="Dateneinrichtung in Dataverse"></p>
<p>Aufgrund dieser Konfiguration ist jede Zeile, due mit dem USMF-Unternehmen verknüpft ist, im Besitz eines Teams, das mit der USFM-Unternehmenseinheit in Dataverse verknüpft ist. Daher kann jeder Benutzer, der über eine Sicherheitsrolle Zugriff auf diese Unternehmenseinheit hat, die auf Sichtbarkeit auf Unternehmenseinheitsebene festgelegt ist, diese Zeilen nun anzeigen. Das folgende Beispiel veranschaulicht, wie Teams verwendet werden können, um den richtigen Zugang zu diesen Zeilen bereitzustellen.</p>
<ul>
<li>Die Rolle „Vertriebsmanager“ ist Mitgliedern des Teams „USMF-Vertrieb“ zugewiesen.</li>
<li>Benutzer mit der Rolle „Vertriebsmanager“ können auf beliebige Kontozeilen zugreifen, die Mitglieder derselben Unternehmenseinheit wie sie sind.</li>
<li>Das Team „USMF-Vertrieb“ wird mit der zuvor erwähnten USMF-Geschäftseinheit verknüpft.</li>
<li>Daher können Mitglieder des Teams „USMF-Vertrieb“ ein beliebiges Konto sehen, das im Besitz des Benutzers „USMF DW“ ist, der von der USMF-Unternehmenseinheit in Finance and Operations stammt.</li>
</ul>
<p><img src="media/dual-write-company-2.png" alt="Wie Teams verwendet werden können"></p>
<p>Wie in der vorherigen Abbildung dargestellt, ist diese 1:1-Zuordnung zwischen Geschäftseinheit, Unternehmen und Team nur ein Anfangspunkt. In diesem Beispiel wird eine neue Geschäftseinheit „Europa“ manuell in Dataverse als übergeordnetes Element für DEMF und ESMF erstellt. Diese neue Stammgeschäftseinheit ist nicht mit dem dualen Schreiben verknüpft. Sie kann allerdings verwendet werden, um Mitgliedern des Teams „EUR-Vertrieb“ Zugriff auf Kontodaten sowohl in DEMF als auch in ESMF zu gewähren, indem die Datensichtbarkeit in der zugehörigen Sicherheitsrolle auf <strong>Übergeordnete/untergeordnete Geschäftseinheit</strong> festgelegt wird.</p>
<p>Ein abschließendes Thema ist, wie durch das duale Schreiben bestimmt wird, welchem Eigentümerteam Zeilen zugewiesen werden sollen. Dieses Verhalten wird vom Feld <strong>Standardeigentümerteam</strong> in der Zeile cdm_Company gesteuert. Wenn eine cdm_Company-Zeile für duales Schreiben aktiviert ist, erstellt ein Plug-In automatisch die zugewiesene Unternehmenseinheit sowie das Eigentümerteam (wenn nicht bereits vorhanden) und legt das Feld <strong>Standardeigentümerteam</strong> fest. Der Administrator kann das Feld in einen anderen Wert ändern. Allerdings kann der Administrator das Feld nicht deaktivieren, sofern die Entität für duales Schreiben aktiviert ist.</p>
<div class="mx-imgBorder">
</div>
<p><img src="media/dual-write-default-owning-team.jpg" alt="Feld „Standardeigentümerteam“"></p>
<h2 id="company-striping-and-bootstrapping">Unternehmensstriping und Bootstrapping</h2>
<p>Die Dataverse-Integration bringt Unternehmensparität durch Verwendung eines Unternehmensbezeichners zum Kennzeichen von Daten. Wie in der folgenden Abbildung dargestellt, werden alle unternehmensspezifischen Tabellen so erweitert, dass sie eine Viele-zu-Eins-Beziehung (N:1) mit der cdm_Company-Entität haben.</p>
<div class="mx-imgBorder">
</div>
<p><img src="media/dual-write-bootstrapping.png" alt="N:1-Beziehung zwischen einer unternehmensspezifischen Entität und der cdm_Company-Entität"></p>
<ul>
<li>Für Zeilen wird der Wert schreibgeschützt, nachdem ein Unternehmen hinzugefügt und gespeichert wird. Daher sollten Benutzer sicherstellen, dass Sie das korrekte Unternehmen auswählen.</li>
<li>Nur Zeilen mit Unternehmensdaten kommen für duales Schreiben zwischen der Anwendung und Dataverse infrage.</li>
<li>Für vorhandene Dataverse-Daten wird in Kürze eine vom Administrator geführte Bootstrapping-Erfahrung verfügbar sein.</li>
</ul>
<h2 id="autopopulate-company-name-in-customer-engagement-apps">Unternehmensname in Kundenbindungs-Apps automatisch ausfüllen</h2>
<p>Es gibt verschiedene Möglichkeiten, den Unternehmensnamen in Kundenbindungs-Apps automatisch auszufüllen.</p>
<ul>
<li><p>Wenn Sie ein Systemadministrator sind, können Sie das Standardunternehmen festlegen, indem Sie zu <strong>Erweiterte Einstellungen &gt; System &gt; Sicherheit &gt; Benutzer</strong> navigieren. Öffnen Sie das Formular <strong>Benutzer</strong>, und im Abschnitt <strong>Organisationsinformationen</strong> legen Sie den Wert <strong>Unternehmen gemäß Standard auf Formularen</strong> fest.</p>
<p><span class="mx-imgBorder">
<img src="media/autopopulate-company-name-1.png" alt="Legen Sie im Abschnitt Organisationsinformationen das Standardunternehmen fest.">
</span>
</p>
</li>
<li><p>Wenn Sie <strong>Schreib</strong>-Zugriff auf die Entität <strong>SystemUser</strong> für die Ebene <strong>Unternehmenseinheit</strong> haben, können Sie das Standardunternehmen auf jedem beliebigen Formular ändern, indem Sie ein Unternehmen aus dem Dropdownmenü <strong>Unternehmen</strong> auswählen.</p>
<p><span class="mx-imgBorder">
<img src="media/autopopulate-company-name-2.png" alt="Ändern des Unternehmensnamens bei einem neuen Konto.">
</span>
</p>
</li>
<li><p>Wenn Sie <strong>Schreibzugriff</strong> auf Daten in mehr als einem Unternehmen haben, können Sie das Standardunternehmen ändern, indem Sie eine Zeile auswählen, die zu einem anderen Unternehmen gehört.</p>
<p><span class="mx-imgBorder">
<img src="media/autopopulate-company-name-3.png" alt="Durch Auswahl einer Zeile wird das Standardunternehmen geändert.">
</span>
</p>
</li>
<li><p>Wenn Sie ein Systemkonfigurator oder -Administrator sind und Unternehmensdaten automatisch in ein benutzerdefiniertes Formular einfügen möchten, können Sie <a href="https://docs.microsoft.com/powerapps/developer/model-driven-apps/clientapi/events-forms-grids">Formularereignisse</a> verwenden. Fügen Sie einen JavaScript-Verweis auf <strong>msdyn_/DefaultCompany.js</strong> hinzu, und verwenden Sie die folgenden Ereignisse. Sie können jedes sofort einsatzbereite Formular verwenden, z. B. das <strong>Konto</strong>-Formular.</p>
<ul>
<li><strong>OnLoad</strong>-Ereignis für das Formular: Legen Sie das Feld <strong>defaultCompany</strong> fest.</li>
<li><strong>OnChange</strong>-Ereignis für das Feld <strong>Unternehmen</strong>: Legen Sie das Feld <strong>updateDefaultCompany</strong> fest.</li>
</ul>
</li>
</ul>
<h2 id="apply-filtering-based-on-the-company-context">Wenden Sie die Filterung basierend auf dem Unternehmenskontext an</h2>
<p>Um die Filterung in Ihren benutzerdefinierten Formularen oder in benutzerdefinierten Suchfeldern, die den Standardformularen hinzugefügt wurden, basierend auf dem Unternehmenskontext anzuwenden, öffnen Sie das Formular, und verwenden Sie den Abschnitt <strong>Filterung zugehöriger Datensätze</strong>, um den Unternehmensfilter anzuwenden. Sie müssen dies für jedes Suchfeld festlegen, das die Filterung basierend auf dem zugrunde liegenden Unternehmen für eine bestimmte Zeile erfordert. Die Einstellung wird für <strong>Konto</strong> in der folgenden Abbildung angezeigt.</p>
<p><span class="mx-imgBorder">
<img src="media/apply-company-context.png" alt="Unternehmenskontext anwenden">
</span>
</p>
</article>
              </div>
              
<div class="hidden-sm col-md-3" role="complementary">
  <div class="sideaffix">
    <div class="contribution">
      <ul class="nav">
        <li>
          <a href="https://github.com/MicrosoftDocs/Dynamics-365-Operations.de-de/blob/live/articles/fin-ops-core/dev-itpro/data-entities/dual-write/company-data.md/#L1" class="contribution-link">Improve this Doc</a>
        </li>
      </ul>
    </div>
    <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
    <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
    </nav>
  </div>
</div>

            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Copyright � 2015-2017 Microsoft<br>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
  </body>
</html>
