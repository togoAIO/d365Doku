<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Live-Synchronisierungsprobleme behandeln | WIKA Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Live-Synchronisierungsprobleme behandeln | WIKA Documentation ">
    <meta name="generator" content="docfx 2.56.6.0">
    
    <link rel="shortcut icon" href="../../../../../microsoft-dynamics-crm-365-icon.ico">
    <link rel="stylesheet" href="../../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../../styles/main.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 
    <meta property="docfx:navrel" content="../../../../../toc.html">
    <meta property="docfx:tocrel" content="../../toc.html">
    
    
    
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../../../index.html">
                <img id="logo" class="svg" src="../../../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="troubleshoot-live-synchronization-issues">Live-Synchronisierungsprobleme behandeln</h1>

[!include[banner](../../includes/banner.md)][!include[rename-banner](~/includes/cc-data-platform-banner.md)]
<p>Dieses Thema enthält Problembehandlungsinformationen zur dualen Schreibintegration zwischen den Apps Finance and Operations und Dataverse. Dieses Thema enthält speziell Informationen zur Fehlerbehebung, mit denen Sie Probleme beheben können, die mit der Live-Synchronisierung zusammenhängen.</p>
<div class="IMPORTANT">
<h5>Important</h5>
<p>Einige der in diesem Thema behandelten Probleme erfordern möglicherweise entweder die Systemadministratorrolle oder Microsoft Azure Active Directory (Azure AD) Anmeldeinformationen des Mandantenadministrators. Im Abschnitt zu jedem Problem wird erläutert, ob eine bestimmte Rolle oder Anmeldeinformationen erforderlich sind.</p>
</div>
<h2 id="live-synchronization-throws-a-403-forbidden-error-when-you-create-a-row-in-a-finance-and-operations-app">Bei der Live-Synchronisierung wird ein 403 Forbidden-Fehler ausgegeben, wenn Sie eine Zeile in einer Finance and Operations-App erstelllen.</h2>
<p>Möglicherweise wird die folgende Fehlermeldung angezeigt, wenn Sie eine Zeile in einer Finance and Operations-App erstellen:</p>
<p><em>[{\„Fehler\“:{\„Code\“:\„0x80072560\“,\„Botschaft\“:\„Der Benutzer ist kein Mitglied der Organisation.\“}}], Der Remote-Server hat einen Fehler zurückgegeben: (403) Verboten. „}}“.</em></p>
<p>Befolgen Sie die Schritte, um das Problem zu beheben unter <a href="https://docs.microsoft.com/de-de/dynamics365/supply-chain/fin-ops-core/dev-itpro/data-entities/dual-write/requirements-and-prerequisites">Systemanforderungen und -voraussetzungen (This is an external link)</a>. Um diese Schritte auszuführen, müssen die Benutzer der Dual-Write-Anwendung, die in Dataverse erstellt wurde, die Systemadministratorrolle haben. Das Standard-Besitzerteam muss auch die Systemadministratorrolle haben.</p>
<h2 id="live-synchronization-for-any-entity-consistently-throws-a-similar-error-when-you-create-a-row-in-a-finance-and-operations-app">Bei der Live-Synchronisierung für eine Entität wird immer der gleiche Fehler ausgegeben, wenn Sie eine Zeile in einer Finance and Operations-App erstelllen.</h2>
<p><strong>Erforderliche Rolle zum Beheben der Fehler:</strong> System Administrator</p>
<p>Möglicherweise erhalten Sie jedes Mal eine Fehlermeldung wie die folgende, wenn Sie versuchen, Entitätsdaten in einer Finance and Operations App zu speichern:</p>
<p><em>Die Änderungen können nicht in der Datenbank gespeichert werden. Arbeitseinheit kann keine Transaktion festschreiben. Daten können nicht in Entitäts-Uoms geschrieben werden. Das Schreiben in UnitOfMeasureEntity ist mit der Fehlermeldung fehlgeschlagen. Synchronisierung mit Entitäts-Uoms nicht möglich.</em></p>
<p>Um das Problem zu beheben, müssen Sie sicherstellen, dass die erforderlichen Referenzdaten in beiden Finance and Operations App und Dataverse vorhanden sind. Zum Beispiel, wenn der Kunde, wenn Sie sich in der Finance and Operations App befinden, zu einer bestimmten Kundengruppe gehört, stellen Sie sicher, dass die Kundengruppe in Dataverse vorhanden ist.</p>
<p>Wenn auf beiden Seiten Daten vorhanden sind und Sie bestätigt haben, dass das Problem nicht datenbezogen ist, führen Sie die folgenden Schritte aus.</p>
<ol>
<li><p>Stoppen Sie die zugehörige Entität.</p>
</li>
<li><p>Melden Sie sich bei der Finance and Operations-App an. Stellen Sie sicher, dass Zeilen für die fehlerhafte Entität in den Tabellen DualWriteProjectConfiguration und DualWriteProjectFieldConfiguration vorhanden sind. Beispielsweise sieht die Abfrage so aus, wenn die <strong>Kundenentität</strong> fehlschlägt.</p>
<pre><code class="lang-sql">Select projectname, externalenvironmentURL ,\* 
from DUALWRITEPROJECTCONFIGURATION 
where INTERNALENTITYNAME = 'Customers V3' and
    EXTERNALENTITYNAME = 'accounts' 
</code></pre>
</li>
<li><p>Wenn es Zeilen für die fehlerhafte Entität gibt, auch nachdem Sie die Tabellenzuordnung gestoppt haben, löschen Sie die Zeilen, die sich auf die fehlerhafte Entität beziehen. Notieren Sie sich die Spalte <strong>projectname</strong> in der Tabelle DualWriteProjectConfiguration und rufen Sie den Datensatz in der Tabelle DualWriteProjectFieldConfiguration ab, indem Sie die Zeile mithilfe des Projektnamens löschen.</p>
</li>
<li><p>Starten Sie die Tabellenzuordnung. Überprüfen Sie, ob die Daten ohne Probleme synchronisiert werden.</p>
</li>
</ol>
<h2 id="handle-read-or-write-privilege-errors-when-you-create-data-in-a-finance-and-operations-app">Behandeln Sie Lese- oder Schreibberechtigungsfehler, wenn Sie Daten in einer Finance and Operations App erstellen</h2>
<p>Möglicherweise wird eine Fehlermeldung Bad Request angezeigt, die dem folgenden Beispiel ähnelt, wenn Sie Daten in einer Finance and Operations App erstellen.</p>
<p><img src="media/error_record_id_source.png" alt="Beispiel für die Fehlermeldung Bad Request"></p>
<p>Um das Problem zu beheben, müssen Sie dem Team der zugeordneten Geschäftseinheit Dynamics 365 Sales oder Dynamics 365 Customer Service die richtige Sicherheitsrolle zuweisen, um die fehlenden Berechtigungen zu aktivieren.</p>
<ol>
<li><p>In der Finance and Operations App finden Sie den Geschäftsbereich, der im Verbindungssatz Datenintegration zugeordnet ist.</p>
<p><img src="media/mapped_business_unit.png" alt="Organisationszuordnung"></p>
</li>
<li><p>Melden Sie sich in der modellgesteuerten App in Dynamics 365 bei der Umgebung an und navigieren Sie zu <strong>Einstellungen &gt; Sicherheit</strong> und finden Sie das Team der zugeordneten Geschäftseinheit.</p>
<p><img src="media/setting_security_page.png" alt="Team des zugeordneten Geschäftsbereichs"></p>
</li>
<li><p>Öffnen Sie die Seite für das Team zur Bearbeitung und wählen Sie dann <strong>Rollen verwalten</strong>, um das Dialogfeld <strong>Teamrollen verwalten</strong> zu öffnen.</p>
<p><img src="media/manage_team_roles.png" alt="Schaltfläche Rollen verwalten"></p>
</li>
<li><p>Weisen Sie die Rolle zu, die über die Lese-/Schreibberechtigung für die relevanten Tabellen verfügt, und wählen Sie dann <strong>OK</strong> aus.</p>
</li>
</ol>
<h2 id="fix-synchronization-issues-in-an-environment-that-has-a-recently-changed-dataverse-environment">Beheben Sie Synchronisierungsprobleme in einer Umgebung, die eine kürzlich geändert Dataverse Umgebung hat</h2>
<p><strong>Erforderliche Rolle zum Beheben der Fehler:</strong> System Administrator</p>
<p>Möglicherweise wird die folgende Fehlermeldung angezeigt, wenn Sie Daten in einer Finance and Operations App erstellen:</p>
<p><em>{„entityName“:„CustCustomerV3Entity“,„executeStatus“:2,„fieldResponses“:[],„recordResponses“:[{„Fehlermeldung“:„<strong>Nutzdaten für die Entität CustCustomerV3Entity können nicht generiert werden</strong>“,„logDateTime“:„2019-08-27T18:51:52.5843124Z“,„verboseError“:„Die Erstellung der Nutzdaten ist mit dem Fehler fehlgeschlagen. Ungültiger URI: URI ist leer.“}],„isErrorCountUpdated“: true}</em></p>
<p>So sieht der Fehler in der modellgesteuerten App in Dynamics 365 aus:</p>
<p><em>Ein unerwarteter Fehler ist im ISV-Code aufgetreten. (ErrorType = ClientError) Unerwartete Ausnahme vom Plug-In (Ausführen): Microsoft.Dynamics.Integrator.DualWriteRuntime.Plugins.PostCommitPlugin: Entitätskonto konnte nicht verarbeitet werden – (Ein Verbindungsversuch ist fehlgeschlagen, da die verbundene Partei nach a nicht ordnungsgemäß geantwortet hat Zeitraum oder Verbindungsaufbau fehlgeschlagen hat, da der verbundene Host nicht reagiert hat</em></p>
<p>Dieser Fehler tritt auf, wenn die Dataverse Umgebung fälschlicherweise zurückgesetzt wird, während Sie versuchen, Daten in der Finance and Operations App zu erstellen.</p>
<p>Führen Sie folgende Schritte aus, um das Problem zu beheben.</p>
<ol>
<li><p>Melden Sie sich bei der virtuellen Maschine (VM) für Finance and Operations an, öffnen Sie SQL Server Management Studio (SSMS) und suchen Sie in der Tabelle DUALWRITEPROJECTCONFIGURATIONENTITY nach Zeilen, für die <strong>internalentityname</strong> gleich <strong>Kunden V3</strong> und <strong>externalentityname</strong> gleich <strong>Konten</strong> ist. So sieht die Abfrage aus.</p>
<pre><code class="lang-sql">select projectname, externalenvironmentURL ,\* 
from DUALWRITEPROJECTCONFIGURATION 
where INTERNALENTITYNAME = 'Customers V3' and EXTERNALENTITYNAME = 'accounts'
</code></pre>
</li>
<li><p>Verwenden Sie den Projektnamen aus den Ergebnissen der vorherigen Abfrage, um die folgende Abfrage auszuführen.</p>
<pre><code class="lang-sql">select \* 
from DUALWRITEPROJECTFIELDCONFIGURATION 
where projectname = &lt;project name from previous query&gt;
</code></pre>
</li>
<li><p>Stellen Sie sicher, dass die <strong>externalenvironmentURL</strong> Spalte die richtige Dataverse oder App-URL hat. Löschen Sie doppelte Zeilen, die auf die falsche Dataverse-URL verweisen. Löschen Sie die entsprechenden Zeilen in den Tabellen DUALWRITEPROJECTFIELDCONFIGURATION und DUALWRITEPROJECTCONFIGURATION.</p>
</li>
<li><p>Stoppen Sie die Tabellenzuordnung und starten Sie sie neu.</p>
</li>
</ol>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../../styles/main.js"></script>
  </body>
</html>
