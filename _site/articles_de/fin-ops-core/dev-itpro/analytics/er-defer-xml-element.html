<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Verz&#246;gern der Ausf&#252;hrung von XML-Elementen in ER-Formaten | WIKA Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Verz&#246;gern der Ausf&#252;hrung von XML-Elementen in ER-Formaten | WIKA Documentation ">
    <meta name="generator" content="docfx 2.56.6.0">
    
    <link rel="shortcut icon" href="../../../../microsoft-dynamics-crm-365-icon.ico">
    <link rel="stylesheet" href="../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../styles/main.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 
    <meta property="docfx:navrel" content="../../../../toc.html">
    <meta property="docfx:tocrel" content="../../../commerce/TOC.html">
    
    
    
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../../index.html">
                <img id="logo" class="svg" src="../../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="defer-the-execution-of-xml-elements-in-er-formats">Verzögern der Ausführung von XML-Elementen in ER-Formaten</h1>

[!include[banner](../includes/banner.md)]<h2 id="overview">Übersicht</h2>
<p>Sie können den Arbeitsgangdesigner des Frameworks für <a href="general-electronic-reporting.html">Elektronische Berichterstattung (ER)</a> für das <a href="tasks/er-format-configuration-2016-11.html">Konfigurieren</a> der <a href="general-electronic-reporting.html#FormatComponentOutbound">Formatkomponente</a> einer ER-Lösung verwenden, die zum Generieren ausgehender Dokumente im XML-Format verwendet wird. Die hierarchische Struktur der konfigurierten Formatkomponente besteht aus Formatelementen verschiedener Typen. Diese Formatelemente werden verwendet, um generierte Dokumente zur Laufzeit mit den erforderlichen Informationen zu füllen. Wenn Sie ein ER-Format ausführen, werden die Formatelemente standardmäßig in der Reihenfolge ausgeführt, in der sie in der Formathierarchie dargestellt werden: einzeln nacheinander, von oben nach unten. Zur Entwurfszeit können Sie jedoch die Ausführungsreihenfolge für alle XML-Elemente der konfigurierten Formatkomponente ändern.</p>
<p>Durch Aktivieren der Option <a name="DeferredXmlElementExecution"></a><strong>Verzögerte Ausführung</strong> für ein XML-Element im konfigurierten Format können Sie die Ausführung des Elements verzögern (hinausschieben). In diesem Fall wird das Element erst ausgeführt, wenn alle anderen Elemente des übergeordneten Elements ausgeführt wurden.</p>
<p>Weitere Informationen über diese Funktion erhalten Sie, wenn Sie das Beispiel in diesem Thema abschließen.</p>
<h2 id="limitations">Einschränkungen</h2>
<p>Die Option <strong>Verzögerte Ausführung</strong> wird nur für XML-Elemente unterstützt, die für ein ER-Format konfiguriert sind, das zum Generieren <strong>ausgehender</strong> Dokumente im XML-Format verwendet wird.</p>
<p>Die Option <strong>Verzögerte Ausführung</strong> wird nur für XML-Elemente unterstützt, die sich nur in einem anderen XML-Element befinden. Daher ist es nicht auf XML–Elemente anwendbar, die sich in anderen Formatelementtypen befinden (z. B. in einem <strong>XML-Sequenz</strong>-Element).</p>
<p>Die Option <strong>Verzögerte Ausführung</strong> wird nicht für XML-Elemente unterstützt, die sich im Formatelement <strong>Allgemein\Datei</strong> befinden, wenn die Option für <strong>Datei teilen</strong> auf <strong>Ja</strong> gesetzt ist. Weitere Informationen zum Teilen von Dateien finden Sie unter <a href="er-split-files.html">Teilen erstellter XML-Dateien auf Grundlage von Dateigröße und Inhaltsmenge</a>.</p>
<h2 id="example-defer-the-execution-of-an-xml-element-in-an-er-format"><a name="Example"></a>Beispiel: Verzögern der Ausführung eines XML-Elements in einem ER-Format</h2>
<p>In den folgenden Schritten wird erläutert, wie ein Benutzer mit der Systemadministrator- oder der Funktionaler Berater für elektronische Berichterstellung-<a href="https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/sysadmin/tasks/assign-users-security-roles">Rolle</a> ein ER-Format konfigurieren kann, das ein XML-Element enthält, dessen Ausführungsreihenfolge von der Reihenfolge in der Formathierarchie abweicht.</p>
<p>Diese Schritte können im <strong>USMF</strong>-Unternehmen in Microsoft Dynamics 365 Finance durchgeführt werden.</p>
<h3 id="prerequisites">Voraussetzungen</h3>
<p>Um das Beispiel in diesem Thema abzuschließen, müssen Sie für eine der folgenden Rollen Zugriff auf das <strong>USMF</strong>-Unternehmen in Finance haben:</p>
<ul>
<li>Funktionaler Berater für elektronische Berichterstellung</li>
<li>Systemadministrator</li>
</ul>
<p>Wenn Sie das Beispiel im Thema <a href="er-defer-sequence-element.html#Example">Verzögern der Ausführung von Sequenz-Elementen in ER-Formaten</a> noch nicht abgeschlossen haben, laden Sie die folgenden <a href="general-electronic-reporting.html#Configuration">Konfigurationen</a> der ER-Beispiellösung herunter.</p>
<table>
<thead>
<tr>
<th>Inhaltsbeschreibung</th>
<th>Dateiname</th>
</tr>
</thead>
<tbody>
<tr>
<td>ER-Datenmodell-Konfiguration</td>
<td><a href="https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg">Model to learn deferred elements.version.1.xml</a></td>
</tr>
<tr>
<td>Konfiguration der ER-Modellzuordnung</td>
<td><a href="https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg">Mapping to learn deferred elements.version.1.1.xml</a></td>
</tr>
</tbody>
</table>
<p>Bevor Sie beginnen, müssen Sie auch die folgende Konfiguration der ER-Beispiellösung herunterladen und auf Ihrem lokalen Computer speichern.</p>
<table>
<thead>
<tr>
<th>Inhaltsbeschreibung</th>
<th>Dateiname</th>
</tr>
</thead>
<tbody>
<tr>
<td>ER-Formatkonfiguration</td>
<td><a href="https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg">Format to learn deferred XML elements.version.1.1.xml</a></td>
</tr>
</tbody>
</table>
<h3 id="import-the-sample-er-configurations">ER-Beispielkonfigurationsdateien importieren</h3>
<ol>
<li><p>Wechseln Sie zu <strong>Organisationsverwaltung</strong> &gt; <strong>Arbeitsbereiche</strong> &gt; <strong>Elektronische Berichterstellung</strong>.</p>
</li>
<li><p>Wählen Sie <strong>Berichterstellungskonfigurationen</strong> aus.</p>
</li>
<li><p>Wenn auf der Seite <strong>Konfigurationen</strong> die Konfiguration für <strong>Model zum Erlernen verzögerter Elemente</strong> nicht im Konfigurationsbaum verfügbar ist, importieren Sie die ER-Datenmodellkonfiguration.</p>
<ol>
<li>Wählen Sie <strong>Austausch</strong> und dann <strong>Aus XML-Datei laden</strong> aus.</li>
<li>Wählen Sie <strong>Durchsuchen</strong> aus, um die Datei <strong>Model to learn deferred elements.1.xml</strong> zu finden und auszuwählen und klicken Sie dann auf <strong>OK</strong>.</li>
</ol>
</li>
<li><p>Wenn die Konfiguration für <strong>Zuordnung zum Verstehen verzögerter Elemente</strong> nicht im Konfigurationsbaum verfügbar ist, importieren Sie die ER-Modellzuordnungskonfiguration:</p>
<ol>
<li>Wählen Sie <strong>Austausch</strong> und dann <strong>Aus XML-Datei laden</strong> aus.</li>
<li>Wählen Sie <strong>Durchsuchen</strong> aus, um die Datei <strong>Mapping to learn deferred elements.1.1.xml</strong> zu finden und auszuwählen und klicken Sie dann auf <strong>OK</strong>.</li>
</ol>
</li>
<li><p>Import der ER-Formatkonfiguration:</p>
<ol>
<li>Wählen Sie <strong>Austausch</strong> und dann <strong>Aus XML-Datei laden</strong> aus.</li>
<li>Wählen Sie <strong>Durchsuchen</strong> aus, um die Datei <strong>Format to learn deferred XML elements.1.1.xml</strong> zu finden und auszuwählen und klicken Sie dann auf <strong>OK</strong>.</li>
</ol>
</li>
<li><p>Erweitern Sie in der Konfigurationsstruktur <strong>Modell zum Erlernen verzögerter Elemente</strong>.</p>
</li>
<li><p>Überprüfen Sie die Liste der importierten ER-Konfigurationen in der Konfigurationsstruktur.</p>
<p><img src="media/ER-DeferredXml-Configurations.png" alt="Importierte ER-Konfigurationen auf der Seite „Konfigurationen“"></p>
</li>
</ol>
<h3 id="activate-a-configuration-provider">Aktivieren eines Konfigurationsanbieters</h3>
<ol>
<li><p>Wechseln Sie zu <strong>Organisationsverwaltung</strong> &gt; <strong>Arbeitsbereiche</strong> &gt; <strong>Elektronische Berichterstellung</strong>.</p>
</li>
<li><p>Überprüfen Sie auf der Seite <strong>Lokalisierungskonfigurationen</strong> im Abschnitt <strong>Konfigurationsanbieter</strong>, ob der <a href="general-electronic-reporting.html#Provider">Konfigurationsanbieter</a> für das Beispielunternehmen Litware, Inc. (<code>http://www.litware.com</code>) aufgeführt und als „Aktiv“ markiert ist. Wenn dieser Konfigurationsanbieter nicht aufgeführt oder nicht als „Aktiv“ markiert ist, befolgen Sie die Schritte im Thema <a href="tasks/er-configuration-provider-mark-it-active-2016-11.html">Konfigurationsanbieter erstellen und als aktiv markieren</a>.</p>
<p><img src="media/ER-DeferredXml-ElectronicReportingWorkspace.png" alt="Beispielfirma Litware, Inc. auf der Seite „Lokalisierungskonfigurationen“"></p>
</li>
</ol>
<h3 id="review-the-imported-model-mapping">Überprüfung der importierten Modellzuordnung</h3>
<p>Überprüfen Sie die Einstellungen der ER-Modellzuordnungskomponente, die für den Zugriff auf Steuerbuchungen konfiguriert ist, und stellen Sie auf Anforderung die aufgerufenen Daten bereit.</p>
<ol>
<li><p>Wechseln Sie zu <strong>Organisationsverwaltung</strong> &gt; <strong>Arbeitsbereiche</strong> &gt; <strong>Elektronische Berichterstellung</strong>.</p>
</li>
<li><p>Wählen Sie <strong>Berichterstellungskonfigurationen</strong> aus.</p>
</li>
<li><p>Erweitern Sie auf der Seite <strong>Konfigurationen</strong> die Konfigurationsstruktur für <strong>Modell zum Erlernen verzögerter Elemente</strong>.</p>
</li>
<li><p>Wähle Sie die Konfiguration für <strong>Zuordnung zum Verstehen verzögerter Elemente</strong> aus.</p>
</li>
<li><p>Wählen Sie <strong>Designer</strong> aus, um die Liste der Zuordnungen zu öffnen.</p>
</li>
<li><p>Wählen Sie <strong>Designer</strong> aus, um die Zuordnungsdetails zu prüfen.</p>
</li>
<li><p>Wählen Sie <strong>Details anzeigen</strong>.</p>
</li>
<li><p>Überprüfen Sie die Datenquellen, die für den Zugriff auf Steuerbuchungen konfiguriert sind:</p>
<ul>
<li><p>Die Datenquelle <strong>Transaktionen</strong> vom Typ <em>Tabellendatensatz</em> ist für den Zugriff auf Datensätze der Anwendungstabelle <strong>TaxTrans</strong> konfiguriert.</p>
</li>
<li><p>Die Datenquelle <strong>Belege</strong> vom Typ <em>Berechnetes Feld</em> ist so konfiguriert, dass die erforderlichen Belegcodes (<strong>INV-10000349</strong> und <strong>INV-10000350</strong>) als Liste von Datensätzen zurückgegeben werden.</p>
</li>
<li><p>Die Datenquelle <strong>Gefiltert</strong> vom Typ <em>Berechnetes Feld</em> ist so konfiguriert, dass sie aus der Datenquelle <strong>Transaktionen</strong> nur Steuerbuchungen der erforderlichen Belege auswählt.</p>
</li>
<li><p>Das Feld <strong>$TaxAmount</strong> vom Typ <em>Berechnetes Feld</em> wird zur Datenquelle <strong>Gefiltert</strong> hinzugefügt, um den Steuerwert anzuzeigen, der das entgegengesetzte Vorzeichen hat.</p>
</li>
<li><p>Die Datenquelle <strong>Gruppiert</strong> vom Typ <em>Gruppieren nach</em> ist so konfiguriert, dass gefilterte Steuerbuchungen der Datenquelle <strong>Gefiltert</strong> gruppiert werden.</p>
</li>
<li><p>Das Aggregationsfeld <strong>TotalSum</strong> der Datenquelle <strong>Gruppiert</strong> ist so konfiguriert, dass Werte des Felds <strong>$TaxAmount</strong> der Datenquelle <strong>Gefiltert</strong> für alle gefilterten Steuerbuchungen dieser Datenquelle zusammengefasst werden.</p>
<p><img src="media/ER-DeferredXml-GroupByParameters.png" alt="Aggregationsfeld „TotalSum“ auf der Bearbeitungsseite „'GroupBy' Parameter“"></p>
</li>
</ul>
</li>
<li><p>Überprüfen Sie, wie die konfigurierten Datenquellen an das Datenmodell gebunden sind und wie sie aufgerufene Daten verfügbar machen, um sie in einem ER-Format verfügbar zu machen:</p>
<ul>
<li>Die Datenquelle <strong>Gefiltert</strong> ist an das Feld <strong>Data.List</strong> des Datenmodells gebunden.</li>
<li>Das Feld <strong>$TaxAmount</strong> der Datenquelle <strong>Gefiltert</strong> ist an das Feld <strong>Data.List.Value</strong> des Datenmodells gebunden.</li>
<li>Das Feld <strong>TotalSum</strong> der Datenquelle <strong>Gruppiert</strong> ist an das Feld <strong>Data.Summary.Total</strong> es Datenmodells gebunden.</li>
</ul>
<p><img src="media/ER-DeferredXml-ModelMapping.png" alt="Modellzuordnungsdesigner – Seite"></p>
</li>
<li><p>Schließen Sie die Seiten <strong>Modellzuordnungsdesigner</strong> und <strong>Modellzuordnungen</strong>.</p>
</li>
</ol>
<h3 id="review-the-imported-format">Überprüfen Sie das importierte Format</h3>
<ol>
<li><p>Wählen Sie auf der Seite <strong>Konfigurationen</strong> in der Konfigurationsstruktur die Konfiguration für <strong>Format zum Verstehen verzögerter XML-Elemente</strong> aus.</p>
</li>
<li><p>Wählen Sie <strong>Designer</strong> aus, um die Formatdetails zu prüfen.</p>
</li>
<li><p>Wählen Sie <strong>Details anzeigen</strong>.</p>
</li>
<li><p>Überprüfen Sie die Einstellungen der ER-Formatkomponenten, die so konfiguriert sind, dass sie ein ausgehendes Dokument im XML-Format generieren, das Details zu den Steuerbuchungen enthält:</p>
<ul>
<li>Das <strong>Bericht\Nachricht</strong>-XML-Element ist so konfiguriert, dass es das ausgehende Dokument mit einem einzelnen Knoten füllt, der die verschachtelten XML-Elemente enthält (<strong>Header</strong>, <strong>Datensatz</strong> und <strong>Zusammenfassung</strong>).</li>
<li>Das XML-Element <strong>Bericht\Nachricht\Header</strong> ist so konfiguriert, dass es das ausgehende Dokument mit einem einzelnen Header-Knoten füllt, der das Datum und die Uhrzeit der Bearbeitungsbeginns zeigt.</li>
<li>Das XML-Element <strong>Bericht \Nachricht\Datensatz</strong> ist so konfiguriert, dass es das ausgehende Dokument mit einem einzelnen Datensatzknoten füllt, der die Details einer einzelnen Steuerbuchung anzeigt.</li>
<li>Das XML-Element <strong>Bericht\Nachricht\Zusammenfassung</strong> ist so konfiguriert, dass das ausgehende Dokument mit einem einzelnen Zusammenfassungsknoten gefüllt wird, der die Summe der Steuerwerte aus den verarbeiteten Steuerbuchungen enthält.</li>
</ul>
<p><img src="media/ER-DeferredXml-Format.png" alt="Message XML-Element und verschachtelte XML-Elemente auf der Formatdesignerseite"></p>
</li>
<li><p>Überprüfen Sie auf der Registerkarte <strong>Zuordnung</strong> die folgenden Details:</p>
<ul>
<li>Das Element <strong>Bericht\Nachricht\Header</strong> muss nicht an eine Quelle gebunden sein, um einen einzelnen Knoten in einem ausgehenden Dokument zu generieren.</li>
<li>Das <strong>ExecutionDateTime</strong>-Attribut generiert das Datum und die Uhrzeit (einschließlich Millisekunden), zu dem bzw. zu der der Header-Knoten hinzugefügt wird.</li>
<li>Das Element <strong>Bericht\Nachricht\Datensatz</strong> ist an die Liste <strong>model.Data.List</strong> gebunden, um einen einzelnen Datensatzknoten für jeden Datensatz aus der gebundenen Liste zu generieren.</li>
<li>Das <strong>TaxAmount</strong>-Attribut ist an <strong>model.Data.List.Value</strong> gebunden (wird als <strong>@.Value</strong> in der relativen Pfadansicht gezeigt), um den Steuerwert des aktuellen Steuerbuchung zu generieren.</li>
<li>Das <strong>RunningTotal</strong>-Attribut ist ein Platzhalter für die laufende Summe der Steuerwerte. Derzeit hat dieses Attribut keine Ausgabe, da für dieses Attribut weder eine Bindung noch ein Standardwert konfiguriert ist.</li>
<li>Das <strong>ExecutionDateTime</strong>-Attribut generiert das Datum und die Uhrzeit (einschließlich Millisekunden), zu dem bzw. zu der die aktuelle Transaktion in diesem Bericht verarbeitet wird.</li>
<li>Das <strong>Bericht\Nachricht\Zusammenfassung</strong>-Element muss nicht an eine Datenquelle gebunden sein, um einen einzelnen Knoten in einem ausgehenden Dokument zu generieren.</li>
<li>Das <strong>TotalTaxAmount</strong>-Attribut ist an <strong>model.Data.Summary.Total</strong> gebunden, um die Summe der Steuerwerte der verarbeiteten Steuerbuchungen zu generieren.</li>
<li>Das <strong>ExecutionDateTime</strong>-Attribut generiert das Datum und die Uhrzeit (einschließlich Millisekunden), zu dem bzw. zu der der Zusammenfassungsknoten hinzugefügt wird.</li>
</ul>
<p><img src="media/ER-DeferredXml-Format2.png" alt="Registerkarte „Zuordnung“ auf der Formatdesignerseite"></p>
</li>
</ol>
<h3 id="run-the-imported-format">Importiertes Format ausführen</h3>
<ol>
<li><p>Wählen Sie auf der Seite <strong>Formatdesigner</strong> die Option <strong>Ausführen</strong> aus.</p>
</li>
<li><p>Laden Sie die vom Webbrowser angebotene Datei herunter und öffnen Sie sie zur Überprüfung.</p>
<p><img src="media/ER-DeferredXml-Run.png" alt="Heruntergeladene Datei"></p>
</li>
</ol>
<p>Beachten Sie, dass der Zusammenfassungsknoten die Summe der Steuerwerte für die verarbeiteten Transaktionen anzeigt. Weil das Format für die Verwendung der <strong>model.Data.Summary.Total</strong>-Bindung zum Zurückgeben der Summe konfiguriert ist, wird die Summe berechnet, indem die <strong>TotalSum</strong>-Aggregation der Datenquelle <strong>Gruppiert</strong> vom <em>GroupBy</em>-Typ in der Modellzuordnung aufgerufen wird. Um diese Aggregation zu berechnen, durchläuft die Modellzuordnung alle Transaktionen, die in der Datenquelle <strong>Gefiltert</strong> ausgewählt wurden. Durch Vergleichen der Ausführungszeiten des Zusammenfassungsknotens und des letzten Datensatzknotens können Sie feststellen, dass die Berechnung der Summe 12 Millisekunden (ms) gedauert hat. Durch Vergleichen der Ausführungszeiten des ersten und des letzten Datensatzknotens können Sie feststellen, dass die Generierung aller Datensatzknoten 9 ms gedauert hat. Daher waren insgesamt 21 ms erforderlich.</p>
<h3 id="modify-the-format-so-that-the-calculation-is-based-on-generated-output">Ändern des Formats, sodass die Berechnung auf der generierten Ausgabe basiert</h3>
<p>Wenn das Transaktionsvolumen viel größer als das Volumen im aktuellen Beispiel ist, kann sich die Berechnungszeit verlängern und Leistungsprobleme verursachen. Indem Sie die Einstellung des Formats ändern, können Sie diese Leistungsprobleme vermeiden. Da Sie auf Steuerwerte zugreifen, um diese in den generierten Bericht aufzunehmen, können Sie diese Informationen zur Berechnung von Steuerwerten wiederverwenden. Weitere Informationen finden Sie unter <a href="tasks/er-format-counting-summing-1.html">Konfigurieren des Formats für Inventuren und Summierungen</a>.</p>
<ol>
<li><p>Wählen Sie auf der Seite <strong>Formatdesigner</strong> auf der Registerkarte <strong>Format</strong> das Dateielement <strong>Bericht</strong> in der Formatierungsstruktur aus.</p>
</li>
<li><p>Legen Sie die Option <strong>Ausgabendetails sammeln</strong> auf <strong>Ja</strong> fest. Sie können dieses Format jetzt konfigurieren, indem Sie den Inhalt eines generierten Berichts als Datenquelle verwenden, auf die mit den integrierten ER-Funktionen der Kategorie <a href="er-functions-category-data-collection.html">Datensammlung</a> zugegriffen werden kann.</p>
</li>
<li><p>Wählen Sie auf der Registerkarte <strong>Zuordnung</strong> das XML-Dokument <strong>Bericht\Nachricht\Datensatz</strong> aus.</p>
</li>
<li><p>Konfigurieren Sie den Ausdruck <strong>Gesammelter Datenschlüsselname</strong> als <code>WsColumn</code>.</p>
</li>
<li><p>Konfigurieren Sie den Ausdruck <strong>Gesammelter Datenschlüsselwert</strong> als <code>WsRow</code>.</p>
<p><img src="media/ER-DeferredXml-Format3.png" alt="Datensatz- XML-Element auf der Formatdesigner-Seite"></p>
</li>
<li><p>Wählen Sie das Attribut <strong>Bericht\Nachricht\Datensatz\TaxAmount</strong> aus.</p>
</li>
<li><p>Konfigurieren Sie den Ausdruck <strong>Gesammelter Datenschlüsselname</strong> als <code>SummingAmountKey</code>.</p>
<p><img src="media/ER-DeferredXml-Format4.png" alt="TaxAmount-Attribut auf der Formatdesigner-Seite"></p>
<p>Sie können diese Einstellung als Erfüllung eines virtuellen Arbeitsblatts betrachten, bei dem der Wert der Zelle A1 durch den Wert des Steuerbetrags aus jeder verarbeiteten Steuerbuchung ergänzt wird.</p>
</li>
<li><p>Wählen Sie das <strong>Bericht\Nachricht\Datensatz\RunningTotal</strong>-Attribut und dann <strong>Formel bearbeiten</strong> aus.</p>
</li>
<li><p>Konfigurieren Sie den <code>SUMIF(SummingAmountKey, WsColumn, WsRow)</code>-Ausdruck durch Verwendung der integrierten <a href="er-functions-datacollection-sumif.html">SUMIF</a>-ER-Funktion und wählen Sie dann <strong>Speichern</strong> aus.</p>
<p><img src="media/ER-DeferredXml-FormulaDesigner.png" alt="SUMIF-Ausdruck"></p>
</li>
<li><p>Schließen Sie die Seite <strong>Formeldesigner</strong>.</p>
</li>
<li><p>Wählen Sie <strong>Speichern</strong> und dann <strong>Ausführen</strong> aus.</p>
</li>
<li><p>Laden Sie die vom Webbrowser angebotene Datei herunter und öffnen Sie sie zur Überprüfung.</p>
<p><img src="media/ER-DeferredXml-Run1.png" alt="Heruntergeladene Datei"></p>
<p>Der letzte Datensatzknoten enthält die laufende Summe der Steuerwerte, die für alle verarbeiteten Transaktionen unter Verwendung der generierten Ausgabe als Datenquelle berechnet werden. Diese Datenquelle beginnt am Anfang des Berichts und geht bis zur letzten Steuerbuchung. Der Zusammenfassungsknoten enthält die Summe der Steuerwerte für alle verarbeiteten Transaktionen, die in der Modellzuordnung unter Verwendung der Datenquelle des Typs <em>GroupBy</em> berechnet werden. Beachten Sie, dass diese Werte gleich sind. Daher kann die ausgabenbasierte Summierung anstelle von <strong>GroupBy</strong> verwendet werden. Durch Vergleichen der Ausführungszeiten des ersten Datensatzknotens und des Zusammenfassungsknotens können Sie feststellen, dass die Generierung aller Datensatzknoten und das Summieren11 ms gedauert hat. Daher ist das geänderte Format hinsichtlich der Erzeugung von Datensatzknoten und der Summierung von Steuerwerten ungefähr zweimal schneller als das ursprüngliche Format.</p>
</li>
<li><p>Wählen Sie das <strong>Bericht\Nachricht\Zusammenfassung\TotalTayAmount</strong>-Attribut und dann <strong>Formel bearbeiten</strong> aus.</p>
</li>
<li><p>Geben Sie den Ausdruck <code>SUMIF(SummingAmountKey, WsColumn, WsRow)</code> anstelle des vorhandenen Ausdrucks ein.</p>
</li>
<li><p>Wählen Sie <strong>Speichern</strong> und dann <strong>Ausführen</strong> aus.</p>
</li>
<li><p>Laden Sie die vom Webbrowser angebotene Datei herunter und öffnen Sie sie zur Überprüfung.</p>
<p><img src="media/ER-DeferredXml-Run2.png" alt="Heruntergeladene Datei"></p>
<p>Beachten Sie, dass die laufende Summe der Steuerwerte im letzten Datensatzknoten jetzt der Summe im Zusammenfassungsknoten entspricht.</p>
</li>
</ol>
<h3 id="put-values-of-output-based-summing-in-the-report-header">Ausgabenbasierte Summierungswerte im Berichtskopf angeben</h3>
<p>Wenn Sie beispielsweise die Summe der Steuerwerte in der Kopfzeile Ihres Berichts angeben müssen, können Sie Ihr Format ändern.</p>
<ol>
<li><p>Wählen Sie auf der Seite <strong>Formatdesigner</strong> auf der Registerkarte <strong>Format</strong> das XML-Element <strong>Bericht\Nachricht\Zusammenfassung</strong> aus.</p>
</li>
<li><p>Wählen Sie <strong>Nach oben</strong>.</p>
</li>
<li><p>Wählen Sie <strong>Speichern</strong> und dann <strong>Ausführen</strong> aus.</p>
</li>
<li><p>Laden Sie die vom Webbrowser angebotene Datei herunter und öffnen Sie sie zur Überprüfung.</p>
<p><img src="media/ER-DeferredXml-Run3.png" alt="Heruntergeladene Datei"></p>
<p>Beachten Sie, dass die Summe der Steuerwerte im Zusammenfassungsknoten jetzt gleich 0 (Null) ist, da diese Summe jetzt auf der Grundlage der generierten Ausgabe berechnet wird. Wenn der erste Datensatzknoten generiert wird, enthält die generierte Ausgabe noch keine Datensatzknoten mit Transaktionsdetails. Sie können dieses Format so konfigurieren, dass die Ausführung des Elements <strong>Bericht\Nachricht\Zusammenfassung</strong> verzögert wird, bis das Element <strong>Bericht\Nachricht\Datensatz</strong> für alle Steuerbuchungen ausgeführt wurde.</p>
</li>
</ol>
<h3 id="defer-the-execution-of-the-summary-xml-element-so-that-the-calculated-total-is-used">Verzögern der Ausführung des XML-Elements „Zusammenfassung“, sodass die berechnete Gesamtsumme verwendet wird</h3>
<ol>
<li><p>Wählen Sie auf der Seite <strong>Formatdesigner</strong> auf der Registerkarte <strong>Format</strong> das XML-Element <strong>Bericht\Nachricht\Zusammenfassung</strong> aus.</p>
</li>
<li><p>Legen Sie die Option <strong>Verzögerte Ausführung</strong> auf <strong>Ja</strong> fest.</p>
<p><img src="media/ER-DeferredXml-Format5.png" alt="Option für die verzögerte Ausführung des XML-Elements „Zusammenfassung“ auf der Seite „Formatdesigner“"></p>
</li>
<li><p>Wählen Sie <strong>Speichern</strong> und dann <strong>Ausführen</strong> aus.</p>
</li>
<li><p>Laden Sie die vom Webbrowser angebotene Datei herunter und öffnen Sie sie zur Überprüfung.</p>
<p><img src="media/ER-DeferredXml-Run4.png" alt="Heruntergeladene Datei"></p>
<p>Das Element <strong>Bericht\Nachricht\Zusammenfassung</strong> wird jetzt nur dann ausgeführt, wenn alle Elemente unter dem übergeordneten Element, <strong>Bericht\Nachricht</strong>, bereits ausgeführt wurden. Deshalb wird es nach Ausführung des Elements <strong>Bericht\Nachricht\Datensatz</strong> für alle Steuerbuchungen der Datenquelle <strong>model.Data.List</strong> ausgeführt. Die Ausführungszeiten des ersten und des letzten Datensatzknotens sowie die der Header- und Zusammenfassungs-Knoten machen diesen Fakt deutlich.</p>
</li>
</ol>
<h2 id="additional-resources">Zusätzliche Ressourcen</h2>
<ul>
<li><a href="tasks/er-format-counting-summing-1.html">Konfigurieren des Formats für Inventuren und Summierungen</a></li>
<li><a href="trace-execution-er-troubleshoot-perf.html">Ausführung des EB-Formats nachverfolgen, um Leistungsprobleme zu behandeln</a></li>
<li><a href="er-defer-sequence-element.html#Example">Verzögern der Ausführung von Sequenz-Elementen in ER-Formaten</a></li>
</ul>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
  </body>
</html>
